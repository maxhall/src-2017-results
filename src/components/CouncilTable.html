<table>
  <thead>
    <th>Candidate</th>
    <th>Faction</th>
    <th>Ticket</th>
    <th>Votes</th>
    <th>Elected</th>
  </thead>
  {{#each councilTableData as row }}
    <tr>
        <td class="candidate-name" style="background-color:{{row.factionColor}};">{{row.candidate}}</td>
        <td>{{row.faction}}</td>
        <td>{{row.ticket}}</td>
        <td>{{row.votes}}</td>
        <td>{{row.elected}}</td>
    </tr>
  {{/each}}
</table>

<style>
  table {
    width: 100%;
  }
</style>
<script>
  export default {
    data () {
      return {
      }
    },
    computed: {
      councilTableData: collatedResults => {
        const colourAugmentedRowArray = collatedResults.council.map((object) => {
          const augmentedCandidate = object;
          if ('1'===augmentedCandidate.elected) {
            const candidateFactionColor = collatedResults.colors[object.faction];
            augmentedCandidate['factionColor'] = candidateFactionColor;
          } else {
            const candidateFactionColor = '';
            augmentedCandidate['factionColor'] = candidateFactionColor;
          };
          return augmentedCandidate;
        });
        console.log(colourAugmentedRowArray);
        return colourAugmentedRowArray;
      },
    },
  }
</script>
