!function(){"use strict";function t(){}function e(t){for(var e,n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(e in n)t[e]=n[e]}return t}function n(t,e){e.appendChild(t)}function r(t,e,n){e.insertBefore(t,n)}function s(t){t.parentNode.removeChild(t)}function i(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function o(t,e,n){for(var r=n;r<t.length;r+=1)t[r]&&t[r].destroy(e)}function a(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function l(t){return document.createTextNode(t)}function c(){return document.createComment("")}function u(t,e,n){t.addEventListener(e,n,!1)}function f(t,e,n){t.removeEventListener(e,n,!1)}function d(t,e,n){t.setAttribute(e,n)}function p(t){return t}function g(t,e,n,r,s,i){for(var o="{\n",a=0;a<=1;a+=16.666/r)o+=100*a+"%{"+i(t+n*s(a))+"}\n";return o+"100% {"+i(e)+"}\n}"}function m(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function _(t,e,n,r,s,i){var o,h=n(e,r),l=h.duration||300,c=h.easing||p;if(h.css&&!Ha.stylesheet){var u=a("style");document.head.appendChild(u),Ha.stylesheet=u.sheet}return s&&(h.css&&h.delay&&(o=e.style.cssText,e.style.cssText+=h.css(0)),h.tick&&h.tick(0)),{t:s?0:1,running:!1,program:null,pending:null,run:function(t,e){var n={start:window.performance.now()+(h.delay||0),intro:t,callback:e};h.delay?this.pending=n:this.start(n),this.running||(this.running=!0,Ha.add(this))},start:function(n){t.fire(n.intro?"intro.start":"outro.start",{node:e}),n.a=this.t,n.b=n.intro?1:0,n.delta=n.b-n.a,n.duration=l*Math.abs(n.b-n.a),n.end=n.start+n.duration,h.css&&(h.delay&&(e.style.cssText=o),n.rule=g(n.a,n.b,n.delta,n.duration,c,h.css),Ha.addRule(n.rule,n.name="__svelte_"+m(n.rule)),e.style.animation=(e.style.animation||"").split(", ").filter(function(t){return t&&(n.delta<0||!/__svelte/.test(t))}).concat(n.name+" "+l+"ms linear 1 forwards").join(", ")),this.program=n,this.pending=null},update:function(t){var e=this.program;if(e){var n=t-e.start;this.t=e.a+e.delta*c(n/e.duration),h.tick&&h.tick(this.t)}},done:function(){var t=this.program;this.t=t.b,h.tick&&h.tick(this.t),h.css&&Ha.deleteRule(e,t.name),t.callback(),t=null,this.running=!!this.pending},abort:function(){h.tick&&h.tick(1),h.css&&Ha.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1}}}function y(t,e){return t!==e||t&&"object"==typeof t||"function"==typeof t}function v(t,e,n,r){for(var s in e)if(s in n){var i=n[s],o=r[s];if(y(i,o)){var a=e[s];if(!a)continue;for(var h=0;h<a.length;h+=1){var l=a[h];l.__calling||(l.__calling=!0,l.call(t,i,o),l.__calling=!1)}}}}function b(t){for(;t&&t.length;)t.pop()()}function w(t){d(t,"svelte-218228418","")}function k(t,e){var i,o,c,u,f,p,g,m,_,y,v,b,k,E,x,T,R,S,A,O,C,N,D,L,M,P,B,I,j,z,U,H,F,q,Z,W,V,Y,G,$,X,K,J;return{create:function(){i=a("div"),o=h("svg"),c=h("path"),u=h("path"),f=h("path"),p=h("path"),g=h("path"),m=h("path"),_=h("path"),y=h("path"),v=h("path"),b=h("path"),k=h("path"),E=h("path"),x=h("path"),T=h("path"),R=h("path"),S=h("path"),A=h("path"),O=h("path"),C=h("path"),N=h("path"),D=h("path"),L=h("path"),M=h("path"),P=h("path"),B=h("path"),I=h("path"),j=h("path"),z=h("path"),U=h("path"),H=h("path"),F=h("path"),q=h("path"),Z=h("path"),W=l("\n"),V=a("span"),G=l(Y=t.councillorsElected),$=l("/33 councillors elected. "),K=l(X=100*t.councilTurnout),J=l("% turnout"),this.hydrate()},hydrate:function(t){w(i),d(o,"xmlns","http://www.w3.org/2000/svg"),d(o,"id","Layer_1"),d(o,"viewBox","0 0 1000 914.3"),d(c,"d","M0 793h121.4v121.3H0z"),d(c,"id","seat-1"),d(u,"d","M146.4 793h121.4v121.3H146.4z"),d(u,"id","seat-2"),d(f,"d","M293 793h121.3v121.3H293z"),d(f,"id","seat-3"),d(p,"d","M0 646.4h121.4v121.4H0z"),d(p,"id","seat-4"),d(g,"d","M146.4 646.4h121.4v121.4H146.4z"),d(g,"id","seat-5"),d(m,"d","M293 646.4h121.3v121.4H293z"),d(m,"id","seat-6"),d(_,"d","M0 500h121.4v121.4H0z"),d(_,"id","seat-7"),d(y,"d","M146.4 500h121.4v121.4H146.4z"),d(y,"id","seat-8"),d(v,"d","M293 500h121.3v121.4H293z"),d(v,"id","seat-9"),d(b,"d","M0 353.6h121.4V475H0z"),d(b,"id","seat-10"),d(k,"d","M146.4 353.6h121.4V475H146.4z"),d(k,"id","seat-11"),d(E,"d","M293 353.6h121.3V475H293z"),d(E,"id","seat-12"),d(x,"d","M146.4 207h121.4v121.5H146.4z"),d(x,"id","seat-13"),d(T,"d","M293 207h121.3v121.5H293z"),d(T,"id","seat-14"),d(R,"d","M146.4 60.7h121.4V182H146.4z"),d(R,"id","seat-15"),d(S,"d","M293 60.7h121.3V182H293z"),d(S,"id","seat-16"),d(A,"d","M439.3 0h121.4v121.4H439.3z"),d(A,"id","seat-17"),d(O,"d","M585.7 60.7H707V182H585.8z"),d(O,"id","seat-18"),d(C,"d","M585.7 793H707v121.3H585.8z"),d(C,"id","seat-31"),d(N,"d","M732 793h121.5v121.3H732z"),d(N,"id","seat-32"),d(D,"d","M585.7 646.4H707v121.4H585.8z"),d(D,"id","seat-28"),d(L,"d","M585.7 500H707v121.4H585.8z"),d(L,"id","seat-25"),d(M,"d","M585.7 353.6H707V475H585.8z"),d(M,"id","seat-22"),d(P,"d","M585.7 207H707v121.5H585.8z"),d(P,"id","seat-20"),d(B,"d","M732 646.4h121.5v121.4H732z"),d(B,"id","seat-29"),d(I,"d","M732 500h121.5v121.4H732z"),d(I,"id","seat-26"),d(j,"d","M732 353.6h121.5V475H732z"),d(j,"id","seat-23"),d(z,"d","M732 207h121.5v121.5H732z"),d(z,"id","seat-21"),d(U,"d","M732 60.7h121.5V182H732z"),d(U,"id","seat-19"),d(H,"d","M878.6 793H1000v121.3H878.6z"),d(H,"id","seat-33"),d(F,"d","M878.6 646.4H1000v121.4H878.6z"),d(F,"id","seat-30"),d(q,"d","M878.6 500H1000v121.4H878.6z"),d(q,"id","seat-27"),d(Z,"d","M878.6 353.6H1000V475H878.6z"),d(Z,"id","seat-24"),V.className="turnout"},mount:function(t,s){r(i,t,s),n(o,i),n(c,o),e.refs.seat1=c,n(u,o),e.refs.seat2=u,n(f,o),e.refs.seat3=f,n(p,o),e.refs.seat4=p,n(g,o),e.refs.seat5=g,n(m,o),e.refs.seat6=m,n(_,o),e.refs.seat7=_,n(y,o),e.refs.seat8=y,n(v,o),e.refs.seat9=v,n(b,o),e.refs.seat10=b,n(k,o),e.refs.seat11=k,n(E,o),e.refs.seat12=E,n(x,o),e.refs.seat13=x,n(T,o),e.refs.seat14=T,n(R,o),e.refs.seat15=R,n(S,o),e.refs.seat16=S,n(A,o),e.refs.seat17=A,n(O,o),e.refs.seat18=O,n(C,o),e.refs.seat31=C,n(N,o),e.refs.seat32=N,n(D,o),e.refs.seat28=D,n(L,o),e.refs.seat25=L,n(M,o),e.refs.seat22=M,n(P,o),e.refs.seat20=P,n(B,o),e.refs.seat29=B,n(I,o),e.refs.seat26=I,n(j,o),e.refs.seat23=j,n(z,o),e.refs.seat21=z,n(U,o),e.refs.seat19=U,n(H,o),e.refs.seat33=H,n(F,o),e.refs.seat30=F,n(q,o),e.refs.seat27=q,n(Z,o),e.refs.seat24=Z,r(W,t,s),r(V,t,s),n(G,V),n($,V),n(K,V),n(J,V)},update:function(t,e){Y!==(Y=e.councillorsElected)&&(G.data=Y),X!==(X=100*e.councilTurnout)&&(K.data=X)},unmount:function(){s(i),s(W),s(V)},destroy:function(){e.refs.seat1===c&&(e.refs.seat1=null),e.refs.seat2===u&&(e.refs.seat2=null),e.refs.seat3===f&&(e.refs.seat3=null),e.refs.seat4===p&&(e.refs.seat4=null),e.refs.seat5===g&&(e.refs.seat5=null),e.refs.seat6===m&&(e.refs.seat6=null),e.refs.seat7===_&&(e.refs.seat7=null),e.refs.seat8===y&&(e.refs.seat8=null),e.refs.seat9===v&&(e.refs.seat9=null),e.refs.seat10===b&&(e.refs.seat10=null),e.refs.seat11===k&&(e.refs.seat11=null),e.refs.seat12===E&&(e.refs.seat12=null),e.refs.seat13===x&&(e.refs.seat13=null),e.refs.seat14===T&&(e.refs.seat14=null),e.refs.seat15===R&&(e.refs.seat15=null),e.refs.seat16===S&&(e.refs.seat16=null),e.refs.seat17===A&&(e.refs.seat17=null),e.refs.seat18===O&&(e.refs.seat18=null),e.refs.seat31===C&&(e.refs.seat31=null),e.refs.seat32===N&&(e.refs.seat32=null),e.refs.seat28===D&&(e.refs.seat28=null),e.refs.seat25===L&&(e.refs.seat25=null),e.refs.seat22===M&&(e.refs.seat22=null),e.refs.seat20===P&&(e.refs.seat20=null),e.refs.seat29===B&&(e.refs.seat29=null),e.refs.seat26===I&&(e.refs.seat26=null),e.refs.seat23===j&&(e.refs.seat23=null),e.refs.seat21===z&&(e.refs.seat21=null),e.refs.seat19===U&&(e.refs.seat19=null),e.refs.seat33===H&&(e.refs.seat33=null),e.refs.seat30===F&&(e.refs.seat30=null),e.refs.seat27===q&&(e.refs.seat27=null),e.refs.seat24===Z&&(e.refs.seat24=null)}}}function E(t){t=t||{},this.refs={},this._state=t.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1;var e=qa.oncreate.bind(this);t._root?this._root._oncreate.push(e):this._oncreate=[e],this._fragment=k(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||b(this._oncreate)}function x(t,e,n,r){(r||"collatedResults"in e&&y(t.collatedResults,n.collatedResults))&&(t.councilTableData=e.councilTableData=Za.computed.councilTableData(t.collatedResults))}function T(t){d(t,"svelte-1458062172","")}function R(t,e){for(var i,h,c,u,f,d,p,g,m,_,y,v,b,w,k,E,x,R=t.councilTableData,A=[],O=0;O<R.length;O+=1)A[O]=S(t,R,R[O],O,e);return{create:function(){i=a("table"),h=a("thead"),c=a("th"),u=l("Candidate"),f=l("\n    "),d=a("th"),p=l("Faction"),g=l("\n    "),m=a("th"),_=l("Ticket"),y=l("\n    "),v=a("th"),b=l("Votes"),w=l("\n    "),k=a("th"),E=l("Elected"),x=l("\n  ");for(var t=0;t<A.length;t+=1)A[t].create();this.hydrate()},hydrate:function(t){T(i)},mount:function(t,e){r(i,t,e),n(h,i),n(c,h),n(u,c),n(f,h),n(d,h),n(p,d),n(g,h),n(m,h),n(_,m),n(y,h),n(v,h),n(b,v),n(w,h),n(k,h),n(E,k),n(x,i);for(var s=0;s<A.length;s+=1)A[s].mount(i,null)},update:function(t,n){var r=n.councilTableData;if("councilTableData"in t){for(var s=0;s<r.length;s+=1)A[s]?A[s].update(t,n,r,r[s],s):(A[s]=S(n,r,r[s],s,e),A[s].create(),A[s].mount(i,null));for(;s<A.length;s+=1)A[s].unmount(),A[s].destroy();A.length=r.length}},unmount:function(){s(i);for(var t=0;t<A.length;t+=1)A[t].unmount()},destroy:function(){o(A,!1,0)}}}function S(e,i,o,h,c){var u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A,O,C;return{create:function(){u=a("tr"),f=a("td"),p=l(d=o.candidate),g=l("\n        "),m=a("td"),y=l(_=o.faction),v=l("\n        "),b=a("td"),k=l(w=o.ticket),E=l("\n        "),x=a("td"),R=l(T=o.votes),S=l("\n        "),A=a("td"),C=l(O=o.elected)},mount:function(t,e){r(u,t,e),n(f,u),n(p,f),n(g,u),n(m,u),n(y,m),n(v,u),n(b,u),n(k,b),n(E,u),n(x,u),n(R,x),n(S,u),n(A,u),n(C,A)},update:function(t,e,n,r,s){d!==(d=r.candidate)&&(p.data=d),_!==(_=r.faction)&&(y.data=_),w!==(w=r.ticket)&&(k.data=w),T!==(T=r.votes)&&(R.data=T),O!==(O=r.elected)&&(C.data=O)},unmount:function(){s(u)},destroy:t}}function A(t){t=t||{},this._state=e(Za.data(),t.data),x(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,this._fragment=R(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function O(t,e){var n=e.delay;void 0===n&&(n=0);var r=e.duration;void 0===r&&(r=400);var s=+getComputedStyle(t).opacity;return{delay:n,duration:r,css:function(t){return"opacity: "+t*s}}}function C(t){var e=t-1;return e*e*e+1}function N(t,e){var n=e.delay;void 0===n&&(n=0);var r=e.duration;void 0===r&&(r=400);var s=e.easing;void 0===s&&(s=C);var i=getComputedStyle(t),o=+i.opacity,a=parseFloat(i.height),h=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),f=parseFloat(i.borderTopWidth),d=parseFloat(i.borderBottomWidth);return{delay:n,duration:r,easing:s,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*o+";height: "+t*a+"px;padding-top: "+t*h+"px;padding-bottom: "+t*l+"px;margin-top: "+t*c+"px;margin-bottom: "+t*u+"px;border-top-width: "+t*f+"px;border-bottom-width: "+t*d+"px;"}}}function D(t,e,n,r){(r||"collatedResults"in e&&y(t.collatedResults,n.collatedResults))&&(t.councilSeatArray=e.councilSeatArray=Wa.computed.councilSeatArray(t.collatedResults),t.councillorsElected=e.councillorsElected=Wa.computed.councillorsElected(t.collatedResults))}function L(t){d(t,"svelte-1139317400","")}function M(t,e){function o(t){var n=e.get();e.toggleTableDisplay(n.displayTable)}var h,c,d,p,g,m,_,y,v,b,w,k,x,T,R=new E({_root:e._root,data:{councilSeatArray:t.councilSeatArray,councilTurnout:t.collatedResults.copy[0].councilturnout,councillorsElected:t.councillorsElected}}),S=t.displayTable&&P(t,e);return{create:function(){h=a("section"),c=a("h2"),d=l("Council"),p=l("\n\n  "),R._fragment.create(),g=l("\n\n  "),m=a("div"),y=a("noscript"),v=a("noscript"),b=l("\n\n  "),w=a("div"),k=a("span"),x=l("Full results"),T=l("\n  "),S&&S.create(),this.hydrate()},hydrate:function(t){L(h),m.className="analysis",w.className="toggle",u(w,"click",o)},mount:function(s,i){r(h,s,i),n(c,h),n(d,c),n(p,h),R._fragment.mount(h,null),n(g,h),n(m,h),n(y,m),n(v,m),y.insertAdjacentHTML("afterend",_=t.collatedResults.copy[0].councilanalysis),n(b,h),n(w,h),n(k,w),e.refs.toggleText=k,n(x,k),n(T,h),S&&S.intro(h,null)},update:function(t,n){var r={};"councilSeatArray"in t&&(r.councilSeatArray=n.councilSeatArray),"collatedResults"in t&&(r.councilTurnout=n.collatedResults.copy[0].councilturnout),"councillorsElected"in t&&(r.councillorsElected=n.councillorsElected),Object.keys(r).length&&R._set(r),_!==(_=n.collatedResults.copy[0].councilanalysis)&&(i(y,v),y.insertAdjacentHTML("afterend",_=n.collatedResults.copy[0].councilanalysis)),n.displayTable?(S?S.update(t,n):(S=P(n,e))&&S.create(),S.intro(h,null)):S&&S.outro(function(){S.unmount(),S.destroy(),S=null})},unmount:function(){i(y,v),s(h),S&&S.unmount()},destroy:function(){R.destroy(!1),f(w,"click",o),e.refs.toggleText===k&&(e.refs.toggleText=null),S&&S.destroy()}}}function P(t,e){var n,i,o,h,l=new A({_root:e._root,data:{collatedResults:t.collatedResults}});return{create:function(){n=a("div"),l._fragment.create()},mount:function(t,e){r(n,t,e),l._fragment.mount(n,null)},update:function(t,e){var n={};"collatedResults"in t&&(n.collatedResults=e.collatedResults),Object.keys(n).length&&l._set(n)},intro:function(t,r){o||(o=!0,h=!1,e._root._aftercreate.push(function(){i||(i=_(e,n,Wa.transitions.slide,{},!0,null)),i.run(!0,function(){e.fire("intro.end",{node:n})})}),this.mount(t,r))},outro:function(t){if(!h){h=!0,o=!1;var r=1;i.run(!1,function(){e.fire("outro.end",{node:n}),0==--r&&t(),i=null})}},unmount:function(){s(n)},destroy:function(){l.destroy(!1)}}}function B(t){t=t||{},this.refs={},this._state=e(Wa.data(),t.data),D(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,t._root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=M(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||(this._lock=!0,b(this._beforecreate),b(this._oncreate),b(this._aftercreate),this._lock=!1)}function I(t){d(t,"svelte-3506469043","")}function j(t,e){var i,o,c,u,f,p,g,m,_,y,v,b,w,k,E,x,T;return{create:function(){i=a("div"),o=h("svg"),c=h("path"),u=h("path"),f=h("path"),p=h("path"),g=h("path"),m=h("path"),_=h("path"),y=l("\n"),v=a("span"),w=l(b=t.numberOfElectedDelegates),k=l("/7 delegates elected. "),x=l(E=100*t.nusTurnout),T=l("% turnout"),this.hydrate()},hydrate:function(t){I(i),d(o,"xmlns","http://www.w3.org/2000/svg"),d(o,"id","Layer_1"),d(o,"viewBox","0 0 1000 121.4"),d(c,"d","M878.5 0h121.4v121.4H878.5z"),d(c,"class","seat-7"),d(u,"d","M732.1 0h121.4v121.4H732.1z"),d(u,"class","seat-6"),d(f,"d","M585.7 0h121.4v121.4H585.7z"),d(f,"class","seat-5"),d(p,"d","M439.3 0h121.4v121.4H439.3z"),d(p,"class","seat-4"),d(g,"d","M292.8 0h121.4v121.4H292.8z"),d(g,"class","seat-3"),d(m,"d","M146.4 0h121.4v121.4H146.4z"),d(m,"class","seat-2"),d(_,"d","M0 0h121.4v121.4H0z"),d(_,"class","seat-1"),v.className="turnout"},mount:function(t,s){r(i,t,s),n(o,i),n(c,o),e.refs.seat7=c,n(u,o),e.refs.seat6=u,n(f,o),e.refs.seat5=f,n(p,o),e.refs.seat4=p,n(g,o),e.refs.seat3=g,n(m,o),e.refs.seat2=m,n(_,o),e.refs.seat1=_,r(y,t,s),r(v,t,s),n(w,v),n(k,v),n(x,v),n(T,v)},update:function(t,e){b!==(b=e.numberOfElectedDelegates)&&(w.data=b),E!==(E=100*e.nusTurnout)&&(x.data=E)},unmount:function(){s(i),s(y),s(v)},destroy:function(){e.refs.seat7===c&&(e.refs.seat7=null),e.refs.seat6===u&&(e.refs.seat6=null),e.refs.seat5===f&&(e.refs.seat5=null),e.refs.seat4===p&&(e.refs.seat4=null),e.refs.seat3===g&&(e.refs.seat3=null),e.refs.seat2===m&&(e.refs.seat2=null),e.refs.seat1===_&&(e.refs.seat1=null)}}}function z(t){t=t||{},this.refs={},this._state=t.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1;var e=Va.oncreate.bind(this);t._root?this._root._oncreate.push(e):this._oncreate=[e],this._fragment=j(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||b(this._oncreate)}function U(t,e,n,r){(r||"collatedResults"in e&&y(t.collatedResults,n.collatedResults))&&(t.nusTableData=e.nusTableData=Ya.computed.nusTableData(t.collatedResults))}function H(t){d(t,"svelte-3060180359","")}function F(t,e){for(var i,h,c,u,f,d,p,g,m,_,y,v,b,w,k,E,x,T=t.nusTableData,R=[],S=0;S<T.length;S+=1)R[S]=q(t,T,T[S],S,e);return{create:function(){i=a("table"),h=a("thead"),c=a("th"),u=l("Candidate"),f=l("\n    "),d=a("th"),p=l("Faction"),g=l("\n    "),m=a("th"),_=l("Ticket"),y=l("\n    "),v=a("th"),b=l("Votes"),w=l("\n    "),k=a("th"),E=l("Elected"),x=l("\n  ");for(var t=0;t<R.length;t+=1)R[t].create();this.hydrate()},hydrate:function(t){H(i)},mount:function(t,e){r(i,t,e),n(h,i),n(c,h),n(u,c),n(f,h),n(d,h),n(p,d),n(g,h),n(m,h),n(_,m),n(y,h),n(v,h),n(b,v),n(w,h),n(k,h),n(E,k),n(x,i);for(var s=0;s<R.length;s+=1)R[s].mount(i,null)},update:function(t,n){var r=n.nusTableData;if("nusTableData"in t){for(var s=0;s<r.length;s+=1)R[s]?R[s].update(t,n,r,r[s],s):(R[s]=q(n,r,r[s],s,e),R[s].create(),R[s].mount(i,null));for(;s<R.length;s+=1)R[s].unmount(),R[s].destroy();R.length=r.length}},unmount:function(){s(i);for(var t=0;t<R.length;t+=1)R[t].unmount()},destroy:function(){o(R,!1,0)}}}function q(e,i,o,h,c){var u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A,O,C;return{create:function(){u=a("tr"),f=a("td"),p=l(d=o.candidate),g=l("\n        "),m=a("td"),y=l(_=o.faction),v=l("\n        "),b=a("td"),k=l(w=o.ticket),E=l("\n        "),x=a("td"),R=l(T=o.votes),S=l("\n        "),A=a("td"),C=l(O=o.elected)},mount:function(t,e){r(u,t,e),n(f,u),n(p,f),n(g,u),n(m,u),n(y,m),n(v,u),n(b,u),n(k,b),n(E,u),n(x,u),n(R,x),n(S,u),n(A,u),n(C,A)},update:function(t,e,n,r,s){d!==(d=r.candidate)&&(p.data=d),_!==(_=r.faction)&&(y.data=_),w!==(w=r.ticket)&&(k.data=w),T!==(T=r.votes)&&(R.data=T),O!==(O=r.elected)&&(C.data=O)},unmount:function(){s(u)},destroy:t}}function Z(t){t=t||{},this._state=e(Ya.data(),t.data),U(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,this._fragment=F(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function W(t,e,n,r){(r||"collatedResults"in e&&y(t.collatedResults,n.collatedResults))&&(t.tableData=e.tableData=Ga.computed.tableData(t.collatedResults),t.electedDelegates=e.electedDelegates=Ga.computed.electedDelegates(t.collatedResults)),(r||"electedDelegates"in e&&y(t.electedDelegates,n.electedDelegates))&&(t.numberOfElectedDelegates=e.numberOfElectedDelegates=Ga.computed.numberOfElectedDelegates(t.electedDelegates)),(r||"collatedResults"in e&&y(t.collatedResults,n.collatedResults)||"electedDelegates"in e&&y(t.electedDelegates,n.electedDelegates))&&(t.nusSeatArray=e.nusSeatArray=Ga.computed.nusSeatArray(t.collatedResults,t.electedDelegates))}function V(t){d(t,"svelte-535494263","")}function Y(t,e){function o(t){var n=e.get();e.toggleTableDisplay(n.displayTable)}var h,c,d,p,g,m,_,y,v,b,w,k,E,x,T=new z({_root:e._root,data:{nusSeatArray:t.nusSeatArray,nusTurnout:t.collatedResults.copy[0].nusturnout,numberOfElectedDelegates:t.numberOfElectedDelegates}}),R=t.displayTable&&G(t,e);return{create:function(){h=a("section"),c=a("h2"),d=l("NUS"),p=l("\n\n  "),T._fragment.create(),g=l("\n\n  "),m=a("div"),y=a("noscript"),v=a("noscript"),b=l("\n\n  "),w=a("div"),k=a("span"),E=l("Full results"),x=l("\n  "),R&&R.create(),this.hydrate()},hydrate:function(t){V(h),m.className="analysis",w.className="toggle",u(w,"click",o)},mount:function(s,i){r(h,s,i),n(c,h),n(d,c),n(p,h),T._fragment.mount(h,null),n(g,h),n(m,h),n(y,m),n(v,m),y.insertAdjacentHTML("afterend",_=t.collatedResults.copy[0].nusanalysis),n(b,h),n(w,h),n(k,w),e.refs.toggleText=k,n(E,k),n(x,h),R&&R.intro(h,null)},update:function(t,n){var r={};"nusSeatArray"in t&&(r.nusSeatArray=n.nusSeatArray),"collatedResults"in t&&(r.nusTurnout=n.collatedResults.copy[0].nusturnout),"numberOfElectedDelegates"in t&&(r.numberOfElectedDelegates=n.numberOfElectedDelegates),Object.keys(r).length&&T._set(r),_!==(_=n.collatedResults.copy[0].nusanalysis)&&(i(y,v),y.insertAdjacentHTML("afterend",_=n.collatedResults.copy[0].nusanalysis)),n.displayTable?(R?R.update(t,n):(R=G(n,e))&&R.create(),R.intro(h,null)):R&&R.outro(function(){R.unmount(),R.destroy(),R=null})},unmount:function(){i(y,v),s(h),R&&R.unmount()},destroy:function(){T.destroy(!1),f(w,"click",o),e.refs.toggleText===k&&(e.refs.toggleText=null),R&&R.destroy()}}}function G(t,e){var n,i,o,h,l=new Z({_root:e._root,data:{collatedResults:t.collatedResults}});return{create:function(){n=a("div"),l._fragment.create()},mount:function(t,e){r(n,t,e),l._fragment.mount(n,null)},update:function(t,e){var n={};"collatedResults"in t&&(n.collatedResults=e.collatedResults),Object.keys(n).length&&l._set(n)},intro:function(t,r){o||(o=!0,h=!1,e._root._aftercreate.push(function(){i||(i=_(e,n,Ga.transitions.slide,{},!0,null)),i.run(!0,function(){e.fire("intro.end",{node:n})})}),this.mount(t,r))},outro:function(t){if(!h){h=!0,o=!1;var r=1;i.run(!1,function(){e.fire("outro.end",{node:n}),0==--r&&t(),i=null})}},unmount:function(){s(n)},destroy:function(){l.destroy(!1)}}}function $(t){t=t||{},this.refs={},this._state=e(Ga.data(),t.data),W(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,t._root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=Y(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||(this._lock=!0,b(this._beforecreate),b(this._oncreate),b(this._aftercreate),this._lock=!1)}function X(t,e,n,r){(r||"collatedResults"in e&&y(t.collatedResults,n.collatedResults))&&(t.presSummary=e.presSummary=$a.computed.presSummary(t.collatedResults))}function K(t){d(t,"svelte-3031497649","")}function J(t,e){for(var i,h,c,u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A,O,C,N,D,L,M=t.presSummary,P=[],B=0;B<M.length;B+=1)P[B]=Q(t,M,M[B],B,e);return{create:function(){i=a("div"),h=a("table"),c=a("thead"),u=a("th"),f=l("Candidate"),d=l("\n      "),p=a("th"),g=l("Faction"),m=l("\n      "),_=a("th"),y=l("Votes"),v=l("\n      "),b=a("th"),w=l("Pct."),k=l("\n    ");for(var e=0;e<P.length;e+=1)P[e].create();E=l("\n  "),x=a("span"),R=l(T=t.collatedResults.copy[0].presboothscounted),S=l("/"),O=l(A=t.collatedResults.copy[0].numberofbooths),C=l(" booths counted. "),D=l(N=100*t.collatedResults.copy[0].presturnout),L=l("% turnout"),this.hydrate()},hydrate:function(t){K(h),K(c),x.className="turnout"},mount:function(t,e){r(i,t,e),n(h,i),n(c,h),n(u,c),n(f,u),n(d,c),n(p,c),n(g,p),n(m,c),n(_,c),n(y,_),n(v,c),n(b,c),n(w,b),n(k,h);for(var s=0;s<P.length;s+=1)P[s].mount(h,null);n(E,i),n(x,i),n(R,x),n(S,x),n(O,x),n(C,x),n(D,x),n(L,x)},update:function(t,n){var r=n.presSummary;if("presSummary"in t){for(var s=0;s<r.length;s+=1)P[s]?P[s].update(t,n,r,r[s],s):(P[s]=Q(n,r,r[s],s,e),P[s].create(),P[s].mount(h,null));for(;s<P.length;s+=1)P[s].unmount(),P[s].destroy();P.length=r.length}T!==(T=n.collatedResults.copy[0].presboothscounted)&&(R.data=T),A!==(A=n.collatedResults.copy[0].numberofbooths)&&(O.data=A),N!==(N=100*n.collatedResults.copy[0].presturnout)&&(D.data=N)},unmount:function(){s(i);for(var t=0;t<P.length;t+=1)P[t].unmount()},destroy:function(){o(P,!1,0)}}}function Q(e,i,o,h,c){var u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A,O,C,N;return{create:function(){u=a("tr"),f=a("td"),p=l(d=o.candidate),g=l("\n        "),m=a("td"),y=l(_=o.faction),v=l("\n        "),b=a("td"),k=l(w=o.votes),E=l("\n        "),x=a("td"),R=l(T=o.percent),S=l("%"),A=l("\n        "),O=a("td"),C=a("span"),this.hydrate()},hydrate:function(t){K(f),f.className="candidate-name",K(O),O.className="bar-wrapper",K(C),C.className="bar",C.style.cssText=N="width: "+o.barPercentage+"%; background-color: "+o.color},mount:function(t,e){r(u,t,e),n(f,u),n(p,f),n(g,u),n(m,u),n(y,m),n(v,u),n(b,u),n(k,b),n(E,u),n(x,u),n(R,x),n(S,x),n(A,u),n(O,u),n(C,O)},update:function(t,e,n,r,s){d!==(d=r.candidate)&&(p.data=d),_!==(_=r.faction)&&(y.data=_),w!==(w=r.votes)&&(k.data=w),T!==(T=r.percent)&&(R.data=T),N!==(N="width: "+r.barPercentage+"%; background-color: "+r.color)&&(C.style.cssText=N)},unmount:function(){s(u)},destroy:t}}function tt(t){t=t||{},this._state=t.data||{},X(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,this._fragment=J(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function et(t,e,n,r){(r||"collatedResults"in e&&y(t.collatedResults,n.collatedResults))&&(t.presTableData=e.presTableData=Xa.computed.presTableData(t.collatedResults))}function nt(t){d(t,"svelte-3058748392","")}function rt(t,e){for(var i,h,c,u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A,O,C,N,D,L,M,P,B,I,j,z,U=t.presTableData,H=[],F=0;F<U.length;F+=1)H[F]=st(t,U,U[F],F,e);return{create:function(){i=a("table"),h=a("thead"),c=a("th"),u=l("Booth"),f=l("\n    "),d=a("th"),p=l("Grant"),g=l("\n    "),m=a("th"),_=l("%"),y=l("\n    "),v=a("th"),b=l("Pytka"),w=l("\n    "),k=a("th"),E=l("%"),x=l("\n    "),T=a("th"),R=l("Ma"),S=l("\n    "),A=a("th"),O=l("%"),C=l("\n    "),N=a("th"),D=l("Informal"),L=l("\n    "),M=a("th"),P=l("%"),B=l("\n    "),I=a("th"),j=l("Total"),z=l("\n  ");for(var t=0;t<H.length;t+=1)H[t].create();this.hydrate()},hydrate:function(t){nt(i)},mount:function(t,e){r(i,t,e),n(h,i),n(c,h),n(u,c),n(f,h),n(d,h),n(p,d),n(g,h),n(m,h),n(_,m),n(y,h),n(v,h),n(b,v),n(w,h),n(k,h),n(E,k),n(x,h),n(T,h),n(R,T),n(S,h),n(A,h),n(O,A),n(C,h),n(N,h),n(D,N),n(L,h),n(M,h),n(P,M),n(B,h),n(I,h),n(j,I),n(z,i);for(var s=0;s<H.length;s+=1)H[s].mount(i,null)},update:function(t,n){var r=n.presTableData;if("presTableData"in t){for(var s=0;s<r.length;s+=1)H[s]?H[s].update(t,n,r,r[s],s):(H[s]=st(n,r,r[s],s,e),H[s].create(),H[s].mount(i,null));for(;s<H.length;s+=1)H[s].unmount(),H[s].destroy();H.length=r.length}},unmount:function(){s(i);for(var t=0;t<H.length;t+=1)H[t].unmount()},destroy:function(){o(H,!1,0)}}}function st(e,i,o,h,c){var u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A,O,C,N,D,L,M,P,B,I,j,z,U,H,F,q,Z,W,V,Y,G,$,X;return{create:function(){u=a("tr"),f=a("td"),p=l(d=o.booth),g=l("\n        "),m=a("td"),y=l(_=o.grant),v=l("\n        "),b=a("td"),k=l(w=o.grantpercent),E=l("\n        "),x=a("td"),R=l(T=o.pytka),S=l("\n        "),A=a("td"),C=l(O=o.pytkapercent),N=l("\n        "),D=a("td"),M=l(L=o.ma),P=l("\n        "),B=a("td"),j=l(I=o.mapercent),z=l("\n        "),U=a("td"),F=l(H=o.informal),q=l("\n        "),Z=a("td"),V=l(W=o.informalpercent),Y=l("\n        "),G=a("td"),X=l($=o.total)},mount:function(t,e){r(u,t,e),n(f,u),n(p,f),n(g,u),n(m,u),n(y,m),n(v,u),n(b,u),n(k,b),n(E,u),n(x,u),n(R,x),n(S,u),n(A,u),n(C,A),n(N,u),n(D,u),n(M,D),n(P,u),n(B,u),n(j,B),n(z,u),n(U,u),n(F,U),n(q,u),n(Z,u),n(V,Z),n(Y,u),n(G,u),n(X,G)},update:function(t,e,n,r,s){d!==(d=r.booth)&&(p.data=d),_!==(_=r.grant)&&(y.data=_),w!==(w=r.grantpercent)&&(k.data=w),T!==(T=r.pytka)&&(R.data=T),O!==(O=r.pytkapercent)&&(C.data=O),L!==(L=r.ma)&&(M.data=L),I!==(I=r.mapercent)&&(j.data=I),H!==(H=r.informal)&&(F.data=H),W!==(W=r.informalpercent)&&(V.data=W),$!==($=r.total)&&(X.data=$)},unmount:function(){s(u)},destroy:t}}function it(t){t=t||{},this._state=e(Xa.data(),t.data),et(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,this._fragment=rt(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function ot(t){d(t,"svelte-480299078","")}function at(t,e){function o(t){var n=e.get();e.toggleTableDisplay(n.displayTable)}var h,c,d,p,g,m,_,y,v,b,w,k,E,x,T=new tt({_root:e._root,data:{collatedResults:t.collatedResults}}),R=t.displayTable&&ht(t,e);return{create:function(){h=a("section"),c=a("h2"),d=l("President"),p=l("\n\n  "),T._fragment.create(),g=l("\n\n  "),m=a("div"),y=a("noscript"),v=a("noscript"),b=l("\n\n  "),w=a("div"),k=a("span"),E=l("Full results"),x=l("\n  "),R&&R.create(),this.hydrate()},hydrate:function(t){ot(h),m.className="analysis",w.className="toggle",u(w,"click",o)},mount:function(s,i){r(h,s,i),n(c,h),n(d,c),n(p,h),T._fragment.mount(h,null),n(g,h),n(m,h),n(y,m),n(v,m),y.insertAdjacentHTML("afterend",_=t.collatedResults.copy[0].presanalysis),n(b,h),n(w,h),n(k,w),e.refs.toggleText=k,n(E,k),n(x,h),R&&R.intro(h,null)},update:function(t,n){var r={};"collatedResults"in t&&(r.collatedResults=n.collatedResults),Object.keys(r).length&&T._set(r),_!==(_=n.collatedResults.copy[0].presanalysis)&&(i(y,v),y.insertAdjacentHTML("afterend",_=n.collatedResults.copy[0].presanalysis)),n.displayTable?(R?R.update(t,n):(R=ht(n,e))&&R.create(),R.intro(h,null)):R&&R.outro(function(){R.unmount(),R.destroy(),R=null})},unmount:function(){i(y,v),s(h),R&&R.unmount()},destroy:function(){T.destroy(!1),f(w,"click",o),e.refs.toggleText===k&&(e.refs.toggleText=null),R&&R.destroy()}}}function ht(t,e){var n,i,o,h,l=new it({_root:e._root,data:{collatedResults:t.collatedResults}});return{create:function(){n=a("div"),l._fragment.create()},mount:function(t,e){r(n,t,e),l._fragment.mount(n,null)},update:function(t,e){var n={};"collatedResults"in t&&(n.collatedResults=e.collatedResults),Object.keys(n).length&&l._set(n)},intro:function(t,r){o||(o=!0,h=!1,e._root._aftercreate.push(function(){i||(i=_(e,n,Ka.transitions.slide,{},!0,null)),i.run(!0,function(){e.fire("intro.end",{node:n})})}),this.mount(t,r))},outro:function(t){if(!h){h=!0,o=!1;var r=1;i.run(!1,function(){e.fire("outro.end",{node:n}),0==--r&&t(),i=null})}},unmount:function(){s(n)},destroy:function(){l.destroy(!1)}}}function lt(t){t=t||{},this.refs={},this._state=e(Ka.data(),t.data),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,t._root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=at(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||(this._lock=!0,b(this._beforecreate),b(this._oncreate),b(this._aftercreate),this._lock=!1)}function ct(t,e,n,r){(r||"mintTotal"in e&&y(t.mintTotal,n.mintTotal)||"heatTotal"in e&&y(t.heatTotal,n.heatTotal))&&(t.totalCountedVotes=e.totalCountedVotes=Ja.computed.totalCountedVotes(t.mintTotal,t.heatTotal)),(r||"mintTotal"in e&&y(t.mintTotal,n.mintTotal)||"totalCountedVotes"in e&&y(t.totalCountedVotes,n.totalCountedVotes))&&(t.mintPercentage=e.mintPercentage=Ja.computed.mintPercentage(t.mintTotal,t.totalCountedVotes)),(r||"heatTotal"in e&&y(t.heatTotal,n.heatTotal)||"totalCountedVotes"in e&&y(t.totalCountedVotes,n.totalCountedVotes))&&(t.heatPercentage=e.heatPercentage=Ja.computed.heatPercentage(t.heatTotal,t.totalCountedVotes))}function ut(t){d(t,"svelte-3814180877","")}function ft(e,i){var o,h,c,u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A,O,C,N,D,L,M,P,B,I,j,z,U,H,F,q,Z,W,V,Y,G,$,X,K,J,Q,tt,et;return{create:function(){o=a("div"),h=a("div"),c=a("div"),u=a("span"),f=l("Mint"),d=l("\n      "),p=a("span"),m=l(g=e.mintPercentage),_=l("%"),y=l("\n      "),v=a("span"),w=l(b=e.mintTotal),k=l("%"),E=l("\n    "),x=a("div"),T=a("span"),S=l(R=e.heatPercentage),A=l("%"),O=l("\n      "),C=a("span"),D=l(N=e.heatTotal),L=l("%"),M=l("\n      "),P=a("span"),B=l("Heat"),I=l("\n  "),j=a("div"),z=a("span"),U=l("\n    "),H=a("span"),q=l("\n    "),Z=a("span"),W=l("\n  "),V=a("span"),G=l(Y=e.honiBoothsCounted),$=l("/"),K=l(X=e.numberOfBooths),J=l(" booths counted. "),tt=l(Q=100*e.honiTurnout),et=l("% turnout"),this.hydrate()},hydrate:function(t){ut(h),h.className="details",ut(c),c.className="details-right",u.className="name",p.className="percentage",v.className="total total--mint",ut(x),x.className="details-left",T.className="percentage",C.className="total total--heat",P.className="name",ut(j),j.className="bars",ut(z),z.className="heat-bar",ut(H),H.className="mint-bar",H.style.cssText=F="width:"+e.mintPercentage+"%",ut(Z),Z.className="middle-mark",V.className="turnout"},mount:function(t,e){r(o,t,e),n(h,o),n(c,h),n(u,c),n(f,u),n(d,c),n(p,c),n(m,p),n(_,p),n(y,c),n(v,c),n(w,v),n(k,v),n(E,h),n(x,h),n(T,x),n(S,T),n(A,T),n(O,x),n(C,x),n(D,C),n(L,C),n(M,x),n(P,x),n(B,P),n(I,o),n(j,o),n(z,j),n(U,j),n(H,j),n(q,j),n(Z,j),n(W,o),n(V,o),n(G,V),n($,V),n(K,V),n(J,V),n(tt,V),n(et,V)},update:function(t,e){g!==(g=e.mintPercentage)&&(m.data=g),b!==(b=e.mintTotal)&&(w.data=b),R!==(R=e.heatPercentage)&&(S.data=R),N!==(N=e.heatTotal)&&(D.data=N),F!==(F="width:"+e.mintPercentage+"%")&&(H.style.cssText=F),Y!==(Y=e.honiBoothsCounted)&&(G.data=Y),X!==(X=e.numberOfBooths)&&(K.data=X),Q!==(Q=100*e.honiTurnout)&&(tt.data=Q)},unmount:function(){s(o)},destroy:t}}function dt(t){t=t||{},this._state=t.data||{},ct(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,this._fragment=ft(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function pt(t,e,n,r){(r||"collatedResults"in e&&y(t.collatedResults,n.collatedResults))&&(t.honiTableData=e.honiTableData=Qa.computed.honiTableData(t.collatedResults))}function gt(t){d(t,"svelte-1655102491","")}function mt(t,e){for(var i,h,c,u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A,O,C,N,D,L,M=t.honiTableData,P=[],B=0;B<M.length;B+=1)P[B]=_t(t,M,M[B],B,e);return{create:function(){i=a("table"),h=a("thead"),c=a("th"),u=l("Booth"),f=l("\n    "),d=a("th"),p=l("Heat"),g=l("\n    "),m=a("th"),_=l("%"),y=l("\n    "),v=a("th"),b=l("Mint"),w=l("\n    "),k=a("th"),E=l("%"),x=l("\n    "),T=a("th"),R=l("Informal"),S=l("\n    "),A=a("th"),O=l("%"),C=l("\n    "),N=a("th"),D=l("Total"),L=l("\n  ");for(var t=0;t<P.length;t+=1)P[t].create();this.hydrate()},hydrate:function(t){gt(i)},mount:function(t,e){r(i,t,e),n(h,i),n(c,h),n(u,c),n(f,h),n(d,h),n(p,d),n(g,h),n(m,h),n(_,m),n(y,h),n(v,h),n(b,v),n(w,h),n(k,h),n(E,k),n(x,h),n(T,h),n(R,T),n(S,h),n(A,h),n(O,A),n(C,h),n(N,h),n(D,N),n(L,i);for(var s=0;s<P.length;s+=1)P[s].mount(i,null)},update:function(t,n){var r=n.honiTableData;if("honiTableData"in t){for(var s=0;s<r.length;s+=1)P[s]?P[s].update(t,n,r,r[s],s):(P[s]=_t(n,r,r[s],s,e),P[s].create(),P[s].mount(i,null));for(;s<P.length;s+=1)P[s].unmount(),P[s].destroy();P.length=r.length}},unmount:function(){s(i);for(var t=0;t<P.length;t+=1)P[t].unmount()},destroy:function(){o(P,!1,0)}}}function _t(e,i,o,h,c){var u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A,O,C,N,D,L,M,P,B,I,j,z,U,H,F;return{create:function(){u=a("tr"),f=a("td"),p=l(d=o.booth),g=l("\n        "),m=a("td"),y=l(_=o.heat),v=l("\n        "),b=a("td"),k=l(w=o.heatpercent),E=l("\n        "),x=a("td"),R=l(T=o.mint),S=l("\n        "),A=a("td"),C=l(O=o.mintpercent),N=l("\n        "),D=a("td"),M=l(L=o.informal),P=l("\n        "),B=a("td"),j=l(I=o.informalpercent),z=l("\n        "),U=a("td"),F=l(H=o.total)},mount:function(t,e){r(u,t,e),n(f,u),n(p,f),n(g,u),n(m,u),n(y,m),n(v,u),n(b,u),n(k,b),n(E,u),n(x,u),n(R,x),n(S,u),n(A,u),n(C,A),n(N,u),n(D,u),n(M,D),n(P,u),n(B,u),n(j,B),n(z,u),n(U,u),n(F,U)},update:function(t,e,n,r,s){d!==(d=r.booth)&&(p.data=d),_!==(_=r.heat)&&(y.data=_),w!==(w=r.heatpercent)&&(k.data=w),T!==(T=r.mint)&&(R.data=T),O!==(O=r.mintpercent)&&(C.data=O),L!==(L=r.informal)&&(M.data=L),I!==(I=r.informalpercent)&&(j.data=I),H!==(H=r.total)&&(F.data=H)},unmount:function(){s(u)},destroy:t}}function yt(t){t=t||{},this._state=e(Qa.data(),t.data),pt(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,this._fragment=mt(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function vt(t,e,n,r){(r||"collatedResults"in e&&y(t.collatedResults,n.collatedResults))&&(t.tableData=e.tableData=th.computed.tableData(t.collatedResults),t.mintTotal=e.mintTotal=th.computed.mintTotal(t.collatedResults),t.heatTotal=e.heatTotal=th.computed.heatTotal(t.collatedResults))}function bt(t){d(t,"svelte-818750618","")}function wt(t,e){function o(t){var n=e.get();e.toggleTableDisplay(n.displayTable)}var h,c,d,p,g,m,_,y,v,b,w,k,E,x,T=new dt({_root:e._root,data:{mintTotal:t.mintTotal,heatTotal:t.heatTotal,numberOfBooths:t.collatedResults.copy[0].numberofbooths,honiBoothsCounted:t.collatedResults.copy[0].honiboothscounted,honiTurnout:t.collatedResults.copy[0].honiturnout}}),R=t.displayTable&&kt(t,e);return{create:function(){h=a("section"),c=a("h2"),d=l("Honi"),p=l("\n\n  "),T._fragment.create(),g=l("\n\n  "),m=a("div"),y=a("noscript"),v=a("noscript"),b=l("\n\n  "),w=a("div"),k=a("span"),E=l("Full results"),x=l("\n  "),R&&R.create(),this.hydrate()},hydrate:function(t){bt(h),m.className="analysis",w.className="toggle",u(w,"click",o)},mount:function(s,i){r(h,s,i),n(c,h),n(d,c),n(p,h),T._fragment.mount(h,null),n(g,h),n(m,h),n(y,m),n(v,m),y.insertAdjacentHTML("afterend",_=t.collatedResults.copy[0].honianalysis),n(b,h),n(w,h),n(k,w),e.refs.toggleText=k,n(E,k),n(x,h),R&&R.intro(h,null)},update:function(t,n){var r={};"mintTotal"in t&&(r.mintTotal=n.mintTotal),"heatTotal"in t&&(r.heatTotal=n.heatTotal),"collatedResults"in t&&(r.numberOfBooths=n.collatedResults.copy[0].numberofbooths),"collatedResults"in t&&(r.honiBoothsCounted=n.collatedResults.copy[0].honiboothscounted),"collatedResults"in t&&(r.honiTurnout=n.collatedResults.copy[0].honiturnout),Object.keys(r).length&&T._set(r),_!==(_=n.collatedResults.copy[0].honianalysis)&&(i(y,v),y.insertAdjacentHTML("afterend",_=n.collatedResults.copy[0].honianalysis)),n.displayTable?(R?R.update(t,n):(R=kt(n,e))&&R.create(),R.intro(h,null)):R&&R.outro(function(){R.unmount(),R.destroy(),R=null})},unmount:function(){i(y,v),s(h),R&&R.unmount()},destroy:function(){T.destroy(!1),f(w,"click",o),e.refs.toggleText===k&&(e.refs.toggleText=null),R&&R.destroy()}}}function kt(t,e){var n,i,o,h,l=new yt({_root:e._root,data:{tableData:t.tableData,collatedResults:t.collatedResults}});return{create:function(){n=a("div"),l._fragment.create()},mount:function(t,e){r(n,t,e),l._fragment.mount(n,null)},update:function(t,e){var n={};"tableData"in t&&(n.tableData=e.tableData),"collatedResults"in t&&(n.collatedResults=e.collatedResults),Object.keys(n).length&&l._set(n)},intro:function(t,r){o||(o=!0,h=!1,e._root._aftercreate.push(function(){i||(i=_(e,n,th.transitions.slide,{},!0,null)),i.run(!0,function(){e.fire("intro.end",{node:n})})}),this.mount(t,r))},outro:function(t){if(!h){h=!0,o=!1;var r=1;i.run(!1,function(){e.fire("outro.end",{node:n}),0==--r&&t(),i=null})}},unmount:function(){s(n)},destroy:function(){l.destroy(!1)}}}function Et(t){t=t||{},this.refs={},this._state=e(th.data(),t.data),vt(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,t._root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=wt(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||(this._lock=!0,b(this._beforecreate),b(this._oncreate),b(this._aftercreate),this._lock=!1)}function xt(t){d(t,"svelte-551939117","")}function Tt(t,e){var i,o,h,c,u=new lt({_root:e._root,data:{collatedResults:t.collatedResults}});u.on("sendTheHeight",function(t){e.extraFire()});var f=new Et({_root:e._root,data:{collatedResults:t.collatedResults}});f.on("sendTheHeight",function(t){e.extraFire()});var d=new B({_root:e._root,data:{collatedResults:t.collatedResults}});d.on("sendTheHeight",function(t){e.extraFire()});var p=new $({_root:e._root,data:{collatedResults:t.collatedResults}});return p.on("sendTheHeight",function(t){e.extraFire()}),{create:function(){i=a("section"),u._fragment.create(),o=l("\n  "),f._fragment.create(),h=l("\n  "),d._fragment.create(),c=l("\n  "),p._fragment.create(),this.hydrate()},hydrate:function(t){xt(i)},mount:function(t,e){r(i,t,e),u._fragment.mount(i,null),n(o,i),f._fragment.mount(i,null),n(h,i),d._fragment.mount(i,null),n(c,i),p._fragment.mount(i,null)},update:function(t,e){var n={};"collatedResults"in t&&(n.collatedResults=e.collatedResults),Object.keys(n).length&&u._set(n);var r={};"collatedResults"in t&&(r.collatedResults=e.collatedResults),Object.keys(r).length&&f._set(r);var s={};"collatedResults"in t&&(s.collatedResults=e.collatedResults),Object.keys(s).length&&d._set(s);var i={};"collatedResults"in t&&(i.collatedResults=e.collatedResults),Object.keys(i).length&&p._set(i)},unmount:function(){s(i)},destroy:function(){u.destroy(!1),f.destroy(!1),d.destroy(!1),p.destroy(!1)}}}function Rt(t){t=t||{},this._state=t.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,t._root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=Tt(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||(this._lock=!0,b(this._beforecreate),b(this._oncreate),b(this._aftercreate),this._lock=!1)}function St(t,e,n,r){(r||"blogData"in e&&y(t.blogData,n.blogData))&&(t.publishedPosts=e.publishedPosts=nh.computed.publishedPosts(t.blogData)),(r||"publishedPosts"in e&&y(t.publishedPosts,n.publishedPosts))&&(t.visiblePosts=e.visiblePosts=nh.computed.visiblePosts(t.publishedPosts))}function At(t){d(t,"svelte-2602485348","")}function Ot(t,e){function o(t){t.outro(function(){t.unmount(),t.destroy(),A[t.key]=null})}function h(t){var n=e.get();e.loadMorePosts(n.visiblePosts,n.publishedPosts)}for(var c,d,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A=Object.create(null),O=t.visiblePosts,C=0;C<O.length;C+=1){var N=O[C].body,D=A[N]=Ct(t,O,O[C],C,e,N);x&&(x.next=D),D.last=x,x=D,0===C&&(E=D)}return{create:function(){c=a("section"),d=a("h2"),g=l(p=t.blogData.copy[0].blogtitle),m=l("\n  "),_=a("div"),v=a("noscript"),b=a("noscript"),w=l("\n  "),k=a("div");for(var e=E;e;)e.create(),e=e.next;T=l("\n    "),R=a("button"),S=l("Load more posts"),this.hydrate()},hydrate:function(t){At(c),At(k),k.id="help",k.className="stream-container",u(R,"click",h)},mount:function(e,s){r(c,e,s),n(d,c),n(g,d),n(m,c),n(_,c),n(v,_),n(b,_),v.insertAdjacentHTML("afterend",y=t.blogData.copy[0].blogstandfirst),n(w,c),n(k,c);for(var i=E;i;)i.intro(k,null),i=i.next;n(T,k),n(R,k),n(S,R)},update:function(t,n){p!==(p=n.blogData.copy[0].blogtitle)&&(g.data=p),y!==(y=n.blogData.copy[0].blogstandfirst)&&(i(v,b),v.insertAdjacentHTML("afterend",y=n.blogData.copy[0].blogstandfirst));var r=n.visiblePosts,s=E,a=null,h=[];for(C=0;C<r.length;C+=1){var l=r[C].body,c=A[l];if(c&&c.update(t,n,r,r[C],C),s)if(l===s.key)s=s.next;else if(c){for(;s&&s.key!==l;)s.discard=!0,h.push(s),s=s.next;s=s&&s.next,c.discard=!1,c.last=a,s||c.mount(k,T)}else(c=A[l]=Ct(n,r,r[C],C,e,l)).create(),c.intro(k,s.first),s.last=c,c.next=s;else c?(c.discard=!1,c.next=null,c.mount(k,T)):((c=A[l]=Ct(n,r,r[C],C,e,l)).create(),c.intro(k,T));a&&(a.next=c),c.last=a,c.intro(k,T),a=c}for(a&&(a.next=null);s;)o(s),s=s.next;for(C=0;C<h.length;C+=1)h[C].discard&&o(h[C]);E=A[r[0]&&r[0].body]},unmount:function(){i(v,b),s(c)},destroy:function(){for(var t=E;t;)t.destroy(!1),t=t.next;f(R,"click",h)}}}function Ct(t,e,o,h,u,f){var d,p,g,m,y,v,b,w,k,E,x,T,R,S,A,O,C,N="1"===o.highlight&&Nt(t,e,o,h,u);return{key:f,first:null,create:function(){d=c(),N&&N.create(),p=l("\n      "),g=a("article"),y=a("h3"),b=l(v=o.heading),w=l("\n        "),k=a("p"),x=l(E=o.meta),T=l("\n        "),S=a("noscript"),A=a("noscript"),this.hydrate()},hydrate:function(t){At(g),g.className="blogPost",this.first=d},mount:function(t,e){r(d,t,e),N&&N.mount(t,e),r(p,t,e),r(g,t,e),n(y,g),n(b,y),n(w,g),n(k,g),n(x,k),n(T,g),n(S,g),n(A,g),S.insertAdjacentHTML("afterend",R=o.body)},update:function(t,e,n,r,s){"1"===r.highlight?N||((N=Nt(e,n,r,s,u)).create(),N.mount(p.parentNode,p)):N&&(N.unmount(),N.destroy(),N=null),v!==(v=r.heading)&&(b.data=v),E!==(E=r.meta)&&(x.data=E),R!==(R=r.body)&&(i(S,A),S.insertAdjacentHTML("afterend",R=r.body))},intro:function(t,e){O||(O=!0,C=!1,u._root._aftercreate.push(function(){m||(m=_(u,g,nh.transitions.fade,{},!0,null)),m.run(!0,function(){u.fire("intro.end",{node:g})})}),this.mount(t,e))},outro:function(t){if(!C){C=!0,O=!1;var e=1;m.run(!1,function(){u.fire("outro.end",{node:g}),0==--e&&t(),m=null})}},unmount:function(){i(S,A),s(d),N&&N.unmount(),s(p),s(g)},destroy:function(){N&&N.destroy()}}}function Nt(e,n,i,o,h,l){var c;return{key:l,create:function(){c=a("span"),this.hydrate()},hydrate:function(t){At(c),c.className="highlight-bar"},mount:function(t,e){r(c,t,e)},unmount:function(){s(c)},destroy:t}}function Dt(t){t=t||{},this._state=t.data||{},St(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,t._root||(this._oncreate=[],this._aftercreate=[]),this._fragment=Ot(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||b(this._aftercreate)}function Lt(t,e){function i(t){e.toggleTab("results")}function o(t){var n=e.get();e.toggleTab("analysis",n.currentPane)}function h(t){return"results"===t.currentPane?Mt:Pt}var d,p,g,m,_,y,v,b,w=h(t),k=w(t,e);return{create:function(){d=a("nav"),p=a("span"),g=l("Results"),m=l("\n  "),_=a("span"),y=l("Analysis"),v=l("\n"),k.create(),b=c(),this.hydrate()},hydrate:function(t){u(p,"click",i),u(_,"click",o)},mount:function(t,e){r(d,t,e),n(p,d),n(g,p),n(m,d),n(_,d),n(y,_),r(v,t,e),k.mount(t,e),r(b,t,e)},update:function(t,n){w===(w=h(n))&&k?k.update(t,n):(k.unmount(),k.destroy(),(k=w(n,e)).create(),k.mount(b.parentNode,b))},unmount:function(){s(d),s(v),k.unmount(),s(b)},destroy:function(){f(p,"click",i),f(_,"click",o),k.destroy()}}}function Mt(t,e){var n=new Rt({_root:e._root,data:{collatedResults:t.collatedResults}});return n.on("sendTheHeight",function(t){e.extraFire()}),{create:function(){n._fragment.create()},mount:function(t,e){n._fragment.mount(t,e)},update:function(t,e){var r={};"collatedResults"in t&&(r.collatedResults=e.collatedResults),Object.keys(r).length&&n._set(r)},unmount:function(){n._fragment.unmount()},destroy:function(){n.destroy(!1)}}}function Pt(t,e){var n=new Dt({_root:e._root,data:{blogData:t.blogData}});return n.on("sendTheHeight",function(t){e.extraFire()}),{create:function(){n._fragment.create()},mount:function(t,e){n._fragment.mount(t,e)},update:function(t,e){var r={};"blogData"in t&&(r.blogData=e.blogData),Object.keys(r).length&&n._set(r)},unmount:function(){n._fragment.unmount()},destroy:function(){n.destroy(!1)}}}function Bt(t){t=t||{},this._state=t.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,t._root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=Lt(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||(this._lock=!0,b(this._beforecreate),b(this._oncreate),b(this._aftercreate),this._lock=!1)}function It(t){d(t,"svelte-1101939732","")}function jt(e,i){var o,h,c;return{create:function(){o=a("footer"),h=a("div"),c=l("Footnotes content."),this.hydrate()},hydrate:function(t){It(o)},mount:function(t,e){r(o,t,e),n(h,o),n(c,h)},unmount:function(){s(o)},destroy:t}}function zt(t){t=t||{},this._state=t.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,this._fragment=jt(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function Ut(t,e,n,r){(r||"time"in e&&y(t.time,n.time))&&(t.hours=e.hours=sh.computed.hours(t.time),t.minutes=e.minutes=sh.computed.minutes(t.time),t.seconds=e.seconds=sh.computed.seconds(t.time))}function Ht(t){d(t,"svelte-1548400607","")}function Ft(e,o){var c,u,f,p,g,m,_,y,v,b,w,k,E,x,T,R,S,A,O,C;return{create:function(){c=a("header"),u=a("div"),f=h("svg"),p=h("path"),g=l("\n    "),m=a("span"),_=l("Live "),v=l(y=e.hours),b=l(":"),k=l(w=e.minutes),E=l(":"),T=l(x=e.seconds),R=l("\n  "),S=a("div"),O=a("noscript"),C=a("noscript"),this.hydrate()},hydrate:function(t){Ht(u),u.className="masthead",Ht(f),d(f,"xmlns","http://www.w3.org/2000/svg"),d(f,"id","header-logo"),d(f,"viewBox","0 0 297.2 72.8"),d(p,"d","M23 72.6c-7.5 0-13.3-1.7-17.6-5C1.8 64.8 0 61.6 0 58c0-1.8.6-3.4 1.7-4.6 1-1.2 2.7-1.8 4.6-1.8 2.6 0 4.6 1.4 5.8 4 1.8 3.7 5.6 5.5 11.5 5.5 5 0 10-1 14.7-3.2 5-2.3 7.4-4.7 7.4-7.4 0-3.7-1.5-6-4.6-7.3-2.2-.8-6.5-1.3-13-1.4-5.2 0-9.7-1-13.8-3-5.4-2.3-8-5.8-8-10.4 0-5.7 3-11 9.2-15.7 6-4.8 12.7-7.2 20-7.2 2.8 0 6.3.7 10.6 2 5.3 1.6 8 3.5 8 5.7 0 1.5-.6 3-1.7 4-1.2 1.4-2.7 2-4.5 2-1.4 0-3.4-.2-6.2-.8-2.7-.6-4.8-1-6.2-1-3.8 0-7.4 1-10.8 2.8-3.5 1.8-5.3 3.8-5.3 6 0 1 .5 2 1.6 2.7 1 .7 2.6 1.2 4.7 1.5l11.2.6c6.4.5 11.6 2.3 15.4 5.5 4.2 3.5 6.3 8.4 6.3 14.6 0 7.5-4.3 13.2-13 17-6.7 3-14.2 4.6-22.7 4.6zM108.2 70.4c-1.6 0-3-.6-4.4-1.8-8.8-8.4-18.6-14.2-29.3-17.4l.5 14.2c0 1.7-.6 3-1.8 4.2-1.2 1.2-2.6 1.7-4.4 1.7-1.8 0-3.2-.6-4.4-1.7-1.2-1.2-1.8-2.6-1.8-4.2v-10c.2-4.3.2-7.6.2-9.8V10c0-1.8.7-3.5 1.8-5C66 3 68.2 2 70.8 2l11 .8c4 .5 7.6 1.5 10.5 3 12.5 6.3 18.8 14 18.8 23.5 0 3.8-1.2 7.2-3.8 10.2-2.6 3-6.6 5.4-11.8 7.5 7.8 4.3 13.6 8.8 17.6 13.3 1 1.2 1.5 2.5 1.5 4s-.6 3-1.8 4c-1.3 1.3-2.8 2-4.5 2zM80 15c-.2 0-2 0-5.2-.4V38h2c7 0 12.4-1 16-2.7 1.4-.8 2.8-1.8 4-3 1.2-1.3 2-2.2 2-3 0-3.2-2.2-6.4-6.4-9.4-4-3-8-4.5-12.4-5zM161.4 23c-2.6 0-4.6-1.4-6-4.2-.5-1.3-1-2-1.7-2.4-.4-.2-1.6-.3-3.5-.3-3.7 0-8 3-12.8 8.7-6.8 8-10.2 15.6-10.2 22.6 0 3.2 1 6 3.2 8.2 2 2.3 4.7 3.4 7.7 3.4s6-1 9-2.4l6.7-4.3c2.3-1.5 4-2.3 5.2-2.3 1.7 0 3.2.6 4.4 2 1 1 1.7 2.5 1.7 4 0 1.7-.7 3.2-2.2 4.5-8 6.8-16.3 10.2-24.7 10.2-6.5 0-12-2.4-16.6-7.2C117 59 115 53.5 115 47c0-9.7 4.2-19.8 12.8-30 7.3-8.7 14.8-13 22.4-13h3.5l2.8.5c1.3-1.3 2.8-2 4.7-2 3 0 4.8 1.8 5.5 5.3.5 2.5.7 5.3.7 8.6 0 1.5-.4 2.8-1.3 4-1 1.8-2.5 2.6-4.6 2.6zM202.4 21.7c-1.7 0-3-.7-4.2-2-.8-1-1.3-2-1.5-3.2-1-6.4-1.5-10-1.5-11 0-1.7.5-3 1.5-4s2.3-1.5 4-1.5c3.2 0 5 1.6 5.6 5 1 6.2 1.5 10 1.5 11.3 0 1.6-.5 3-1.5 4s-2.3 1.4-4 1.4zM239.4 70H222c-5.6 0-8.4-1.8-8.4-5.3 0-4 3-6 9.3-6h1.8v-39c-2.6 1.8-4.2 2.6-5 2.6-1.6 0-3-.6-4.3-1.8-1.2-1.2-1.8-2.5-1.8-4 0-1.7 1-3.4 3-5l5-3.7 5.4-4.3c2.3-1.6 4.4-2.4 6.5-2.4 2.6 0 4 1.7 4 5 0 3.4 0 8.3-.4 14.7s-.3 15.4-.3 27.2v10.6h3c1.6 0 3 .5 4.2 1.6 1 1 1.6 2.4 1.6 4 0 1.7-.6 3-1.7 4.2-1.5 1-3 1.5-4.6 1.5zM277.5 15.5L259 15c-2 0-5.5 0-10-.2-3.8-.3-5.8-2.2-5.8-5.7 0-1.5.6-3 1.8-4 1.2-1 2.6-1.6 4.3-1.6 3.7 0 9.3 0 16.7.3l16.7.3h8c1.7 0 3 .3 4.3 1 1.5.7 2.2 1.8 2.2 3.3 0 1.6-1 3.5-2.6 5.8l-4.4 5c-3.7 4-7.2 9.2-10.3 15.2-1 2-3.7 7.4-8 16.5-.6 1.2-1.8 4.5-3.7 10-1.5 4-3 7-4.5 9.4-1.2 1.8-2.8 2.6-5 2.6-1.5 0-3-.5-4.2-1.6-1.3-1-2-2.4-2-4 0-1.4 1-4.3 3-9 3.3-7.3 6.4-14.7 9.6-22 3.8-8.5 8-15.4 12.3-20.5z"),Ht(m),m.className="live-time"},mount:function(t,s){r(c,t,s),n(u,c),n(f,u),n(p,f),n(g,u),n(m,u),n(_,m),n(v,m),n(b,m),n(k,m),n(E,m),n(T,m),n(R,c),n(S,c),n(O,S),n(C,S),O.insertAdjacentHTML("afterend",A=e.headerStandfirst)},update:function(t,e){y!==(y=e.hours)&&(v.data=y),w!==(w=e.minutes)&&(k.data=w),x!==(x=e.seconds)&&(T.data=x),A!==(A=e.headerStandfirst)&&(i(O,C),O.insertAdjacentHTML("afterend",A=e.headerStandfirst))},unmount:function(){i(O,C),s(c)},destroy:t}}function qt(t){t=t||{},this._state=e(sh.data(),t.data),Ut(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1;var n=sh.oncreate.bind(this);t._root?this._root._oncreate.push(n):this._oncreate=[n],this._fragment=Ft(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||b(this._oncreate)}function Zt(t,e,n,r){(r||"results"in e&&y(t.results,n.results)||"colors"in e&&y(t.colors,n.colors))&&(t.collatedResults=e.collatedResults=ih.computed.collatedResults(t.results,t.colors)),(r||"results"in e&&y(t.results,n.results))&&(t.blogData=e.blogData=ih.computed.blogData(t.results))}function Wt(t){d(t,"svelte-1194038916","")}function Vt(t,e){function n(t){e.set({appWidth:this.innerWidth})}function i(t){return"1"===t.collatedResults.copy[0].displayresults?$t:Xt}var o,a,h;window.addEventListener("resize",n);var c=new qt({_root:e._root,data:{headerStandfirst:t.collatedResults.copy[0].headerstandfirst}}),u=i(t),f=u(t,e),d=new zt({_root:e._root});return{create:function(){o=l("\n\n"),c._fragment.create(),a=l("\n"),f.create(),h=l("\n"),d._fragment.create()},mount:function(t,e){r(o,t,e),c._fragment.mount(t,e),r(a,t,e),f.mount(t,e),r(h,t,e),d._fragment.mount(t,e)},update:function(t,n){var r={};"collatedResults"in t&&(r.headerStandfirst=n.collatedResults.copy[0].headerstandfirst),Object.keys(r).length&&c._set(r),u===(u=i(n))&&f?f.update(t,n):(f.unmount(),f.destroy(),(f=u(n,e)).create(),f.mount(h.parentNode,h))},unmount:function(){s(o),c._fragment.unmount(),s(a),f.unmount(),s(h),d._fragment.unmount()},destroy:function(){window.removeEventListener("resize",n),c.destroy(!1),f.destroy(),d.destroy(!1)}}}function Yt(t,e){var n=new Bt({_root:e._root,data:{currentPane:"results",collatedResults:t.collatedResults,blogData:t.blogData}});return n.on("sendTheHeight",function(t){e.pymUpdateHeight()}),{create:function(){n._fragment.create()},mount:function(t,e){n._fragment.mount(t,e)},update:function(t,e){var r={};"collatedResults"in t&&(r.collatedResults=e.collatedResults),"blogData"in t&&(r.blogData=e.blogData),Object.keys(r).length&&n._set(r)},unmount:function(){n._fragment.unmount()},destroy:function(){n.destroy(!1)}}}function Gt(t,e){var i,o,h=new Rt({_root:e._root,data:{collatedResults:t.collatedResults}});h.on("sendTheHeight",function(t){e.pymUpdateHeight()});var c=new Dt({_root:e._root,data:{blogData:t.blogData}});return c.on("sendTheHeight",function(t){e.pymUpdateHeight()}),{create:function(){i=a("article"),h._fragment.create(),o=l("\n\t\t\t"),c._fragment.create(),this.hydrate()},hydrate:function(t){Wt(i)},mount:function(t,e){r(i,t,e),h._fragment.mount(i,null),n(o,i),c._fragment.mount(i,null)},update:function(t,e){var n={};"collatedResults"in t&&(n.collatedResults=e.collatedResults),Object.keys(n).length&&h._set(n);var r={};"blogData"in t&&(r.blogData=e.blogData),Object.keys(r).length&&c._set(r)},unmount:function(){s(i)},destroy:function(){h.destroy(!1),c.destroy(!1)}}}function $t(t,e){function n(t){return t.appWidth<500?Yt:Gt}var i,o=n(t),a=o(t,e);return{create:function(){a.create(),i=c()},mount:function(t,e){a.mount(t,e),r(i,t,e)},update:function(t,r){o===(o=n(r))&&a?a.update(t,r):(a.unmount(),a.destroy(),(a=o(r,e)).create(),a.mount(i.parentNode,i))},unmount:function(){a.unmount(),s(i)},destroy:function(){a.destroy()}}}function Xt(t,e){var n,i=new Dt({_root:e._root,data:{blogData:t.blogData}});return i.on("sendTheHeight",function(t){e.pymUpdateHeight()}),{create:function(){n=a("div"),i._fragment.create(),this.hydrate()},hydrate:function(t){Wt(n),n.className="blog-only-wrapper"},mount:function(t,e){r(n,t,e),i._fragment.mount(n,null)},update:function(t,e){var n={};"blogData"in t&&(n.blogData=e.blogData),Object.keys(n).length&&i._set(n)},unmount:function(){s(n)},destroy:function(){i.destroy(!1)}}}function Kt(t){t=t||{},this._state=t.data||{},this._state.appWidth=window.innerWidth,Zt(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._destroyed=!1,t._root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=Vt(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null)),t._root||(this._lock=!0,b(this._beforecreate),b(this._oncreate),b(this._aftercreate),this._lock=!1)}function Jt(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function Qt(t,e){return e={exports:{}},t(e,e.exports),e.exports}function te(){throw new Error("setTimeout has not been defined")}function ee(){throw new Error("clearTimeout has not been defined")}function ne(t){if(ch===setTimeout)return setTimeout(t,0);if((ch===te||!ch)&&setTimeout)return ch=setTimeout,setTimeout(t,0);try{return ch(t,0)}catch(e){try{return ch.call(null,t,0)}catch(e){return ch.call(this,t,0)}}}function re(t){if(uh===clearTimeout)return clearTimeout(t);if((uh===ee||!uh)&&clearTimeout)return uh=clearTimeout,clearTimeout(t);try{return uh(t)}catch(e){try{return uh.call(null,t)}catch(e){return uh.call(this,t)}}}function se(){ph&&fh&&(ph=!1,fh.length?dh=fh.concat(dh):gh=-1,dh.length&&ie())}function ie(){if(!ph){var t=ne(se);ph=!0;for(var e=dh.length;e;){for(fh=dh,dh=[];++gh<e;)fh&&fh[gh].run();gh=-1,e=dh.length}fh=null,ph=!1,re(t)}}function oe(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];dh.push(new ae(t,e)),1!==dh.length||ph||ne(ie)}function ae(t,e){this.fun=t,this.array=e}function he(){}function le(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Bh;case"days":case"day":case"d":return n*Ph;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Mh;case"minutes":case"minute":case"mins":case"min":case"m":return n*Lh;case"seconds":case"second":case"secs":case"sec":case"s":return n*Dh;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function ce(t){return t>=Ph?Math.round(t/Ph)+"d":t>=Mh?Math.round(t/Mh)+"h":t>=Lh?Math.round(t/Lh)+"m":t>=Dh?Math.round(t/Dh)+"s":t+"ms"}function ue(t){return fe(t,Ph,"day")||fe(t,Mh,"hour")||fe(t,Lh,"minute")||fe(t,Dh,"second")||t+" ms"}function fe(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}function de(){return!1}function pe(){throw new Error("tty.ReadStream is not implemented")}function ge(){throw new Error("tty.ReadStream is not implemented")}function me(){Wh=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)Fh[e]=t[e],qh[t.charCodeAt(e)]=e;qh["-".charCodeAt(0)]=62,qh["_".charCodeAt(0)]=63}function _e(t){Wh||me();var e,n,r,s,i,o,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===t[a-2]?2:"="===t[a-1]?1:0,o=new Zh(3*a/4-i),r=i>0?a-4:a;var h=0;for(e=0,n=0;e<r;e+=4,n+=3)s=qh[t.charCodeAt(e)]<<18|qh[t.charCodeAt(e+1)]<<12|qh[t.charCodeAt(e+2)]<<6|qh[t.charCodeAt(e+3)],o[h++]=s>>16&255,o[h++]=s>>8&255,o[h++]=255&s;return 2===i?(s=qh[t.charCodeAt(e)]<<2|qh[t.charCodeAt(e+1)]>>4,o[h++]=255&s):1===i&&(s=qh[t.charCodeAt(e)]<<10|qh[t.charCodeAt(e+1)]<<4|qh[t.charCodeAt(e+2)]>>2,o[h++]=s>>8&255,o[h++]=255&s),o}function ye(t){return Fh[t>>18&63]+Fh[t>>12&63]+Fh[t>>6&63]+Fh[63&t]}function ve(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16)+(t[i+1]<<8)+t[i+2],s.push(ye(r));return s.join("")}function be(t){Wh||me();for(var e,n=t.length,r=n%3,s="",i=[],o=0,a=n-r;o<a;o+=16383)i.push(ve(t,o,o+16383>a?a:o+16383));return 1===r?(e=t[n-1],s+=Fh[e>>2],s+=Fh[e<<4&63],s+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],s+=Fh[e>>10],s+=Fh[e>>4&63],s+=Fh[e<<2&63],s+="="),i.push(s),i.join("")}function we(t,e,n,r,s){var i,o,a=8*s-r-1,h=(1<<a)-1,l=h>>1,c=-7,u=n?s-1:0,f=n?-1:1,d=t[e+u];for(u+=f,i=d&(1<<-c)-1,d>>=-c,c+=a;c>0;i=256*i+t[e+u],u+=f,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=r;c>0;o=256*o+t[e+u],u+=f,c-=8);if(0===i)i=1-l;else{if(i===h)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),i-=l}return(d?-1:1)*o*Math.pow(2,i-r)}function ke(t,e,n,r,s,i){var o,a,h,l=8*i-s-1,c=(1<<l)-1,u=c>>1,f=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+u>=1?f/h:f*Math.pow(2,1-u))*h>=2&&(o++,h/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(e*h-1)*Math.pow(2,s),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,s),o=0));s>=8;t[n+d]=255&a,d+=p,a/=256,s-=8);for(o=o<<s|a,l+=s;l>0;t[n+d]=255&o,d+=p,o/=256,l-=8);t[n+d-p]|=128*g}function Ee(){return Te.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function xe(t,e){if(Ee()<e)throw new RangeError("Invalid typed array length");return Te.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Te.prototype:(null===t&&(t=new Te(e)),t.length=e),t}function Te(t,e,n){if(!(Te.TYPED_ARRAY_SUPPORT||this instanceof Te))return new Te(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Oe(this,t)}return Re(this,t,e,n)}function Re(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?De(t,e,n,r):"string"==typeof e?Ce(t,e,n):Le(t,e)}function Se(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Ae(t,e,n,r){return Se(e),e<=0?xe(t,e):void 0!==n?"string"==typeof r?xe(t,e).fill(n,r):xe(t,e).fill(n):xe(t,e)}function Oe(t,e){if(Se(e),t=xe(t,e<0?0:0|Me(e)),!Te.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function Ce(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!Te.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Be(e,n),s=(t=xe(t,r)).write(e,n);return s!==r&&(t=t.slice(0,s)),t}function Ne(t,e){var n=e.length<0?0:0|Me(e.length);t=xe(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function De(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),Te.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Te.prototype:t=Ne(t,e),t}function Le(t,e){if(Pe(e)){var n=0|Me(e.length);return 0===(t=xe(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||mn(e.length)?xe(t,0):Ne(t,e);if("Buffer"===e.type&&Yh(e.data))return Ne(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Me(t){if(t>=Ee())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ee().toString(16)+" bytes");return 0|t}function Pe(t){return!(null==t||!t._isBuffer)}function Be(t,e){if(Pe(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return un(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return pn(t).length;default:if(r)return un(t).length;e=(""+e).toLowerCase(),r=!0}}function Ie(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return Je(this,e,n);case"utf8":case"utf-8":return Ge(this,e,n);case"ascii":return Xe(this,e,n);case"latin1":case"binary":return Ke(this,e,n);case"base64":return Ye(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Qe(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function je(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ze(t,e,n,r,s){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(s)return-1;n=t.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof e&&(e=Te.from(e,r)),Pe(e))return 0===e.length?-1:Ue(t,e,n,r,s);if("number"==typeof e)return e&=255,Te.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):Ue(t,[e],n,r,s);throw new TypeError("val must be string, number or Buffer")}function Ue(t,e,n,r,s){function i(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,a=t.length,h=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,n/=2}var l;if(s){var c=-1;for(l=n;l<a;l++)if(i(t,l)===i(e,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===h)return c*o}else-1!==c&&(l-=l-c),c=-1}else for(n+h>a&&(n=a-h),l=n;l>=0;l--){for(var u=!0,f=0;f<h;f++)if(i(t,l+f)!==i(e,f)){u=!1;break}if(u)return l}return-1}function He(t,e,n,r){n=Number(n)||0;var s=t.length-n;r?(r=Number(r))>s&&(r=s):r=s;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function Fe(t,e,n,r){return gn(un(e,t.length-n),t,n,r)}function qe(t,e,n,r){return gn(fn(e),t,n,r)}function Ze(t,e,n,r){return qe(t,e,n,r)}function We(t,e,n,r){return gn(pn(e),t,n,r)}function Ve(t,e,n,r){return gn(dn(e,t.length-n),t,n,r)}function Ye(t,e,n){return be(0===e&&n===t.length?t:t.slice(e,n))}function Ge(t,e,n){n=Math.min(t.length,n);for(var r=[],s=e;s<n;){var i=t[s],o=null,a=i>239?4:i>223?3:i>191?2:1;if(s+a<=n){var h,l,c,u;switch(a){case 1:i<128&&(o=i);break;case 2:128==(192&(h=t[s+1]))&&(u=(31&i)<<6|63&h)>127&&(o=u);break;case 3:h=t[s+1],l=t[s+2],128==(192&h)&&128==(192&l)&&(u=(15&i)<<12|(63&h)<<6|63&l)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:h=t[s+1],l=t[s+2],c=t[s+3],128==(192&h)&&128==(192&l)&&128==(192&c)&&(u=(15&i)<<18|(63&h)<<12|(63&l)<<6|63&c)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),s+=a}return $e(r)}function $e(t){var e=t.length;if(e<=$h)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=$h));return n}function Xe(t,e,n){var r="";n=Math.min(t.length,n);for(var s=e;s<n;++s)r+=String.fromCharCode(127&t[s]);return r}function Ke(t,e,n){var r="";n=Math.min(t.length,n);for(var s=e;s<n;++s)r+=String.fromCharCode(t[s]);return r}function Je(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var s="",i=e;i<n;++i)s+=cn(t[i]);return s}function Qe(t,e,n){for(var r=t.slice(e,n),s="",i=0;i<r.length;i+=2)s+=String.fromCharCode(r[i]+256*r[i+1]);return s}function tn(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function en(t,e,n,r,s,i){if(!Pe(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function nn(t,e,n,r){e<0&&(e=65535+e+1);for(var s=0,i=Math.min(t.length-n,2);s<i;++s)t[n+s]=(e&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function rn(t,e,n,r){e<0&&(e=4294967295+e+1);for(var s=0,i=Math.min(t.length-n,4);s<i;++s)t[n+s]=e>>>8*(r?s:3-s)&255}function sn(t,e,n,r,s,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function on(t,e,n,r,s){return s||sn(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),ke(t,e,n,r,23,4),n+4}function an(t,e,n,r,s){return s||sn(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),ke(t,e,n,r,52,8),n+8}function hn(t){if((t=ln(t).replace(Jh,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function ln(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function cn(t){return t<16?"0"+t.toString(16):t.toString(16)}function un(t,e){e=e||1/0;for(var n,r=t.length,s=null,i=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!s){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&i.push(239,191,189);continue}s=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(e-=3)>-1&&i.push(239,191,189);if(s=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function fn(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function dn(t,e){for(var n,r,s,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,s=n%256,i.push(s),i.push(r);return i}function pn(t){return _e(hn(t))}function gn(t,e,n,r){for(var s=0;s<r&&!(s+n>=e.length||s>=t.length);++s)e[s+n]=t[s];return s}function mn(t){return t!==t}function _n(t){return null!=t&&(!!t._isBuffer||yn(t)||vn(t))}function yn(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function vn(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&yn(t.slice(0,0))}function bn(t){if(!jn(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(En(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,s=r.length,i=String(t).replace(el,function(t){if("%%"===t)return"%";if(n>=s)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),o=r[n];n<s;o=r[++n])Pn(o)||!Fn(o)?i+=" "+o:i+=" "+En(o);return i}function wn(t,e){if(Un(oh.process))return function(){return wn(t,e).apply(this,arguments)};if(!0===Nh.noDeprecation)return t;var n=!1;return function(){if(!n){if(Nh.throwDeprecation)throw new Error(e);Nh.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}function kn(t){if(Un(Kh)&&(Kh=Nh.env.NODE_DEBUG||""),t=t.toUpperCase(),!nl[t])if(new RegExp("\\b"+t+"\\b","i").test(Kh)){nl[t]=function(){var e=bn.apply(null,arguments);console.error("%s %d: %s",t,0,e)}}else nl[t]=function(){};return nl[t]}function En(t,e){var n={seen:[],stylize:Tn};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),Mn(e)?n.showHidden=e:e&&Jn(n,e),Un(n.showHidden)&&(n.showHidden=!1),Un(n.depth)&&(n.depth=2),Un(n.colors)&&(n.colors=!1),Un(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=xn),Sn(n,t,n.depth)}function xn(t,e){var n=En.styles[e];return n?"["+En.colors[n][0]+"m"+t+"["+En.colors[n][1]+"m":t}function Tn(t,e){return t}function Rn(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function Sn(t,e,n){if(t.customInspect&&e&&Wn(e.inspect)&&e.inspect!==En&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return jn(r)||(r=Sn(t,r,n)),r}var s=An(t,e);if(s)return s;var i=Object.keys(e),o=Rn(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),Zn(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return On(e);if(0===i.length){if(Wn(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(Hn(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(qn(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Zn(e))return On(e)}var h="",l=!1,c=["{","}"];if(Ln(e)&&(l=!0,c=["[","]"]),Wn(e)&&(h=" [Function"+(e.name?": "+e.name:"")+"]"),Hn(e)&&(h=" "+RegExp.prototype.toString.call(e)),qn(e)&&(h=" "+Date.prototype.toUTCString.call(e)),Zn(e)&&(h=" "+On(e)),0===i.length&&(!l||0==e.length))return c[0]+h+c[1];if(n<0)return Hn(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var u;return u=l?Cn(t,e,n,o,i):i.map(function(r){return Nn(t,e,n,o,r,l)}),t.seen.pop(),Dn(u,h,c)}function An(t,e){if(Un(e))return t.stylize("undefined","undefined");if(jn(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return In(e)?t.stylize(""+e,"number"):Mn(e)?t.stylize(""+e,"boolean"):Pn(e)?t.stylize("null","null"):void 0}function On(t){return"["+Error.prototype.toString.call(t)+"]"}function Cn(t,e,n,r,s){for(var i=[],o=0,a=e.length;o<a;++o)Qn(e,String(o))?i.push(Nn(t,e,n,r,String(o),!0)):i.push("");return s.forEach(function(s){s.match(/^\d+$/)||i.push(Nn(t,e,n,r,s,!0))}),i}function Nn(t,e,n,r,s,i){var o,a,h;if((h=Object.getOwnPropertyDescriptor(e,s)||{value:e[s]}).get?a=h.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):h.set&&(a=t.stylize("[Setter]","special")),Qn(r,s)||(o="["+s+"]"),a||(t.seen.indexOf(h.value)<0?(a=Pn(n)?Sn(t,h.value,null):Sn(t,h.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),Un(o)){if(i&&s.match(/^\d+$/))return a;(o=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function Dn(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function Ln(t){return Array.isArray(t)}function Mn(t){return"boolean"==typeof t}function Pn(t){return null===t}function Bn(t){return null==t}function In(t){return"number"==typeof t}function jn(t){return"string"==typeof t}function zn(t){return"symbol"==typeof t}function Un(t){return void 0===t}function Hn(t){return Fn(t)&&"[object RegExp]"===Gn(t)}function Fn(t){return"object"==typeof t&&null!==t}function qn(t){return Fn(t)&&"[object Date]"===Gn(t)}function Zn(t){return Fn(t)&&("[object Error]"===Gn(t)||t instanceof Error)}function Wn(t){return"function"==typeof t}function Vn(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function Yn(t){return _n(t)}function Gn(t){return Object.prototype.toString.call(t)}function $n(t){return t<10?"0"+t.toString(10):t.toString(10)}function Xn(){var t=new Date,e=[$n(t.getHours()),$n(t.getMinutes()),$n(t.getSeconds())].join(":");return[t.getDate(),rl[t.getMonth()],e].join(" ")}function Kn(){console.log("%s - %s",Xn(),bn.apply(null,arguments))}function Jn(t,e){if(!e||!Fn(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function Qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tr(t){if(!t||"object"!=typeof t)return!1;if(_l(t)){for(var e=0,n=t.length;e<n;e++)if(tr(t[e]))return!0;return!1}if("function"==typeof oh.Buffer&&oh.Buffer.isBuffer&&oh.Buffer.isBuffer(t)||"function"==typeof oh.ArrayBuffer&&t instanceof ArrayBuffer||vl&&t instanceof Blob||bl&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return tr(t.toJSON(),!0);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&tr(t[r]))return!0;return!1}function er(t,e){if(!t)return t;if(xl(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(El(t)){for(var r=new Array(t.length),s=0;s<t.length;s++)r[s]=er(t[s],e);return r}if("object"==typeof t&&!(t instanceof Date)){r={};for(var i in t)r[i]=er(t[i],e);return r}return t}function nr(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(El(t))for(var n=0;n<t.length;n++)t[n]=nr(t[n],e);else if("object"==typeof t)for(var r in t)t[r]=nr(t[r],e);return t}function rr(t){throw new RangeError(Hl[t])}function sr(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function ir(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+sr((t=t.replace(Ul,".")).split("."),e).join(".")}function or(t){for(var e,n,r=[],s=0,i=t.length;s<i;)(e=t.charCodeAt(s++))>=55296&&e<=56319&&s<i?56320==(64512&(n=t.charCodeAt(s++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),s--):r.push(e);return r}function ar(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function hr(t,e,n){var r=0;for(t=n?ql(t/Pl):t>>1,t+=ql(t/e);t>Fl*Ll>>1;r+=Nl)t=ql(t/Fl);return ql(r+(Fl+1)*t/(t+Ml))}function lr(t){var e,n,r,s,i,o,a,h,l,c,u,f,d,p,g,m=[];for(f=(t=or(t)).length,e=Il,n=0,i=Bl,o=0;o<f;++o)(u=t[o])<128&&m.push(Zl(u));for(r=s=m.length,s&&m.push(jl);r<f;){for(a=Cl,o=0;o<f;++o)(u=t[o])>=e&&u<a&&(a=u);for(a-e>ql((Cl-n)/(d=r+1))&&rr("overflow"),n+=(a-e)*d,e=a,o=0;o<f;++o)if((u=t[o])<e&&++n>Cl&&rr("overflow"),u==e){for(h=n,l=Nl;c=l<=i?Dl:l>=i+Ll?Ll:l-i,!(h<c);l+=Nl)g=h-c,p=Nl-c,m.push(Zl(ar(c+g%p,0))),h=ql(g/p);m.push(Zl(ar(h,0))),i=hr(n,d,r==s),n=0,++r}++n,++e}return m.join("")}function cr(t){return ir(t,function(t){return zl.test(t)?"xn--"+lr(t):t})}function ur(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fr(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function dr(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?pr(Vl(t),function(r){var s=encodeURIComponent(fr(r))+n;return Wl(t[r])?pr(t[r],function(t){return s+encodeURIComponent(fr(t))}).join(e):s+encodeURIComponent(fr(t[r]))}).join(e):r?encodeURIComponent(fr(r))+n+encodeURIComponent(fr(t)):""}function pr(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}function gr(t,e,n,r){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var i=/\+/g;t=t.split(e);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var h=0;h<a;++h){var l,c,u,f,d=t[h].replace(i,"%20"),p=d.indexOf(n);p>=0?(l=d.substr(0,p),c=d.substr(p+1)):(l=d,c=""),u=decodeURIComponent(l),f=decodeURIComponent(c),ur(s,u)?Wl(s[u])?s[u].push(f):s[u]=[s[u],f]:s[u]=f}return s}function mr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function _r(t,e,n){if(t&&Fn(t)&&t instanceof mr)return t;var r=new mr;return r.parse(t,e,n),r}function yr(t,e,n,r){if(!jn(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),i=-1!==s&&s<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/");var h=e=o.join(i);if(h=h.trim(),!r&&1===e.split("#").length){var l=Xl.exec(h);if(l)return t.path=h,t.href=h,t.pathname=l[1],l[2]?(t.search=l[2],t.query=n?gr(t.search.substr(1)):t.search.substr(1)):n&&(t.search="",t.query={}),t}var c=Gl.exec(h);if(c){var u=(c=c[0]).toLowerCase();t.protocol=u,h=h.substr(c.length)}if(r||c||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===h.substr(0,2);!f||c&&oc[c]||(h=h.substr(2),t.slashes=!0)}var d,p,g,m;if(!oc[c]&&(f||c&&!ac[c])){var _=-1;for(d=0;d<ec.length;d++)-1!==(p=h.indexOf(ec[d]))&&(-1===_||p<_)&&(_=p);var y,v;for(-1!==(v=-1===_?h.lastIndexOf("@"):h.lastIndexOf("@",_))&&(y=h.slice(0,v),h=h.slice(v+1),t.auth=decodeURIComponent(y)),_=-1,d=0;d<tc.length;d++)-1!==(p=h.indexOf(tc[d]))&&(-1===_||p<_)&&(_=p);-1===_&&(_=h.length),t.host=h.slice(0,_),h=h.slice(_),Er(t),t.hostname=t.hostname||"";var b="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1];if(!b){var w=t.hostname.split(/\./);for(d=0,g=w.length;d<g;d++){var k=w[d];if(k&&!k.match(rc)){for(var E="",x=0,T=k.length;x<T;x++)k.charCodeAt(x)>127?E+="x":E+=k[x];if(!E.match(rc)){var R=w.slice(0,d),S=w.slice(d+1),A=k.match(sc);A&&(R.push(A[1]),S.unshift(A[2])),S.length&&(h="/"+S.join(".")+h),t.hostname=R.join(".");break}}}}t.hostname.length>nc?t.hostname="":t.hostname=t.hostname.toLowerCase(),b||(t.hostname=cr(t.hostname)),m=t.port?":"+t.port:"";var O=t.hostname||"";t.host=O+m,t.href+=t.host,b&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!ic[u])for(d=0,g=Ql.length;d<g;d++){var C=Ql[d];if(-1!==h.indexOf(C)){var N=encodeURIComponent(C);N===C&&(N=escape(C)),h=h.split(C).join(N)}}var D=h.indexOf("#");-1!==D&&(t.hash=h.substr(D),h=h.slice(0,D));var L=h.indexOf("?");if(-1!==L?(t.search=h.substr(L),t.query=h.substr(L+1),n&&(t.query=gr(t.query)),h=h.slice(0,L)):n&&(t.search="",t.query={}),h&&(t.pathname=h),ac[u]&&t.hostname&&!t.pathname&&(t.pathname="/"),t.pathname||t.search){m=t.pathname||"";var M=t.search||"";t.path=m+M}return t.href=br(t),t}function vr(t){return jn(t)&&(t=yr({},t)),br(t)}function br(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var n=t.protocol||"",r=t.pathname||"",s=t.hash||"",i=!1,o="";t.host?i=e+t.host:t.hostname&&(i=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(i+=":"+t.port)),t.query&&Fn(t.query)&&Object.keys(t.query).length&&(o=dr(t.query));var a=t.search||o&&"?"+o||"";return n&&":"!==n.substr(-1)&&(n+=":"),t.slashes||(!n||ac[n])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),s&&"#"!==s.charAt(0)&&(s="#"+s),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),n+i+r+a+s}function wr(t,e){return _r(t,!1,!0).resolve(e)}function kr(t,e){return t?_r(t,!1,!0).resolveObject(e):e}function Er(t){var e=t.host,n=$l.exec(e);n&&(":"!==(n=n[0])&&(t.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(t.hostname=e)}function xr(){if(void 0!==hc)return hc;try{new oh.Blob([new ArrayBuffer(1)]),hc=!0}catch(t){hc=!1}return hc}function Tr(t){lc||(lc=new oh.XMLHttpRequest).open("GET",oh.location.host?"/":"https://example.com");try{return lc.responseType=t,lc.responseType===t}catch(t){return!1}}function Rr(t){return"function"==typeof t}function Sr(){}function Ar(){Ar.init.call(this)}function Or(t){return void 0===t._maxListeners?Ar.defaultMaxListeners:t._maxListeners}function Cr(t,e,n){if(e)t.call(n);else for(var r=t.length,s=Ur(t,r),i=0;i<r;++i)s[i].call(n)}function Nr(t,e,n,r){if(e)t.call(n,r);else for(var s=t.length,i=Ur(t,s),o=0;o<s;++o)i[o].call(n,r)}function Dr(t,e,n,r,s){if(e)t.call(n,r,s);else for(var i=t.length,o=Ur(t,i),a=0;a<i;++a)o[a].call(n,r,s)}function Lr(t,e,n,r,s,i){if(e)t.call(n,r,s,i);else for(var o=t.length,a=Ur(t,o),h=0;h<o;++h)a[h].call(n,r,s,i)}function Mr(t,e,n,r){if(e)t.apply(n,r);else for(var s=t.length,i=Ur(t,s),o=0;o<s;++o)i[o].apply(n,r)}function Pr(t,e,n,r){var s,i,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((i=t._events)?(i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]):(i=t._events=new Sr,t._eventsCount=0),o){if("function"==typeof o?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(s=Or(t))&&s>0&&o.length>s){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Br(a)}}else o=i[e]=n,++t._eventsCount;return t}function Br(t){"function"==typeof console.warn?console.warn(t):console.log(t)}function Ir(t,e,n){function r(){t.removeListener(e,r),s||(s=!0,n.apply(t,arguments))}var s=!1;return r.listener=n,r}function jr(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function zr(t,e){for(var n=e,r=n+1,s=t.length;r<s;n+=1,r+=1)t[n]=t[r];t.pop()}function Ur(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}function Hr(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Fr(){this.head=null,this.tail=null,this.length=0}function qr(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Zr(t){var e=qr(t);if("string"!=typeof e&&(wc.isEncoding===kc||!kc(t)))throw new Error("Unknown encoding: "+t);return e||t}function Wr(t){this.encoding=Zr(t);var e;switch(this.encoding){case"utf16le":this.text=Xr,this.end=Kr,e=4;break;case"utf8":this.fillLast=$r,e=4;break;case"base64":this.text=Jr,this.end=Qr,e=3;break;default:return this.write=ts,void(this.end=es)}this.lastNeed=0,this.lastTotal=0,this.lastChar=wc.allocUnsafe(e)}function Vr(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function Yr(t,e,n){var r=e.length-1;if(r<n)return 0;var s=Vr(e[r]);return s>=0?(s>0&&(t.lastNeed=s-1),s):--r<n?0:(s=Vr(e[r]))>=0?(s>0&&(t.lastNeed=s-2),s):--r<n?0:(s=Vr(e[r]))>=0?(s>0&&(2===s?s=0:t.lastNeed=s-3),s):0}function Gr(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"".repeat(n);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"".repeat(n+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"".repeat(n+2)}}function $r(t){var e=this.lastTotal-this.lastNeed,n=Gr(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function Xr(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Kr(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function Jr(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function Qr(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function ts(t){return t.toString(this.encoding)}function es(t){return t&&t.length?this.write(t):""}function ns(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function rs(t,e){return t.listeners(e).length}function ss(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof $s&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new Fr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new Ec(t.encoding),this.encoding=t.encoding)}function is(t){if(!(this instanceof is))return new is(t);this._readableState=new ss(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),Ar.call(this)}function os(t,e,n,r,s){var i=cs(e,n);if(i)t.emit("error",i);else if(null===n)e.reading=!1,us(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!s){var o=new Error("stream.push() after EOF");t.emit("error",o)}else if(e.endEmitted&&s){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var h;!e.decoder||s||r||(n=e.decoder.write(n),h=!e.objectMode&&0===n.length),s||(e.reading=!1),h||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,s?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&fs(t))),ps(t,e)}else s||(e.reading=!1);return as(e)}function as(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function hs(t){return t>=Tc?t=Tc:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function ls(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=hs(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function cs(t,e){var n=null;return _n(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function us(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,fs(t)}}function fs(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(xc("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?oe(ds,t):ds(t))}function ds(t){xc("emit readable"),t.emit("readable"),bs(t)}function ps(t,e){e.readingMore||(e.readingMore=!0,oe(gs,t,e))}function gs(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(xc("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function ms(t){return function(){var e=t._readableState;xc("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,bs(t))}}function _s(t){xc("readable nexttick read 0"),t.read(0)}function ys(t,e){e.resumeScheduled||(e.resumeScheduled=!0,oe(vs,t,e))}function vs(t,e){e.reading||(xc("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),bs(t),e.flowing&&!e.reading&&t.read(0)}function bs(t){var e=t._readableState;for(xc("flow",e.flowing);e.flowing&&null!==t.read(););}function ws(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=ks(t,e.buffer,e.decoder),n}function ks(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?Es(t,e):xs(t,e),r}function Es(t,e){var n=e.head,r=1,s=n.data;for(t-=s.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(o===i.length?s+=i:s+=i.slice(0,t),0===(t-=o)){o===i.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=i.slice(o));break}++r}return e.length-=r,s}function xs(t,e){var n=Te.allocUnsafe(t),r=e.head,s=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(n,n.length-t,0,o),0===(t-=o)){o===i.length?(++s,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=i.slice(o));break}++s}return e.length-=s,n}function Ts(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,oe(Rs,e,t))}function Rs(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Ss(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function As(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Os(){}function Cs(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function Ns(t,e){Object.defineProperty(this,"buffer",{get:wn(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof $s&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){Us(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Gs(this)}function Ds(t){if(!(this instanceof Ds||this instanceof $s))return new Ds(t);this._writableState=new Ns(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),Ar.call(this)}function Ls(t,e){var n=new Error("write after end");t.emit("error",n),oe(e,n)}function Ms(t,e,n,r){var s=!0,i=!1;return null===n?i=new TypeError("May not write null values to stream"):Te.isBuffer(n)||"string"==typeof n||void 0===n||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(t.emit("error",i),oe(r,i),s=!1),s}function Ps(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=Te.from(e,n)),e}function Bs(t,e,n,r,s){n=Ps(e,n,r),Te.isBuffer(n)&&(r="buffer");var i=e.objectMode?1:n.length;e.length+=i;var o=e.length<e.highWaterMark;if(o||(e.needDrain=!0),e.writing||e.corked){var a=e.lastBufferedRequest;e.lastBufferedRequest=new Cs(n,r,s),a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Is(t,e,!1,i,n,r,s);return o}function Is(t,e,n,r,s,i,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,n?t._writev(s,e.onwrite):t._write(s,i,e.onwrite),e.sync=!1}function js(t,e,n,r,s){--e.pendingcb,n?oe(s,r):s(r),t._writableState.errorEmitted=!0,t.emit("error",r)}function zs(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Us(t,e){var n=t._writableState,r=n.sync,s=n.writecb;if(zs(n),e)js(t,n,r,e,s);else{var i=Zs(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||qs(t,n),r?oe(Hs,t,n,i,s):Hs(t,n,i,s)}}function Hs(t,e,n,r){n||Fs(t,e),e.pendingcb--,r(),Vs(t,e)}function Fs(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function qs(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,s=new Array(r),i=e.corkedRequestsFree;i.entry=n;for(var o=0;n;)s[o]=n,n=n.next,o+=1;Is(t,e,!0,e.length,s,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new Gs(e)}else{for(;n;){var a=n.chunk,h=n.encoding,l=n.callback;if(Is(t,e,!1,e.objectMode?1:a.length,a,h,l),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function Zs(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function Ws(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function Vs(t,e){var n=Zs(e);return n&&(0===e.pendingcb?(Ws(t,e),e.finished=!0,t.emit("finish")):Ws(t,e)),n}function Ys(t,e,n){e.ending=!0,Vs(t,e),n&&(e.finished?oe(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function Gs(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var r=e.entry;for(e.entry=null;r;){var s=r.callback;t.pendingcb--,s(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}function $s(t){if(!(this instanceof $s))return new $s(t);is.call(this,t),Ds.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Xs)}function Xs(){this.allowHalfOpen||this._writableState.ended||oe(Ks,this)}function Ks(t){t.end()}function Js(t){this.afterTransform=function(e,n){return Qs(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Qs(t,e,n){var r=t._transformState;r.transforming=!1;var s=r.writecb;if(!s)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),s(e);var i=t._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&t._read(i.highWaterMark)}function ti(t){if(!(this instanceof ti))return new ti(t);$s.call(this,t),this._transformState=new Js(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){ei(e,t)}):ei(e)})}function ei(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}function ni(t){if(!(this instanceof ni))return new ni(t);ti.call(this,t)}function ri(){Ar.call(this)}function si(t,e,n){var r=this;is.call(r),r._mode=n,r.headers={},r.rawHeaders=[],r.trailers={},r.rawTrailers=[],r.on("end",function(){oe(function(){r.emit("close")})});var s;if("fetch"===n){r._fetchResponse=e,r.url=e.url,r.statusCode=e.status,r.statusMessage=e.statusText;for(var i,o,a=e.headers[Symbol.iterator]();i=(o=a.next()).value,!o.done;)r.headers[i[0].toLowerCase()]=i[1],r.rawHeaders.push(i[0],i[1]);var h=e.body.getReader();(s=function(){h.read().then(function(t){r._destroyed||(t.done?r.push(null):(r.push(new Te(t.value)),s()))})})()}else if(r._xhr=t,r._pos=0,r.url=t.responseURL,r.statusCode=t.status,r.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===r.headers[n]&&(r.headers[n]=[]),r.headers[n].push(e[2])):void 0!==r.headers[n]?r.headers[n]+=", "+e[2]:r.headers[n]=e[2],r.rawHeaders.push(e[1],e[2])}}),r._charset="x-user-defined",!_c){var l=r.rawHeaders["mime-type"];if(l){var c=l.match(/;\s*charset=([^;])(;|$)/);c&&(r._charset=c[1].toLowerCase())}r._charset||(r._charset="utf-8")}}function ii(t,e){return uc&&e?"fetch":mc?"moz-chunked-arraybuffer":gc?"ms-stream":pc&&t?"arraybuffer":yc&&t?"text:vbarray":"text"}function oi(t){var e=this;Ds.call(e),e._opts=t,e._body=[],e._headers={},t.auth&&e.setHeader("Authorization","Basic "+new Te(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(n){e.setHeader(n,t.headers[n])});var n,r=!0;if("disable-fetch"===t.mode)r=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!_c;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}e._mode=ii(n,r),e.on("finish",function(){e._onFinish()})}function ai(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}}function hi(t,e){"string"==typeof t&&(t=_r(t));var n=-1===oh.location.protocol.search(/^https?:$/)?"http:":"",r=t.protocol||n,s=t.hostname||t.host,i=t.port,o=t.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),t.url=(s?r+"//"+s:"")+(i?":"+i:"")+o,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var a=new oi(t);return e&&a.on("response",e),a}function li(t,e){var n=hi(t,e);return n.end(),n}function ci(){}function ui(t){var e,n,r=this,s=Ic,i=Ic,o={},a=!1,h={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},l=h,c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],u=["TRACE","TRACK","CONNECT"],f=!1,d=!1,p={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var g=function(t){return a||t&&-1===c.indexOf(t.toLowerCase())},m=function(t){return t&&-1===u.indexOf(t)};this.open=function(t,e,n,r,s){if(this.abort(),d=!1,!m(t))throw"SecurityError: Request method not allowed";o={method:t,url:e.toString(),async:"boolean"!=typeof n||n,user:r||null,password:s||null},_(this.OPENED)},this.setDisableHeaderCheck=function(t){a=t},this.setRequestHeader=function(t,e){if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN";if(!g(t))return console.warn('Refused to set unsafe header "'+t+'"'),!1;if(f)throw"INVALID_STATE_ERR: send flag is true";return l[t]=e,!0},this.getResponseHeader=function(t){return"string"==typeof t&&this.readyState>this.OPENED&&n.headers[t.toLowerCase()]&&!d?n.headers[t.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||d)return"";var t="";for(var e in n.headers)"set-cookie"!==e&&"set-cookie2"!==e&&(t+=e+": "+n.headers[e]+"\r\n");return t.substr(0,t.length-2)},this.getRequestHeader=function(t){return"string"==typeof t&&l[t]?l[t]:""},this.send=function(a){if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: connection must be opened before send() is called";if(f)throw"INVALID_STATE_ERR: send has already been called";var h,c=!1,u=!1,p=Bc.parse(o.url);switch(p.protocol){case"https:":c=!0;case"http:":h=p.hostname;break;case"file:":u=!0;break;case void 0:case"":h="localhost";break;default:throw"Protocol not supported."}if(u){if("GET"!==o.method)throw"XMLHttpRequest: Only GET method is supported";if(o.async)cl.readFile(p.pathname,"utf8",function(t,e){t?r.handleError(t):(r.status=200,r.responseText=e,_(r.DONE))});else try{this.responseText=cl.readFileSync(p.pathname,"utf8"),this.status=200,_(r.DONE)}catch(t){this.handleError(t)}}else{var g=p.port||(c?443:80),m=p.pathname+(p.search?p.search:"");if(l.Host=h,c&&443===g||80===g||(l.Host+=":"+p.port),o.user){void 0===o.password&&(o.password="");var y=new Te(o.user+":"+o.password);l.Authorization="Basic "+y.toString("base64")}"GET"===o.method||"HEAD"===o.method?a=null:a?(l["Content-Length"]=_n(a)?a.length:Te.byteLength(a),l["Content-Type"]||(l["Content-Type"]="text/plain;charset=UTF-8")):"POST"===o.method&&(l["Content-Length"]=0);var v=!1;t&&t.agent&&(v=t.agent);var b={host:h,port:g,path:m,method:o.method,headers:l,agent:v};if(c&&(b.pfx=t.pfx,b.key=t.key,b.passphrase=t.passphrase,b.cert=t.cert,b.ca=t.ca,b.ciphers=t.ciphers,b.rejectUnauthorized=t.rejectUnauthorized),d=!1,o.async){var w=c?i.request:s.request;f=!0,r.dispatchEvent("readystatechange");var k=function(s){if(302===(n=s).statusCode||303===n.statusCode||307===n.statusCode){o.url=n.headers.location;var i=Bc.parse(o.url);h=i.hostname;var a={hostname:i.hostname,port:i.port,path:i.path,method:303===n.statusCode?"GET":o.method,headers:l};return c&&(a.pfx=t.pfx,a.key=t.key,a.passphrase=t.passphrase,a.cert=t.cert,a.ca=t.ca,a.ciphers=t.ciphers,a.rejectUnauthorized=t.rejectUnauthorized),void(e=w(a,k).on("error",E)).end()}n&&n.setEncoding&&n.setEncoding("utf8"),_(r.HEADERS_RECEIVED),r.status=n.statusCode,n.on("data",function(t){t&&(r.responseText+=t),f&&_(r.LOADING)}),n.on("end",function(){f&&(_(r.DONE),f=!1)}),n.on("error",function(t){r.handleError(t)})},E=function(t){r.handleError(t)};e=w(b,k).on("error",E),a&&e.write(a),e.end(),r.dispatchEvent("loadstart")}else{var x=".node-xmlhttprequest-content-"+Nh.pid,T=".node-xmlhttprequest-sync-"+Nh.pid;cl.writeFileSync(T,"","utf8");for(var R="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(c?"s":"")+".request;var options = "+JSON.stringify(b)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+T+"');});response.on('error', function(error) {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+T+"');});}).on('error', function(error) {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+T+"');});"+(a?"req.write('"+a.replace(/'/g,"\\'")+"');":"")+"req.end();",S=jc(Nh.argv[0],["-e",R]);cl.existsSync(T););if(r.responseText=cl.readFileSync(x,"utf8"),S.stdin.end(),cl.unlinkSync(x),r.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var A=r.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");r.handleError(A)}else r.status=r.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),r.responseText=r.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),_(r.DONE)}}},this.handleError=function(t){this.status=503,this.statusText=t,this.responseText=t.stack,d=!0,_(this.DONE)},this.abort=function(){e&&(e.abort(),e=null),l=h,this.responseText="",this.responseXML="",d=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!f||this.readyState===this.DONE||(f=!1,_(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(t,e){t in p||(p[t]=[]),p[t].push(e)},this.removeEventListener=function(t,e){t in p&&(p[t]=p[t].filter(function(t){return t!==e}))},this.dispatchEvent=function(t){if("function"==typeof r["on"+t]&&r["on"+t](),t in p)for(var e=0,n=p[t].length;e<n;e++)p[t][e].call(r)};var _=function(t){r.readyState!==t&&(r.readyState=t,(o.async||r.readyState<r.OPENED||r.readyState===r.DONE)&&r.dispatchEvent("readystatechange"),r.readyState!==r.DONE||d||(r.dispatchEvent("load"),r.dispatchEvent("loadend")))}}function fi(){}function di(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}function pi(t){var e="";do{e=Gc[t%$c]+e,t=Math.floor(t/$c)}while(t>0);return e}function gi(){var t=pi(+new Date);return t!==Wc?(Kc=0,Wc=t):t+"."+pi(Kc++)}function mi(t){var e=t&&t.forceBase64;nu&&!e||(this.supportsBinary=!1),Zc.call(this,t)}function _i(){}function yi(t){if(eu.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,oh.location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd=t.hostname!==oh.location.hostname||n!==t.port,this.xs=t.secure!==e}}function vi(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function bi(){for(var t in vi.requests)vi.requests.hasOwnProperty(t)&&vi.requests[t].abort()}function wi(){}function ki(t){eu.call(this,t),this.query=this.query||{},ou||(oh.___eio||(oh.___eio=[]),ou=oh.___eio),this.index=ou.length;var e=this;ou.push(function(t){e.onData(t)}),this.query.j=this.index,oh.document&&oh.addEventListener&&oh.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=wi)},!1)}function Ei(t){if(!(this instanceof Ei))return new Ei(t);this.id=uu++,this.ee=t}function xi(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Ti(t,e,n,r,s){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),s);else for(var i=0;i<r;i++)t[s+i]=e[n+i]}function Ri(t){for(var e=t.length;--e>=0;)t[e]=0}function Si(t,e,n,r,s){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=t&&t.length}function Ai(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function Oi(t){return t<256?Zu[t]:Zu[256+(t>>>7)]}function Ci(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function Ni(t,e,n){t.bi_valid>Du-n?(t.bi_buf|=e<<t.bi_valid&65535,Ci(t,t.bi_buf),t.bi_buf=e>>Du-t.bi_valid,t.bi_valid+=n-Du):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function Di(t,e,n){Ni(t,n[2*e],n[2*e+1])}function Li(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function Mi(t){16===t.bi_valid?(Ci(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function Pi(t,e){var n,r,s,i,o,a,h=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(i=0;i<=Nu;i++)t.bl_count[i]=0;for(h[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<Cu;n++)(i=h[2*h[2*(r=t.heap[n])+1]+1]+1)>p&&(i=p,g++),h[2*r+1]=i,r>l||(t.bl_count[i]++,o=0,r>=d&&(o=f[r-d]),a=h[2*r],t.opt_len+=a*(i+o),u&&(t.static_len+=a*(c[2*r+1]+o)));if(0!==g){do{for(i=p-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(i=p;0!==i;i--)for(r=t.bl_count[i];0!==r;)(s=t.heap[--n])>l||(h[2*s+1]!==i&&(t.opt_len+=(i-h[2*s+1])*h[2*s],h[2*s+1]=i),r--)}}function Bi(t,e,n){var r,s,i=new Array(Nu+1),o=0;for(r=1;r<=Nu;r++)i[r]=o=o+n[r-1]<<1;for(s=0;s<=e;s++){var a=t[2*s+1];0!==a&&(t[2*s]=Li(i[a]++,a))}}function Ii(){var t,e,n,r,s,i=new Array(Nu+1);for(n=0,r=0;r<Tu-1;r++)for(Vu[r]=n,t=0;t<1<<ju[r];t++)Wu[n++]=r;for(Wu[n-1]=r,s=0,r=0;r<16;r++)for(Yu[r]=s,t=0;t<1<<zu[r];t++)Zu[s++]=r;for(s>>=7;r<Au;r++)for(Yu[r]=s<<7,t=0;t<1<<zu[r]-7;t++)Zu[256+s++]=r;for(e=0;e<=Nu;e++)i[e]=0;for(t=0;t<=143;)Fu[2*t+1]=8,t++,i[8]++;for(;t<=255;)Fu[2*t+1]=9,t++,i[9]++;for(;t<=279;)Fu[2*t+1]=7,t++,i[7]++;for(;t<=287;)Fu[2*t+1]=8,t++,i[8]++;for(Bi(Fu,Su+1,i),t=0;t<Au;t++)qu[2*t+1]=5,qu[2*t]=Li(t,5);Gu=new Si(Fu,ju,Ru+1,Su,Nu),$u=new Si(qu,zu,0,Au,Nu),Xu=new Si(new Array(0),Uu,0,Ou,Lu)}function ji(t){var e;for(e=0;e<Su;e++)t.dyn_ltree[2*e]=0;for(e=0;e<Au;e++)t.dyn_dtree[2*e]=0;for(e=0;e<Ou;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Mu]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function zi(t){t.bi_valid>8?Ci(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Ui(t,e,n,r){zi(t),r&&(Ci(t,n),Ci(t,~n)),Ti(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function Hi(t,e,n,r){var s=2*e,i=2*n;return t[s]<t[i]||t[s]===t[i]&&r[e]<=r[n]}function Fi(t,e,n){for(var r=t.heap[n],s=n<<1;s<=t.heap_len&&(s<t.heap_len&&Hi(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!Hi(e,r,t.heap[s],t.depth));)t.heap[n]=t.heap[s],n=s,s<<=1;t.heap[n]=r}function qi(t,e,n){var r,s,i,o,a=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],s=t.pending_buf[t.l_buf+a],a++,0===r?Di(t,s,e):(Di(t,(i=Wu[s])+Ru+1,e),0!==(o=ju[i])&&Ni(t,s-=Vu[i],o),Di(t,i=Oi(--r),n),0!==(o=zu[i])&&Ni(t,r-=Yu[i],o))}while(a<t.last_lit);Di(t,Mu,e)}function Zi(t,e){var n,r,s,i=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=Cu,n=0;n<h;n++)0!==i[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)i[2*(s=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[s]=0,t.opt_len--,a&&(t.static_len-=o[2*s+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)Fi(t,i,n);s=h;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Fi(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*s]=i[2*n]+i[2*r],t.depth[s]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=s,t.heap[1]=s++,Fi(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Pi(t,e),Bi(i,l,t.bl_count)}function Wi(t,e,n){var r,s,i=-1,o=e[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)s=o,o=e[2*(r+1)+1],++a<h&&s===o||(a<l?t.bl_tree[2*s]+=a:0!==s?(s!==i&&t.bl_tree[2*s]++,t.bl_tree[2*Pu]++):a<=10?t.bl_tree[2*Bu]++:t.bl_tree[2*Iu]++,a=0,i=s,0===o?(h=138,l=3):s===o?(h=6,l=3):(h=7,l=4))}function Vi(t,e,n){var r,s,i=-1,o=e[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),r=0;r<=n;r++)if(s=o,o=e[2*(r+1)+1],!(++a<h&&s===o)){if(a<l)do{Di(t,s,t.bl_tree)}while(0!=--a);else 0!==s?(s!==i&&(Di(t,s,t.bl_tree),a--),Di(t,Pu,t.bl_tree),Ni(t,a-3,2)):a<=10?(Di(t,Bu,t.bl_tree),Ni(t,a-3,3)):(Di(t,Iu,t.bl_tree),Ni(t,a-11,7));a=0,i=s,0===o?(h=138,l=3):s===o?(h=6,l=3):(h=7,l=4)}}function Yi(t){var e;for(Wi(t,t.dyn_ltree,t.l_desc.max_code),Wi(t,t.dyn_dtree,t.d_desc.max_code),Zi(t,t.bl_desc),e=Ou-1;e>=3&&0===t.bl_tree[2*Hu[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function Gi(t,e,n,r){var s;for(Ni(t,e-257,5),Ni(t,n-1,5),Ni(t,r-4,4),s=0;s<r;s++)Ni(t,t.bl_tree[2*Hu[s]+1],3);Vi(t,t.dyn_ltree,e-1),Vi(t,t.dyn_dtree,n-1)}function $i(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return vu;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return bu;for(e=32;e<Ru;e++)if(0!==t.dyn_ltree[2*e])return bu;return vu}function Xi(t){Ju||(Ii(),Ju=!0),t.l_desc=new Ai(t.dyn_ltree,Gu),t.d_desc=new Ai(t.dyn_dtree,$u),t.bl_desc=new Ai(t.bl_tree,Xu),t.bi_buf=0,t.bi_valid=0,ji(t)}function Ki(t,e,n,r){Ni(t,(ku<<1)+(r?1:0),3),Ui(t,e,n,!0)}function Ji(t){Ni(t,Eu<<1,3),Di(t,Mu,Fu),Mi(t)}function Qi(t,e,n,r){var s,i,o=0;t.level>0?(t.strm.data_type===wu&&(t.strm.data_type=$i(t)),Zi(t,t.l_desc),Zi(t,t.d_desc),o=Yi(t),s=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=s&&(s=i)):s=i=n+5,n+4<=s&&-1!==e?Ki(t,e,n,r):t.strategy===yu||i===s?(Ni(t,(Eu<<1)+(r?1:0),3),qi(t,Fu,qu)):(Ni(t,(xu<<1)+(r?1:0),3),Gi(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),qi(t,t.dyn_ltree,t.dyn_dtree)),ji(t),r&&zi(t)}function to(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(Wu[n]+Ru+1)]++,t.dyn_dtree[2*Oi(e)]++),t.last_lit===t.lit_bufsize-1}function eo(t,e,n,r){for(var s=65535&t|0,i=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(s=s+e[r++]|0)|0}while(--o);s%=65521,i%=65521}return s|i<<16|0}function no(t,e,n,r){var s=Qu,i=r+n;t^=-1;for(var o=r;o<i;o++)t=t>>>8^s[255&(t^e[o])];return-1^t}function ro(t,e){return t.msg=pu[e],e}function so(t){return(t<<1)-(t>4?9:0)}function io(t){for(var e=t.length;--e>=0;)t[e]=0}function oo(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(Ti(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function ao(t,e){Qi(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,oo(t.strm)}function ho(t,e){t.pending_buf[t.pending++]=e}function lo(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function co(t,e,n,r){var s=t.avail_in;return s>r&&(s=r),0===s?0:(t.avail_in-=s,Ti(e,t.input,t.next_in,s,n),1===t.state.wrap?t.adler=eo(t.adler,e,s,n):2===t.state.wrap&&(t.adler=no(t.adler,e,s,n)),t.next_in+=s,t.total_in+=s,s)}function uo(t,e){var n,r,s=t.max_chain_length,i=t.strstart,o=t.prev_length,a=t.nice_match,h=t.strstart>t.w_size-Rf?t.strstart-(t.w_size-Rf):0,l=t.window,c=t.w_mask,u=t.prev,f=t.strstart+Tf,d=l[i+o-1],p=l[i+o];t.prev_length>=t.good_match&&(s>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,l[n+o]===p&&l[n+o-1]===d&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do{}while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<f);if(r=Tf-(f-i),i=f-Tf,r>o){if(t.match_start=e,o=r,r>=a)break;d=l[i+o-1],p=l[i+o]}}}while((e=u[e&c])>h&&0!=--s);return o<=t.lookahead?o:t.lookahead}function fo(t){var e,n,r,s,i,o=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-Rf)){Ti(t.window,t.window,o,o,0),t.match_start-=o,t.strstart-=o,t.block_start-=o,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=o?r-o:0}while(--n);e=n=o;do{r=t.prev[--e],t.prev[e]=r>=o?r-o:0}while(--n);s+=o}if(0===t.strm.avail_in)break;if(n=co(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=n,t.lookahead+t.insert>=xf)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+xf-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<xf)););}while(t.lookahead<Rf&&0!==t.strm.avail_in)}function po(t,e){for(var n,r;;){if(t.lookahead<Rf){if(fo(t),t.lookahead<Rf&&e===tf)return Pf;if(0===t.lookahead)break}if(n=0,t.lookahead>=xf&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+xf-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Rf&&(t.match_length=uo(t,n)),t.match_length>=xf)if(r=to(t,t.strstart-t.match_start,t.match_length-xf),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=xf){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+xf-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=to(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(ao(t,!1),0===t.strm.avail_out))return Pf}return t.insert=t.strstart<xf-1?t.strstart:xf-1,e===rf?(ao(t,!0),0===t.strm.avail_out?If:jf):t.last_lit&&(ao(t,!1),0===t.strm.avail_out)?Pf:Bf}function go(t,e){for(var n,r,s;;){if(t.lookahead<Rf){if(fo(t),t.lookahead<Rf&&e===tf)return Pf;if(0===t.lookahead)break}if(n=0,t.lookahead>=xf&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+xf-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=xf-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Rf&&(t.match_length=uo(t,n),t.match_length<=5&&(t.strategy===ff||t.match_length===xf&&t.strstart-t.match_start>4096)&&(t.match_length=xf-1)),t.prev_length>=xf&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-xf,r=to(t,t.strstart-1-t.prev_match,t.prev_length-xf),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=s&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+xf-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=xf-1,t.strstart++,r&&(ao(t,!1),0===t.strm.avail_out))return Pf}else if(t.match_available){if((r=to(t,0,t.window[t.strstart-1]))&&ao(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Pf}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=to(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<xf-1?t.strstart:xf-1,e===rf?(ao(t,!0),0===t.strm.avail_out?If:jf):t.last_lit&&(ao(t,!1),0===t.strm.avail_out)?Pf:Bf}function mo(t,e){for(var n,r,s,i,o=t.window;;){if(t.lookahead<=Tf){if(fo(t),t.lookahead<=Tf&&e===tf)return Pf;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=xf&&t.strstart>0&&(s=t.strstart-1,(r=o[s])===o[++s]&&r===o[++s]&&r===o[++s])){i=t.strstart+Tf;do{}while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<i);t.match_length=Tf-(i-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=xf?(n=to(t,1,t.match_length-xf),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=to(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ao(t,!1),0===t.strm.avail_out))return Pf}return t.insert=0,e===rf?(ao(t,!0),0===t.strm.avail_out?If:jf):t.last_lit&&(ao(t,!1),0===t.strm.avail_out)?Pf:Bf}function _o(t,e){for(var n;;){if(0===t.lookahead&&(fo(t),0===t.lookahead)){if(e===tf)return Pf;break}if(t.match_length=0,n=to(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ao(t,!1),0===t.strm.avail_out))return Pf}return t.insert=0,e===rf?(ao(t,!0),0===t.strm.avail_out?If:jf):t.last_lit&&(ao(t,!1),0===t.strm.avail_out)?Pf:Bf}function yo(t,e,n,r,s){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=s}function vo(t){t.window_size=2*t.w_size,io(t.head),t.max_lazy_match=Ku[t.level].max_lazy,t.good_match=Ku[t.level].good_length,t.nice_match=Ku[t.level].nice_length,t.max_chain_length=Ku[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=xf-1,t.match_available=0,t.ins_h=0}function bo(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new mu(2*kf),this.dyn_dtree=new mu(2*(2*bf+1)),this.bl_tree=new mu(2*(2*wf+1)),io(this.dyn_ltree),io(this.dyn_dtree),io(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new mu(Ef+1),this.heap=new mu(2*vf+1),io(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new mu(2*vf+1),io(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function wo(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=mf,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Af:Lf,t.adler=2===e.wrap?0:1,e.last_flush=tf,Xi(e),of):ro(t,hf)}function ko(t){var e=wo(t);return e===of&&vo(t.state),e}function Eo(t,e,n,r,s,i){if(!t)return hf;var o=1;if(e===uf&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>yf||n!==_f||r<8||r>15||e<0||e>9||i<0||i>gf)return ro(t,hf);8===r&&(r=9);var a=new bo;return t.state=a,a.strm=t,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+xf-1)/xf),a.window=new gu(2*a.w_size),a.head=new mu(a.hash_size),a.prev=new mu(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new gu(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=i,a.method=n,ko(t)}function xo(t,e){var n,r,s,i;if(!t||!t.state||e>sf||e<0)return t?ro(t,hf):hf;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===Mf&&e!==rf)return ro(t,0===t.avail_out?cf:hf);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===Af)if(2===r.wrap)t.adler=0,ho(r,31),ho(r,139),ho(r,8),r.gzhead?(ho(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ho(r,255&r.gzhead.time),ho(r,r.gzhead.time>>8&255),ho(r,r.gzhead.time>>16&255),ho(r,r.gzhead.time>>24&255),ho(r,9===r.level?2:r.strategy>=df||r.level<2?4:0),ho(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ho(r,255&r.gzhead.extra.length),ho(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=no(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Of):(ho(r,0),ho(r,0),ho(r,0),ho(r,0),ho(r,0),ho(r,9===r.level?2:r.strategy>=df||r.level<2?4:0),ho(r,zf),r.status=Lf);else{var o=_f+(r.w_bits-8<<4)<<8;o|=(r.strategy>=df||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=Sf),o+=31-o%31,r.status=Lf,lo(r,o),0!==r.strstart&&(lo(r,t.adler>>>16),lo(r,65535&t.adler)),t.adler=1}if(r.status===Of)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(t.adler=no(t.adler,r.pending_buf,r.pending-s,s)),oo(t),s=r.pending,r.pending!==r.pending_buf_size));)ho(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(t.adler=no(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Cf)}else r.status=Cf;if(r.status===Cf)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=no(t.adler,r.pending_buf,r.pending-s,s)),oo(t),s=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ho(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>s&&(t.adler=no(t.adler,r.pending_buf,r.pending-s,s)),0===i&&(r.gzindex=0,r.status=Nf)}else r.status=Nf;if(r.status===Nf)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=no(t.adler,r.pending_buf,r.pending-s,s)),oo(t),s=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ho(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>s&&(t.adler=no(t.adler,r.pending_buf,r.pending-s,s)),0===i&&(r.status=Df)}else r.status=Df;if(r.status===Df&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&oo(t),r.pending+2<=r.pending_buf_size&&(ho(r,255&t.adler),ho(r,t.adler>>8&255),t.adler=0,r.status=Lf)):r.status=Lf),0!==r.pending){if(oo(t),0===t.avail_out)return r.last_flush=-1,of}else if(0===t.avail_in&&so(e)<=so(n)&&e!==rf)return ro(t,cf);if(r.status===Mf&&0!==t.avail_in)return ro(t,cf);if(0!==t.avail_in||0!==r.lookahead||e!==tf&&r.status!==Mf){var a=r.strategy===df?_o(r,e):r.strategy===pf?mo(r,e):Ku[r.level].func(r,e);if(a!==If&&a!==jf||(r.status=Mf),a===Pf||a===If)return 0===t.avail_out&&(r.last_flush=-1),of;if(a===Bf&&(e===ef?Ji(r):e!==sf&&(Ki(r,0,0,!1),e===nf&&(io(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),oo(t),0===t.avail_out))return r.last_flush=-1,of}return e!==rf?of:r.wrap<=0?af:(2===r.wrap?(ho(r,255&t.adler),ho(r,t.adler>>8&255),ho(r,t.adler>>16&255),ho(r,t.adler>>24&255),ho(r,255&t.total_in),ho(r,t.total_in>>8&255),ho(r,t.total_in>>16&255),ho(r,t.total_in>>24&255)):(lo(r,t.adler>>>16),lo(r,65535&t.adler)),oo(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?of:af)}function To(t){var e;return t&&t.state?(e=t.state.status)!==Af&&e!==Of&&e!==Cf&&e!==Nf&&e!==Df&&e!==Lf&&e!==Mf?ro(t,hf):(t.state=null,e===Lf?ro(t,lf):of):hf}function Ro(t,e){var n,r,s,i,o,a,h,l,c,u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R;n=t.state,r=t.next_in,T=t.input,s=r+(t.avail_in-5),i=t.next_out,R=t.output,o=i-(e-t.avail_out),a=i+(t.avail_out-257),h=n.dmax,l=n.wsize,c=n.whave,u=n.wnext,f=n.window,d=n.hold,p=n.bits,g=n.lencode,m=n.distcode,_=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(d+=T[r++]<<p,p+=8,d+=T[r++]<<p,p+=8),v=g[d&_];e:for(;;){if(b=v>>>24,d>>>=b,p-=b,0===(b=v>>>16&255))R[i++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=g[(65535&v)+(d&(1<<b)-1)];continue e}if(32&b){n.mode=qf;break t}t.msg="invalid literal/length code",n.mode=Ff;break t}w=65535&v,(b&=15)&&(p<b&&(d+=T[r++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=T[r++]<<p,p+=8,d+=T[r++]<<p,p+=8),v=m[d&y];n:for(;;){if(b=v>>>24,d>>>=b,p-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=m[(65535&v)+(d&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=Ff;break t}if(k=65535&v,b&=15,p<b&&(d+=T[r++]<<p,(p+=8)<b&&(d+=T[r++]<<p,p+=8)),(k+=d&(1<<b)-1)>h){t.msg="invalid distance too far back",n.mode=Ff;break t}if(d>>>=b,p-=b,b=i-o,k>b){if((b=k-b)>c&&n.sane){t.msg="invalid distance too far back",n.mode=Ff;break t}if(E=0,x=f,0===u){if(E+=l-b,b<w){w-=b;do{R[i++]=f[E++]}while(--b);E=i-k,x=R}}else if(u<b){if(E+=l+u-b,(b-=u)<w){w-=b;do{R[i++]=f[E++]}while(--b);if(E=0,u<w){w-=b=u;do{R[i++]=f[E++]}while(--b);E=i-k,x=R}}}else if(E+=u-b,b<w){w-=b;do{R[i++]=f[E++]}while(--b);E=i-k,x=R}for(;w>2;)R[i++]=x[E++],R[i++]=x[E++],R[i++]=x[E++],w-=3;w&&(R[i++]=x[E++],w>1&&(R[i++]=x[E++]))}else{E=i-k;do{R[i++]=R[E++],R[i++]=R[E++],R[i++]=R[E++],w-=3}while(w>2);w&&(R[i++]=R[E++],w>1&&(R[i++]=R[E++]))}break}}break}}while(r<s&&i<a);r-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=r,t.next_out=i,t.avail_in=r<s?s-r+5:5-(r-s),t.avail_out=i<a?a-i+257:257-(i-a),n.hold=d,n.bits=p}function So(t,e,n,r,s,i,o,a){var h,l,c,u,f,d,p,g,m,_=a.bits,y=0,v=0,b=0,w=0,k=0,E=0,x=0,T=0,R=0,S=0,A=null,O=0,C=new mu(Zf+1),N=new mu(Zf+1),D=null,L=0;for(y=0;y<=Zf;y++)C[y]=0;for(v=0;v<r;v++)C[e[n+v]]++;for(k=_,w=Zf;w>=1&&0===C[w];w--);if(k>w&&(k=w),0===w)return s[i++]=20971520,s[i++]=20971520,a.bits=1,0;for(b=1;b<w&&0===C[b];b++);for(k<b&&(k=b),T=1,y=1;y<=Zf;y++)if(T<<=1,(T-=C[y])<0)return-1;if(T>0&&(t===Yf||1!==w))return-1;for(N[1]=0,y=1;y<Zf;y++)N[y+1]=N[y]+C[y];for(v=0;v<r;v++)0!==e[n+v]&&(o[N[e[n+v]]++]=v);if(t===Yf?(A=D=o,d=19):t===Gf?(A=Xf,O-=257,D=Kf,L-=257,d=256):(A=Jf,D=Qf,d=-1),S=0,v=0,y=b,f=i,E=k,x=0,c=-1,R=1<<k,u=R-1,t===Gf&&R>Wf||t===$f&&R>Vf)return 1;for(;;){0,p=y-x,o[v]<d?(g=0,m=o[v]):o[v]>d?(g=D[L+o[v]],m=A[O+o[v]]):(g=96,m=0),h=1<<y-x,b=l=1<<E;do{s[f+(S>>x)+(l-=h)]=p<<24|g<<16|m|0}while(0!==l);for(h=1<<y-1;S&h;)h>>=1;if(0!==h?(S&=h-1,S+=h):S=0,v++,0==--C[y]){if(y===w)break;y=e[n+o[v]]}if(y>k&&(S&u)!==c){for(0===x&&(x=k),f+=b,T=1<<(E=y-x);E+x<w&&!((T-=C[E+x])<=0);)E++,T<<=1;if(R+=1<<E,t===Gf&&R>Wf||t===$f&&R>Vf)return 1;s[c=S&u]=k<<24|E<<16|f-i|0}}return 0!==S&&(s[f+S]=y-x<<24|64<<16|0),a.bits=k,0}function Ao(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function Oo(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new mu(320),this.work=new mu(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Co(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=pd,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new _u(Vd),e.distcode=e.distdyn=new _u(Yd),e.sane=1,e.back=-1,od):ld}function No(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,Co(t)):ld}function Do(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?ld:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,No(t))):ld}function Lo(t,e){var n,r;return t?(r=new Oo,t.state=r,r.window=null,(n=Do(t,e))!==od&&(t.state=null),n):ld}function Mo(t){if(Gd){var e;for(Uf=new _u(512),Hf=new _u(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(So(ed,t.lens,0,288,Uf,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;So(nd,t.lens,0,32,Hf,0,t.work,{bits:5}),Gd=!1}t.lencode=Uf,t.lenbits=9,t.distcode=Hf,t.distbits=5}function Po(t,e,n,r){var s,i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new gu(i.wsize)),r>=i.wsize?(Ti(i.window,e,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):((s=i.wsize-i.wnext)>r&&(s=r),Ti(i.window,e,n-r,s,i.wnext),(r-=s)?(Ti(i.window,e,n-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0}function Bo(t,e){var n,r,s,i,o,a,h,l,c,u,f,d,p,g,m,_,y,v,b,w,k,E,x,T,R=0,S=new gu(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return ld;(n=t.state).mode===Td&&(n.mode=Rd),o=t.next_out,s=t.output,h=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,l=n.hold,c=n.bits,u=a,f=h,E=od;t:for(;;)switch(n.mode){case pd:if(0===n.wrap){n.mode=Rd;break}for(;c<16;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}if(2&n.wrap&&35615===l){n.check=0,S[0]=255&l,S[1]=l>>>8&255,n.check=no(n.check,S,2,0),l=0,c=0,n.mode=gd;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=qd;break}if((15&l)!==dd){t.msg="unknown compression method",n.mode=qd;break}if(l>>>=4,c-=4,k=8+(15&l),0===n.wbits)n.wbits=k;else if(k>n.wbits){t.msg="invalid window size",n.mode=qd;break}n.dmax=1<<k,t.adler=n.check=1,n.mode=512&l?Ed:Td,l=0,c=0;break;case gd:for(;c<16;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}if(n.flags=l,(255&n.flags)!==dd){t.msg="unknown compression method",n.mode=qd;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=qd;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&(S[0]=255&l,S[1]=l>>>8&255,n.check=no(n.check,S,2,0)),l=0,c=0,n.mode=md;case md:for(;c<32;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}n.head&&(n.head.time=l),512&n.flags&&(S[0]=255&l,S[1]=l>>>8&255,S[2]=l>>>16&255,S[3]=l>>>24&255,n.check=no(n.check,S,4,0)),l=0,c=0,n.mode=_d;case _d:for(;c<16;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&(S[0]=255&l,S[1]=l>>>8&255,n.check=no(n.check,S,2,0)),l=0,c=0,n.mode=yd;case yd:if(1024&n.flags){for(;c<16;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&(S[0]=255&l,S[1]=l>>>8&255,n.check=no(n.check,S,2,0)),l=0,c=0}else n.head&&(n.head.extra=null);n.mode=vd;case vd:if(1024&n.flags&&((d=n.length)>a&&(d=a),d&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Ti(n.head.extra,r,i,d,k)),512&n.flags&&(n.check=no(n.check,r,d,i)),a-=d,i+=d,n.length-=d),n.length))break t;n.length=0,n.mode=bd;case bd:if(2048&n.flags){if(0===a)break t;d=0;do{k=r[i+d++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&d<a);if(512&n.flags&&(n.check=no(n.check,r,d,i)),a-=d,i+=d,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=wd;case wd:if(4096&n.flags){if(0===a)break t;d=0;do{k=r[i+d++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&d<a);if(512&n.flags&&(n.check=no(n.check,r,d,i)),a-=d,i+=d,k)break t}else n.head&&(n.head.comment=null);n.mode=kd;case kd:if(512&n.flags){for(;c<16;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}if(l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=qd;break}l=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Td;break;case Ed:for(;c<32;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}t.adler=n.check=Ao(l),l=0,c=0,n.mode=xd;case xd:if(0===n.havedict)return t.next_out=o,t.avail_out=h,t.next_in=i,t.avail_in=a,n.hold=l,n.bits=c,hd;t.adler=n.check=1,n.mode=Td;case Td:if(e===sd||e===id)break t;case Rd:if(n.last){l>>>=7&c,c-=7&c,n.mode=Ud;break}for(;c<3;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}switch(n.last=1&l,l>>>=1,c-=1,3&l){case 0:n.mode=Sd;break;case 1:if(Mo(n),n.mode=Ld,e===id){l>>>=2,c-=2;break t}break;case 2:n.mode=Cd;break;case 3:t.msg="invalid block type",n.mode=qd}l>>>=2,c-=2;break;case Sd:for(l>>>=7&c,c-=7&c;c<32;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=qd;break}if(n.length=65535&l,l=0,c=0,n.mode=Ad,e===id)break t;case Ad:n.mode=Od;case Od:if(d=n.length){if(d>a&&(d=a),d>h&&(d=h),0===d)break t;Ti(s,r,i,d,o),a-=d,i+=d,h-=d,o+=d,n.length-=d;break}n.mode=Td;break;case Cd:for(;c<14;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}if(n.nlen=257+(31&l),l>>>=5,c-=5,n.ndist=1+(31&l),l>>>=5,c-=5,n.ncode=4+(15&l),l>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=qd;break}n.have=0,n.mode=Nd;case Nd:for(;n.have<n.ncode;){for(;c<3;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}n.lens[A[n.have++]]=7&l,l>>>=3,c-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,x={bits:n.lenbits},E=So(td,n.lens,0,19,n.lencode,0,n.work,x),n.lenbits=x.bits,E){t.msg="invalid code lengths set",n.mode=qd;break}n.have=0,n.mode=Dd;case Dd:for(;n.have<n.nlen+n.ndist;){for(;R=n.lencode[l&(1<<n.lenbits)-1],m=R>>>24,_=R>>>16&255,y=65535&R,!(m<=c);){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}if(y<16)l>>>=m,c-=m,n.lens[n.have++]=y;else{if(16===y){for(T=m+2;c<T;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}if(l>>>=m,c-=m,0===n.have){t.msg="invalid bit length repeat",n.mode=qd;break}k=n.lens[n.have-1],d=3+(3&l),l>>>=2,c-=2}else if(17===y){for(T=m+3;c<T;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}c-=m,k=0,d=3+(7&(l>>>=m)),l>>>=3,c-=3}else{for(T=m+7;c<T;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}c-=m,k=0,d=11+(127&(l>>>=m)),l>>>=7,c-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=qd;break}for(;d--;)n.lens[n.have++]=k}}if(n.mode===qd)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=qd;break}if(n.lenbits=9,x={bits:n.lenbits},E=So(ed,n.lens,0,n.nlen,n.lencode,0,n.work,x),n.lenbits=x.bits,E){t.msg="invalid literal/lengths set",n.mode=qd;break}if(n.distbits=6,n.distcode=n.distdyn,x={bits:n.distbits},E=So(nd,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,x),n.distbits=x.bits,E){t.msg="invalid distances set",n.mode=qd;break}if(n.mode=Ld,e===id)break t;case Ld:n.mode=Md;case Md:if(a>=6&&h>=258){t.next_out=o,t.avail_out=h,t.next_in=i,t.avail_in=a,n.hold=l,n.bits=c,Ro(t,f),o=t.next_out,s=t.output,h=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,l=n.hold,c=n.bits,n.mode===Td&&(n.back=-1);break}for(n.back=0;R=n.lencode[l&(1<<n.lenbits)-1],m=R>>>24,_=R>>>16&255,y=65535&R,!(m<=c);){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}if(_&&0==(240&_)){for(v=m,b=_,w=y;R=n.lencode[w+((l&(1<<v+b)-1)>>v)],m=R>>>24,_=R>>>16&255,y=65535&R,!(v+m<=c);){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}l>>>=v,c-=v,n.back+=v}if(l>>>=m,c-=m,n.back+=m,n.length=y,0===_){n.mode=zd;break}if(32&_){n.back=-1,n.mode=Td;break}if(64&_){t.msg="invalid literal/length code",n.mode=qd;break}n.extra=15&_,n.mode=Pd;case Pd:if(n.extra){for(T=n.extra;c<T;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Bd;case Bd:for(;R=n.distcode[l&(1<<n.distbits)-1],m=R>>>24,_=R>>>16&255,y=65535&R,!(m<=c);){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}if(0==(240&_)){for(v=m,b=_,w=y;R=n.distcode[w+((l&(1<<v+b)-1)>>v)],m=R>>>24,_=R>>>16&255,y=65535&R,!(v+m<=c);){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}l>>>=v,c-=v,n.back+=v}if(l>>>=m,c-=m,n.back+=m,64&_){t.msg="invalid distance code",n.mode=qd;break}n.offset=y,n.extra=15&_,n.mode=Id;case Id:if(n.extra){for(T=n.extra;c<T;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=qd;break}n.mode=jd;case jd:if(0===h)break t;if(d=f-h,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=qd;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),g=n.window}else g=s,p=o-n.offset,d=n.length;d>h&&(d=h),h-=d,n.length-=d;do{s[o++]=g[p++]}while(--d);0===n.length&&(n.mode=Md);break;case zd:if(0===h)break t;s[o++]=n.length,h--,n.mode=Md;break;case Ud:if(n.wrap){for(;c<32;){if(0===a)break t;a--,l|=r[i++]<<c,c+=8}if(f-=h,t.total_out+=f,n.total+=f,f&&(t.adler=n.check=n.flags?no(n.check,s,f,o-f):eo(n.check,s,f,o-f)),f=h,(n.flags?l:Ao(l))!==n.check){t.msg="incorrect data check",n.mode=qd;break}l=0,c=0}n.mode=Hd;case Hd:if(n.wrap&&n.flags){for(;c<32;){if(0===a)break t;a--,l+=r[i++]<<c,c+=8}if(l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=qd;break}l=0,c=0}n.mode=Fd;case Fd:E=ad;break t;case qd:E=cd;break t;case Zd:return ud;case Wd:default:return ld}return t.next_out=o,t.avail_out=h,t.next_in=i,t.avail_in=a,n.hold=l,n.bits=c,(n.wsize||f!==t.avail_out&&n.mode<qd&&(n.mode<Ud||e!==rd))&&Po(t,t.output,t.next_out,f-t.avail_out)?(n.mode=Zd,ud):(u-=t.avail_in,f-=t.avail_out,t.total_in+=u,t.total_out+=f,n.total+=f,n.wrap&&f&&(t.adler=n.check=n.flags?no(n.check,s,f,t.next_out-f):eo(n.check,s,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Td?128:0)+(n.mode===Ld||n.mode===Ad?256:0),(0===u&&0===f||e===rd)&&E===od&&(E=fd),E)}function Io(t){if(!t||!t.state)return ld;var e=t.state;return e.window&&(e.window=null),t.state=null,od}function jo(t){if(t<$d||t>Xd)throw new TypeError("Bad argument");this.mode=t,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function zo(t,e){for(var n=0;n<t.length;n++)this[e+n]=t[n]}function Uo(t,e){if(!t)throw new Error(e)}function Ho(t){return new ca(t)}function Fo(t){return new ua(t)}function qo(t){return new pa(t)}function Zo(t){return new ga(t)}function Wo(t){return new fa(t)}function Vo(t){return new da(t)}function Yo(t){return new ma(t)}function Go(t,e,n){return"function"==typeof e&&(n=e,e={}),ha(new ca(e),t,n)}function $o(t,e){return la(new ca(e),t)}function Xo(t,e,n){return"function"==typeof e&&(n=e,e={}),ha(new fa(e),t,n)}function Ko(t,e){return la(new fa(e),t)}function Jo(t,e,n){return"function"==typeof e&&(n=e,e={}),ha(new pa(e),t,n)}function Qo(t,e){return la(new pa(e),t)}function ta(t,e,n){return"function"==typeof e&&(n=e,e={}),ha(new ma(e),t,n)}function ea(t,e){return la(new ma(e),t)}function na(t,e,n){return"function"==typeof e&&(n=e,e={}),ha(new ua(e),t,n)}function ra(t,e){return la(new ua(e),t)}function sa(t,e,n){return"function"==typeof e&&(n=e,e={}),ha(new da(e),t,n)}function ia(t,e){return la(new da(e),t)}function oa(t,e,n){return"function"==typeof e&&(n=e,e={}),ha(new ga(e),t,n)}function aa(t,e){return la(new ga(e),t)}function ha(t,e,n){function r(){for(var e;null!==(e=t.read());)i.push(e),o+=e.length;t.once("readable",r)}function s(){var e=Te.concat(i,o);i=[],n(null,e),t.close()}var i=[],o=0;t.on("error",function(e){t.removeListener("end",s),t.removeListener("readable",r),n(e)}),t.on("end",s),t.end(e),r()}function la(t,e){if("string"==typeof e&&(e=new Te(e)),!_n(e))throw new TypeError("Not a string or buffer");var n=Qd.Z_FINISH;return t._processChunk(e,n)}function ca(t){if(!(this instanceof ca))return new ca(t);_a.call(this,t,Qd.DEFLATE)}function ua(t){if(!(this instanceof ua))return new ua(t);_a.call(this,t,Qd.INFLATE)}function fa(t){if(!(this instanceof fa))return new fa(t);_a.call(this,t,Qd.GZIP)}function da(t){if(!(this instanceof da))return new da(t);_a.call(this,t,Qd.GUNZIP)}function pa(t){if(!(this instanceof pa))return new pa(t);_a.call(this,t,Qd.DEFLATERAW)}function ga(t){if(!(this instanceof ga))return new ga(t);_a.call(this,t,Qd.INFLATERAW)}function ma(t){if(!(this instanceof ma))return new ma(t);_a.call(this,t,Qd.UNZIP)}function _a(t,e){if(this._opts=t=t||{},this._chunkSize=t.chunkSize||Qd.Z_DEFAULT_CHUNK,ti.call(this,t),t.flush&&t.flush!==Qd.Z_NO_FLUSH&&t.flush!==Qd.Z_PARTIAL_FLUSH&&t.flush!==Qd.Z_SYNC_FLUSH&&t.flush!==Qd.Z_FULL_FLUSH&&t.flush!==Qd.Z_FINISH&&t.flush!==Qd.Z_BLOCK)throw new Error("Invalid flush flag: "+t.flush);if(this._flushFlag=t.flush||Qd.Z_NO_FLUSH,t.chunkSize&&(t.chunkSize<Qd.Z_MIN_CHUNK||t.chunkSize>Qd.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<Qd.Z_MIN_WINDOWBITS||t.windowBits>Qd.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<Qd.Z_MIN_LEVEL||t.level>Qd.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<Qd.Z_MIN_MEMLEVEL||t.memLevel>Qd.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=Qd.Z_FILTERED&&t.strategy!=Qd.Z_HUFFMAN_ONLY&&t.strategy!=Qd.Z_RLE&&t.strategy!=Qd.Z_FIXED&&t.strategy!=Qd.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!_n(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new Qd.Zlib(e);var n=this;this._hadError=!1,this._binding.onerror=function(t,e){n._binding=null,n._hadError=!0;var r=new Error(t);r.errno=e,r.code=Qd.codes[e],n.emit("error",r)};var r=Qd.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(r=t.level);var s=Qd.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(s=t.strategy),this._binding.init(t.windowBits||Qd.Z_DEFAULT_WINDOWBITS,r,t.memLevel||Qd.Z_DEFAULT_MEMLEVEL,s,t.dictionary),this._buffer=new Te(this._chunkSize),this._offset=0,this._closed=!1,this._level=r,this._strategy=s,this.once("end",this.close)}function ya(t,e){for(var n=0,r=t.length-1;r>=0;r--){var s=t[r];"."===s?t.splice(r,1):".."===s?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function va(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var r=n>=0?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return t=ya(Sa(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."}function ba(t){var e=wa(t),n="/"===op(t,-1);return(t=ya(Sa(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t}function wa(t){return"/"===t.charAt(0)}function ka(){return ba(Sa(Array.prototype.slice.call(arguments,0),function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))}function Ea(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=va(t).substr(1),e=va(e).substr(1);for(var r=n(t.split("/")),s=n(e.split("/")),i=Math.min(r.length,s.length),o=i,a=0;a<i;a++)if(r[a]!==s[a]){o=a;break}for(var h=[],a=o;a<r.length;a++)h.push("..");return(h=h.concat(s.slice(o))).join("/")}function xa(t){var e=sp(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function Ta(t,e){var n=sp(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n}function Ra(t){return sp(t)[3]}function Sa(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}function Aa(t,e){return 1===t.length?t[0]:t.length>1?fp.concat(t,e):Ap.EMPTY_BUFFER}function Oa(t){return 0===t.byteOffset&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function Ca(t){const e=Fp.from(t.buffer);return t.byteLength!==t.buffer.byteLength?e.slice(t.byteOffset,t.byteOffset+t.byteLength):e}function Na(t,e,n,r){this.protocolVersion=r.protocolVersion,this.extensions=r.extensions,this.maxPayload=r.maxPayload,this.protocol=r.protocol,this.upgradeReq=t,this._isServer=!0,this.setSocket(e,n)}function Da(t,e,n){if(n=Object.assign({protocolVersion:Vp[1],protocol:e.join(","),perMessageDeflate:!0,localAddress:null,headers:null,family:null,origin:null,agent:null,host:null,checkServerIdentity:null,rejectUnauthorized:null,passphrase:null,ciphers:null,cert:null,key:null,pfx:null,ca:null},n),-1===Vp.indexOf(n.protocolVersion))throw new Error(`unsupported protocol version: ${n.protocolVersion} `+`(supported versions: ${Vp.join(", ")})`);this.protocolVersion=n.protocolVersion,this._isServer=!1,this.url=t;const r=Bc.parse(t),s="ws+unix:"===r.protocol;if(!(r.host||s&&r.path))throw new Error("invalid url");const i="wss:"===r.protocol||"https:"===r.protocol,o=cl.randomBytes(16).toString("base64"),a=Ic,h={};var l;n.perMessageDeflate&&(l=new wp(!0!==n.perMessageDeflate?n.perMessageDeflate:{},!1),h[wp.extensionName]=l.offer());const c={port:r.port||(i?443:80),host:r.hostname,path:"/",headers:{"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":o,Connection:"Upgrade",Upgrade:"websocket"}};if(n.headers&&Object.assign(c.headers,n.headers),Object.keys(h).length&&(c.headers["Sec-WebSocket-Extensions"]=Sp.format(h)),n.protocol&&(c.headers["Sec-WebSocket-Protocol"]=n.protocol),n.origin&&(n.protocolVersion<13?c.headers["Sec-WebSocket-Origin"]=n.origin:c.headers.Origin=n.origin),n.host&&(c.headers.Host=n.host),r.auth&&(c.auth=r.auth),n.localAddress&&(c.localAddress=n.localAddress),n.family&&(c.family=n.family),s){const t=r.path.split(":");c.socketPath=t[0],c.path=t[1]}else r.path&&("/"!==r.path.charAt(0)?c.path=`/${r.path}`:c.path=r.path);var u=n.agent;(null!=n.rejectUnauthorized||n.checkServerIdentity||n.passphrase||n.ciphers||n.cert||n.key||n.pfx||n.ca)&&(n.passphrase&&(c.passphrase=n.passphrase),n.ciphers&&(c.ciphers=n.ciphers),n.cert&&(c.cert=n.cert),n.key&&(c.key=n.key),n.pfx&&(c.pfx=n.pfx),n.ca&&(c.ca=n.ca),n.checkServerIdentity&&(c.checkServerIdentity=n.checkServerIdentity),null!=n.rejectUnauthorized&&(c.rejectUnauthorized=n.rejectUnauthorized),u||(u=new a.Agent(c))),u&&(c.agent=u),this._req=a.get(c),this._req.on("error",t=>{this._req.aborted||(this._req=null,this.emit("error",t),this.finalize(!0))}),this._req.on("response",t=>{this.emit("unexpected-response",this._req,t)||(this._req.abort(),this.emit("error",new Error(`unexpected server response (${t.statusCode})`)),this.finalize(!0))}),this._req.on("upgrade",(t,e,r)=>{if(this.emit("headers",t.headers,t),this.readyState!==Gp.CONNECTING)return;this._req=null;const s=cl.createHash("sha1").update(o+Ap.GUID,"binary").digest("base64");if(t.headers["sec-websocket-accept"]!==s)return e.destroy(),this.emit("error",new Error("invalid server key")),this.finalize(!0);const i=t.headers["sec-websocket-protocol"],a=(n.protocol||"").split(/, */);var h;if(!n.protocol&&i?h="server sent a subprotocol even though none requested":n.protocol&&!i?h="server sent no subprotocol even though requested":i&&-1===a.indexOf(i)&&(h="server responded with an invalid protocol"),h)return e.destroy(),this.emit("error",new Error(h)),this.finalize(!0);i&&(this.protocol=i);const c=Sp.parse(t.headers["sec-websocket-extensions"]);if(l&&c[wp.extensionName]){try{l.accept(c[wp.extensionName])}catch(t){return e.destroy(),this.emit("error",new Error("invalid extension parameter")),this.finalize(!0)}this.extensions[wp.extensionName]=l}this.setSocket(e,r)})}function La(){this.destroy()}function Ma(t,e){const n=t.perMessageDeflate,r={};if(n&&e[wp.extensionName]){const s=new wp(!0!==n?n:{},!0,t.maxPayload);s.accept(e[wp.extensionName]),r[wp.extensionName]=s}return r}function Pa(t,e,n){t.writable&&(n=n||Ic.STATUS_CODES[e],t.write(`HTTP/1.1 ${e} ${Ic.STATUS_CODES[e]}\r\n`+"Connection: close\r\nContent-type: text/html\r\n"+`Content-Length: ${Xp.byteLength(n)}\r\n`+"\r\n"+n)),t.removeListener("error",La),t.destroy()}function Ba(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=ng&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(rg=Qp),Zc.call(this,t)}function Ia(t,e){if(!(this instanceof Ia))return new Ia(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=lh(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=lh(e.host).host),this.secure=null!=e.secure?e.secure:oh.location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(oh.location?location.hostname:"localhost"),this.port=e.port||(oh.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=Vc.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode;var n="object"==typeof oh&&oh;n.global===n&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function ja(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function za(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}function Ua(t,e){if(!(this instanceof Ua))return new Ua(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new Tg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||Ol;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}var Ha={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},add:function(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(t,e){this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule("@keyframes "+e+" "+t,this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var t=window.performance.now(),e=this.transitions.length;e--;){var n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(e=this.stylesheet.cssRules.length;e--;)this.stylesheet.deleteRule(e);this.activeRules={}}},deleteRule:function(t,e){t.style.animation=t.style.animation.split(", ").filter(function(t){return t.slice(0,e.length)!==e}).join(", ")}},Fa={get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1)n[r].call(this,e)},observe:function(t,e,n){var r=n&&n.defer?this._observers.post:this._observers.pre;return(r[t]||(r[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=r[t].indexOf(e);~n&&r[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(e({},t)),this._root._lock||(this._root._lock=!0,b(this._root._beforecreate),b(this._root._oncreate),b(this._root._aftercreate),this._root._lock=!1)}},qa={oncreate:function(){var t=this;this.observe("councilSeatArray",function(e){e.forEach(function(e,n){var r="seat"+(n+1),s=t.refs[r];s&&(s.style.fill=e)})})}};e(E.prototype,Fa),E.prototype._set=function(t){var n=this._state;this._state=e({},n,t),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},E.prototype.teardown=E.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Za={data:function(){return{}},computed:{councilTableData:function(t){return t.council}}};e(A.prototype,Fa),A.prototype._set=function(t){var n=this._state;this._state=e({},n,t),x(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},A.prototype.teardown=A.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Wa={computed:{councilSeatArray:function(t){var e=t.council.filter(function(t){if("1"===t.elected&&"1"===t.inlikelymajority)return!0}),n=t.council.filter(function(t){if("1"===t.elected&&""===t.inlikelymajority)return!0}),r=33-Number(n.length)-Number(e.length),s=Array(r).fill(0);return e.concat(s).concat(n).map(function(e){return 0===e?t.colors.Blank:t.colors[e.faction]})},councillorsElected:function(t){return t.council.filter(function(t){if("1"===t.elected)return!0}).length}},data:function(){return{displayTable:!1}},methods:{toggleTableDisplay:function(t){var e=this.refs.toggleText;t?(this.set({displayTable:!1}),e.textContent="Full results",this.fire("sendTheHeight")):(this.set({displayTable:!0}),e.textContent="Close full results",this.fire("sendTheHeight"))}},transitions:{slide:N}};e(B.prototype,Wa.methods,Fa),B.prototype._set=function(t){var n=this._state;this._state=e({},n,t),D(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},B.prototype.teardown=B.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Va={oncreate:function(){var t=this;this.observe("nusSeatArray",function(e){e.forEach(function(e,n){var r="seat"+(n+1),s=t.refs[r];s&&(s.style.fill=e)})})}};e(z.prototype,Fa),z.prototype._set=function(t){var n=this._state;this._state=e({},n,t),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},z.prototype.teardown=z.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Ya={data:function(){return{}},computed:{nusTableData:function(t){return t.nus}}};e(Z.prototype,Fa),Z.prototype._set=function(t){var n=this._state;this._state=e({},n,t),U(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},Z.prototype.teardown=Z.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Ga={computed:{tableData:function(t){return t},electedDelegates:function(t){return t.nus.filter(function(t){return"1"===t.elected})},numberOfElectedDelegates:function(t){return t.length},nusSeatArray:function(t,e){var n=7-e.length,r=Array(n).fill(0);return e.concat(r).map(function(e){return 0===e?t.colors.Blank:t.colors[e.faction]})}},data:function(){return{displayTable:!1}},methods:{toggleTableDisplay:function(t){var e=this.refs.toggleText;t?(this.set({displayTable:!1}),e.textContent="Full results",this.fire("sendTheHeight")):(this.set({displayTable:!0}),e.textContent="Close full results",this.fire("sendTheHeight"))}},transitions:{slide:N}};e($.prototype,Ga.methods,Fa),$.prototype._set=function(t){var n=this._state;this._state=e({},n,t),W(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},$.prototype.teardown=$.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var $a={computed:{presSummary:function(t){var e=t.pres[10],n=[],r={};r.candidate="Bella Pytka",r.faction="SLS",r.votes=Number(e.pytka),r.percent=100*Number(e.pytkapercent),r.color=t.colors.SLS,n.push(r);var s={};s.candidate="Imogen Grant",s.faction="Grassroots",s.votes=Number(e.grant),s.percent=100*Number(e.grantpercent),s.color=t.colors.Grassroots,n.push(s);var i={};i.candidate="Brendan Ma",i.faction="Mod Libs",i.votes=Number(e.ma),i.percent=100*Number(e.mapercent),i.color=t.colors["Mod Libs"],n.push(i);var o={};return o.candidate="Informal",o.faction="-",o.votes=Number(e.informal),o.percent=100*Number(e.informalpercent),o.color=t.colors.Blank,n.push(o),n.sort(function(t,e){return e.votes-t.votes}),n.map(function(t){var e=t.votes/n[0].votes*100;return t.barPercentage=e,t}),n}}};e(tt.prototype,Fa),tt.prototype._set=function(t){var n=this._state;this._state=e({},n,t),X(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},tt.prototype.teardown=tt.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Xa={data:function(){return{}},computed:{presTableData:function(t){return t.pres}}};e(it.prototype,Fa),it.prototype._set=function(t){var n=this._state;this._state=e({},n,t),et(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},it.prototype.teardown=it.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Ka={data:function(){return{displayTable:!1}},methods:{toggleTableDisplay:function(t){var e=this.refs.toggleText;t?(this.set({displayTable:!1}),e.textContent="Full results",this.fire("sendTheHeight")):(this.set({displayTable:!0}),e.textContent="Close full results",this.fire("sendTheHeight"))}},transitions:{slide:N}};e(lt.prototype,Ka.methods,Fa),lt.prototype._set=function(t){var n=this._state;this._state=e({},n,t),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},lt.prototype.teardown=lt.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Ja={computed:{totalCountedVotes:function(t,e){return Number(t)+Number(e)},mintPercentage:function(t,e){return 100*(t/e).toFixed(2)},heatPercentage:function(t,e){return 100*(t/e).toFixed(2)}}};e(dt.prototype,Fa),dt.prototype._set=function(t){var n=this._state;this._state=e({},n,t),ct(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},dt.prototype.teardown=dt.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Qa={data:function(){return{}},computed:{honiTableData:function(t){return t.honi}}};e(yt.prototype,Fa),yt.prototype._set=function(t){var n=this._state;this._state=e({},n,t),pt(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},yt.prototype.teardown=yt.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var th={computed:{tableData:function(t){return t.honi.map(function(t){return Object.keys(t).map(function(e){return t[e]})})},mintTotal:function(t){return t.honi[10].mint},heatTotal:function(t){return t.honi[10].heat}},data:function(){return{displayTable:!1}},methods:{toggleTableDisplay:function(t){var e=this.refs.toggleText;t?(this.set({displayTable:!1}),e.textContent="Full results",this.fire("sendTheHeight")):(this.set({displayTable:!0}),e.textContent="Close full results",this.fire("sendTheHeight"))}},transitions:{slide:N}};e(Et.prototype,th.methods,Fa),Et.prototype._set=function(t){var n=this._state;this._state=e({},n,t),vt(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},Et.prototype.teardown=Et.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var eh={methods:{extraFire:function(){this.fire("sendTheHeight")}}};e(Rt.prototype,eh.methods,Fa),Rt.prototype._set=function(t){var n=this._state;this._state=e({},n,t),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},Rt.prototype.teardown=Rt.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var nh={computed:{publishedPosts:function(t){return t.blog.filter(function(t){return"1"===t.published}).reverse()},visiblePosts:function(t){return t.slice(0,20)}},methods:{loadMorePosts:function(t,e){var n=t.length+10,r=e.slice(0,n);this.set({visiblePosts:r}),this.fire("sendTheHeight")},scrollToTop:function(){console.log("scroll me up scotty"),window.scrollTo(50,0)}},transitions:{fade:O}};e(Dt.prototype,nh.methods,Fa),Dt.prototype._set=function(t){var n=this._state;this._state=e({},n,t),St(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},Dt.prototype.teardown=Dt.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var rh={methods:{toggleTab:function(t){this.set({currentPane:t}),this.fire("sendTheHeight")},extraFire:function(){this.fire("sendTheHeight")}}};e(Bt.prototype,rh.methods,Fa),Bt.prototype._set=function(t){var n=this._state;this._state=e({},n,t),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},Bt.prototype.teardown=Bt.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)},e(zt.prototype,Fa),zt.prototype._set=function(t){var n=this._state;this._state=e({},n,t),v(this,this._observers.pre,t,n),v(this,this._observers.post,t,n)},zt.prototype.teardown=zt.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var sh={oncreate:function(){var t=this;this.interval=setInterval(function(){t.set({time:new Date})},1e3)},ondestroy:function(){console.log("dest"),clearInterval(this.interval)},data:function(){return{time:new Date}},computed:{hours:function(t){return t.getHours()},minutes:function(t){return t.getMinutes()},seconds:function(t){return t.getSeconds()}}};e(qt.prototype,Fa),qt.prototype._set=function(t){var n=this._state;this._state=e({},n,t),Ut(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},qt.prototype.teardown=qt.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),sh.ondestroy.call(this),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var ih={methods:{pymUpdateHeight:function(){this.fire("sendTheHeight")}},computed:{collatedResults:function(t,e){var n={};return n.council=t.council,n.honi=t.honi,n.nus=t.nus,n.pres=t.pres,n.copy=t.copy,n.colors=e,n},blogData:function(t){var e={};return e.blog=t.blog,e.copy=t.copy,e}}};e(Kt.prototype,ih.methods,Fa),Kt.prototype._set=function(t){var n=this._state;this._state=e({},n,t),Zt(this._state,t,n,!1),v(this,this._observers.pre,t,n),this._fragment.update(t,this._state),v(this,this._observers.post,t,n)},Kt.prototype.teardown=Kt.prototype.destroy=function(t){this._destroyed||(this.fire("destroy"),!1!==t&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var oh="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},ah=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hh=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],lh=function(t){var e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));for(var s=ah.exec(t||""),i={},o=14;o--;)i[hh[o]]=s[o]||"";return-1!=n&&-1!=r&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i},ch=te,uh=ee;"function"==typeof oh.setTimeout&&(ch=setTimeout),"function"==typeof oh.clearTimeout&&(uh=clearTimeout);var fh,dh=[],ph=!1,gh=-1;ae.prototype.run=function(){this.fun.apply(null,this.array)};var mh={},_h=[],yh={},vh={},bh={},wh=he,kh=he,Eh=he,xh=he,Th=he,Rh=he,Sh=he,Ah=oh.performance||{},Oh=Ah.now||Ah.mozNow||Ah.msNow||Ah.oNow||Ah.webkitNow||function(){return(new Date).getTime()},Ch=new Date,Nh={nextTick:oe,title:"browser",browser:!0,env:mh,argv:_h,version:"",versions:yh,on:wh,addListener:kh,once:Eh,off:xh,removeListener:Th,removeAllListeners:Rh,emit:Sh,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Oh.call(Ah),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:vh,config:bh,uptime:function(){return(new Date-Ch)/1e3}},Dh=1e3,Lh=60*Dh,Mh=60*Lh,Ph=24*Mh,Bh=365.25*Ph,Ih=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return le(t);if("number"===n&&!1===isNaN(t))return e.long?ue(t):ce(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))},jh=Qt(function(t,e){function n(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function r(t){function r(){if(r.enabled){var t=r,n=+new Date,i=n-(s||n);t.diff=i,t.prev=s,t.curr=n,s=n;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var h=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;h++;var s=e.formatters[r];if("function"==typeof s){var i=o[h];n=s.call(t,i),o.splice(h,1),h--}return n}),e.formatArgs.call(t,o),(r.log||e.log||console.log.bind(console)).apply(t,o)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=n(t),"function"==typeof e.init&&e.init(r),r}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,s=0;s<r;s++)n[s]&&("-"===(t=n[s].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=Ih,e.names=[],e.skips=[],e.formatters={};var s}),zh=Qt(function(t,e){function n(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==Nh&&"env"in Nh&&(t=Nh.env.DEBUG),t}(e=t.exports=jh).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var s=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(s++,"%c"===t&&(i=s))}),t.splice(i,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=n,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(n())}),Uh={isatty:de,ReadStream:pe,WriteStream:ge},Hh=Object.freeze({isatty:de,ReadStream:pe,WriteStream:ge,default:Uh}),Fh=[],qh=[],Zh="undefined"!=typeof Uint8Array?Uint8Array:Array,Wh=!1,Vh={}.toString,Yh=Array.isArray||function(t){return"[object Array]"==Vh.call(t)};Te.TYPED_ARRAY_SUPPORT=void 0===oh.TYPED_ARRAY_SUPPORT||oh.TYPED_ARRAY_SUPPORT;var Gh=Ee();Te.poolSize=8192,Te._augment=function(t){return t.__proto__=Te.prototype,t},Te.from=function(t,e,n){return Re(null,t,e,n)},Te.TYPED_ARRAY_SUPPORT&&(Te.prototype.__proto__=Uint8Array.prototype,Te.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Te[Symbol.species]),Te.alloc=function(t,e,n){return Ae(null,t,e,n)},Te.allocUnsafe=function(t){return Oe(null,t)},Te.allocUnsafeSlow=function(t){return Oe(null,t)},Te.isBuffer=_n,Te.compare=function(t,e){if(!Pe(t)||!Pe(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,s=0,i=Math.min(n,r);s<i;++s)if(t[s]!==e[s]){n=t[s],r=e[s];break}return n<r?-1:r<n?1:0},Te.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Te.concat=function(t,e){if(!Yh(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Te.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=Te.allocUnsafe(e),s=0;for(n=0;n<t.length;++n){var i=t[n];if(!Pe(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,s),s+=i.length}return r},Te.byteLength=Be,Te.prototype._isBuffer=!0,Te.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)je(this,e,e+1);return this},Te.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)je(this,e,e+3),je(this,e+1,e+2);return this},Te.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)je(this,e,e+7),je(this,e+1,e+6),je(this,e+2,e+5),je(this,e+3,e+4);return this},Te.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Ge(this,0,t):Ie.apply(this,arguments)},Te.prototype.equals=function(t){if(!Pe(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Te.compare(this,t)},Te.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Te.prototype.compare=function(t,e,n,r,s){if(!Pe(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),e<0||n>t.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&e>=n)return 0;if(r>=s)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,s>>>=0,this===t)return 0;for(var i=s-r,o=n-e,a=Math.min(i,o),h=this.slice(r,s),l=t.slice(e,n),c=0;c<a;++c)if(h[c]!==l[c]){i=h[c],o=l[c];break}return i<o?-1:o<i?1:0},Te.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},Te.prototype.indexOf=function(t,e,n){return ze(this,t,e,n,!0)},Te.prototype.lastIndexOf=function(t,e,n){return ze(this,t,e,n,!1)},Te.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var s=this.length-e;if((void 0===n||n>s)&&(n=s),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return He(this,t,e,n);case"utf8":case"utf-8":return Fe(this,t,e,n);case"ascii":return qe(this,t,e,n);case"latin1":case"binary":return Ze(this,t,e,n);case"base64":return We(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ve(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},Te.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $h=4096;Te.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(Te.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Te.prototype;else{var s=e-t;r=new Te(s,void 0);for(var i=0;i<s;++i)r[i]=this[i+t]}return r},Te.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||tn(t,e,this.length);for(var r=this[t],s=1,i=0;++i<e&&(s*=256);)r+=this[t+i]*s;return r},Te.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||tn(t,e,this.length);for(var r=this[t+--e],s=1;e>0&&(s*=256);)r+=this[t+--e]*s;return r},Te.prototype.readUInt8=function(t,e){return e||tn(t,1,this.length),this[t]},Te.prototype.readUInt16LE=function(t,e){return e||tn(t,2,this.length),this[t]|this[t+1]<<8},Te.prototype.readUInt16BE=function(t,e){return e||tn(t,2,this.length),this[t]<<8|this[t+1]},Te.prototype.readUInt32LE=function(t,e){return e||tn(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Te.prototype.readUInt32BE=function(t,e){return e||tn(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Te.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||tn(t,e,this.length);for(var r=this[t],s=1,i=0;++i<e&&(s*=256);)r+=this[t+i]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*e)),r},Te.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||tn(t,e,this.length);for(var r=e,s=1,i=this[t+--r];r>0&&(s*=256);)i+=this[t+--r]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*e)),i},Te.prototype.readInt8=function(t,e){return e||tn(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Te.prototype.readInt16LE=function(t,e){e||tn(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Te.prototype.readInt16BE=function(t,e){e||tn(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Te.prototype.readInt32LE=function(t,e){return e||tn(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Te.prototype.readInt32BE=function(t,e){return e||tn(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Te.prototype.readFloatLE=function(t,e){return e||tn(t,4,this.length),we(this,t,!0,23,4)},Te.prototype.readFloatBE=function(t,e){return e||tn(t,4,this.length),we(this,t,!1,23,4)},Te.prototype.readDoubleLE=function(t,e){return e||tn(t,8,this.length),we(this,t,!0,52,8)},Te.prototype.readDoubleBE=function(t,e){return e||tn(t,8,this.length),we(this,t,!1,52,8)},Te.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||en(this,t,e,n,Math.pow(2,8*n)-1,0);var s=1,i=0;for(this[e]=255&t;++i<n&&(s*=256);)this[e+i]=t/s&255;return e+n},Te.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||en(this,t,e,n,Math.pow(2,8*n)-1,0);var s=n-1,i=1;for(this[e+s]=255&t;--s>=0&&(i*=256);)this[e+s]=t/i&255;return e+n},Te.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||en(this,t,e,1,255,0),Te.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Te.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||en(this,t,e,2,65535,0),Te.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):nn(this,t,e,!0),e+2},Te.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||en(this,t,e,2,65535,0),Te.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):nn(this,t,e,!1),e+2},Te.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||en(this,t,e,4,4294967295,0),Te.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):rn(this,t,e,!0),e+4},Te.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||en(this,t,e,4,4294967295,0),Te.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):rn(this,t,e,!1),e+4},Te.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var s=Math.pow(2,8*n-1);en(this,t,e,n,s-1,-s)}var i=0,o=1,a=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+n},Te.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var s=Math.pow(2,8*n-1);en(this,t,e,n,s-1,-s)}var i=n-1,o=1,a=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+n},Te.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||en(this,t,e,1,127,-128),Te.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Te.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||en(this,t,e,2,32767,-32768),Te.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):nn(this,t,e,!0),e+2},Te.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||en(this,t,e,2,32767,-32768),Te.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):nn(this,t,e,!1),e+2},Te.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||en(this,t,e,4,2147483647,-2147483648),Te.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):rn(this,t,e,!0),e+4},Te.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||en(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Te.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):rn(this,t,e,!1),e+4},Te.prototype.writeFloatLE=function(t,e,n){return on(this,t,e,!0,n)},Te.prototype.writeFloatBE=function(t,e,n){return on(this,t,e,!1,n)},Te.prototype.writeDoubleLE=function(t,e,n){return an(this,t,e,!0,n)},Te.prototype.writeDoubleBE=function(t,e,n){return an(this,t,e,!1,n)},Te.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var s,i=r-n;if(this===t&&n<e&&e<r)for(s=i-1;s>=0;--s)t[s+e]=this[s+n];else if(i<1e3||!Te.TYPED_ARRAY_SUPPORT)for(s=0;s<i;++s)t[s+e]=this[s+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},Te.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var s=t.charCodeAt(0);s<256&&(t=s)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Te.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var i;if("number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var o=Pe(t)?t:un(new Te(t,r).toString()),a=o.length;for(i=0;i<n-e;++i)this[i+e]=o[i%a]}return this};var Xh,Kh,Jh=/[^+\/0-9A-Za-z-_]/g,Qh=Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:Gh,Buffer:Te,SlowBuffer:function(t){return+t!=t&&(t=0),Te.alloc(+t)},isBuffer:_n}),tl=Xh="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},el=/%[sdj%]/g,nl={};En.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},En.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var rl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sl={inherits:tl,_extend:Jn,log:Kn,isBuffer:Yn,isPrimitive:Vn,isFunction:Wn,isError:Zn,isDate:qn,isObject:Fn,isRegExp:Hn,isUndefined:Un,isSymbol:zn,isString:jn,isNumber:In,isNullOrUndefined:Bn,isNull:Pn,isBoolean:Mn,isArray:Ln,inspect:En,deprecate:wn,format:bn,debuglog:kn},il=Object.freeze({format:bn,deprecate:wn,debuglog:kn,inspect:En,isArray:Ln,isBoolean:Mn,isNull:Pn,isNullOrUndefined:Bn,isNumber:In,isString:jn,isSymbol:zn,isUndefined:Un,isRegExp:Hn,isObject:Fn,isDate:qn,isError:Zn,isFunction:Wn,isPrimitive:Vn,isBuffer:Yn,log:Kn,inherits:tl,_extend:Jn,default:sl}),ol={},al=Object.freeze({default:ol}),hl=Hh&&Uh||Hh,ll=il&&sl||il,cl=al&&ol||al,ul=Qt(function(t,e){function n(){return Nh.env.DEBUG}(e=t.exports=jh).init=function(t){t.inspectOpts={};for(var n=Object.keys(e.inspectOpts),r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(){return s.write(ll.format.apply(ll,arguments)+"\n")},e.formatArgs=function(t){var n=this.namespace;if(this.useColors){var r=this.color,s="  [3"+r+";1m"+n+" [0m";t[0]=s+t[0].split("\n").join("\n"+s),t.push("[3"+r+"m+"+e.humanize(this.diff)+"[0m")}else t[0]=(new Date).toUTCString()+" "+n+" "+t[0]},e.save=function(t){null==t?delete Nh.env.DEBUG:Nh.env.DEBUG=t},e.load=n,e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):hl.isatty(r)},e.colors=[6,2,3,4,5,1],e.inspectOpts=Object.keys(Nh.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,e){var n=e.substring(6).toLowerCase().replace(/_([a-z])/g,function(t,e){return e.toUpperCase()}),r=Nh.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t},{});var r=parseInt(Nh.env.DEBUG_FD,10)||2;1!==r&&2!==r&&ll.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var s=1===r?Nh.stdout:2===r?Nh.stderr:function(t){var e;switch(Nh.binding("tty_wrap").guessHandleType(t)){case"TTY":(e=new hl.WriteStream(t))._type="tty",e._handle&&e._handle.unref&&e._handle.unref();break;case"FILE":(e=new cl.SyncWriteStream(t,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(e=new cl.Socket({fd:t,readable:!1,writable:!0})).readable=!1,e.read=null,e._type="pipe",e._handle&&e._handle.unref&&e._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return e.fd=t,e._isStdio=!0,e}(r);e.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,ll.inspect(t,this.inspectOpts).replace(/\s*\n\s*/g," ")},e.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,ll.inspect(t,this.inspectOpts)},e.enable(n())}),fl=Qt(function(t){void 0!==Nh&&"renderer"===Nh.type?t.exports=zh:t.exports=ul}),dl=fl("socket.io-client:url"),pl=function(t,e){var n=t;e=e||oh.location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(dl("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),dl("parse %s",t),n=lh(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(e&&e.port===n.port?"":":"+n.port),n},gl=Qt(function(t){function e(t){if(t)return n(t)}function n(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if((r=n[s])===e||r.fn===e){n.splice(s,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),ml={}.toString,_l=Array.isArray||function(t){return"[object Array]"==ml.call(t)},yl=Object.prototype.toString,vl="function"==typeof oh.Blob||"[object BlobConstructor]"===yl.call(oh.Blob),bl="function"==typeof oh.File||"[object FileConstructor]"===yl.call(oh.File),wl=tr,kl={}.toString,El=Array.isArray||function(t){return"[object Array]"==kl.call(t)},xl=function(t){return oh.Buffer&&oh.Buffer.isBuffer(t)||oh.ArrayBuffer&&t instanceof ArrayBuffer},Tl=Object.prototype.toString,Rl="function"==typeof oh.Blob||"[object BlobConstructor]"===Tl.call(oh.Blob),Sl="function"==typeof oh.File||"[object FileConstructor]"===Tl.call(oh.File),Al={deconstructPacket:function(t){var e=[],n=t.data,r=t;return r.data=er(n,e),r.attachments=e.length,{packet:r,buffers:e}},reconstructPacket:function(t,e){return t.data=nr(t.data,e),t.attachments=void 0,t},removeBlobs:function(t,e){function n(t,i,o){if(!t)return t;if(Rl&&t instanceof Blob||Sl&&t instanceof File){r++;var a=new FileReader;a.onload=function(){o?o[i]=this.result:s=this.result,--r||e(s)},a.readAsArrayBuffer(t)}else if(El(t))for(var h=0;h<t.length;h++)n(t[h],h,t);else if("object"==typeof t&&!xl(t))for(var l in t)n(t[l],l,t)}var r=0,s=t;n(s),r||e(s)}},Ol=Qt(function(t,e){function n(){}function r(t){var n=""+t.type;return e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data&&(n+=JSON.stringify(t.data)),c("encoded %j as %s",t,n),n}function s(t,e){Al.removeBlobs(t,function(t){var n=Al.deconstructPacket(t),s=r(n.packet),i=n.buffers;i.unshift(s),e(i)})}function i(){this.reconstructor=null}function o(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return l();if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){for(var s="";"-"!==t.charAt(++n)&&(s+=t.charAt(n),n!=t.length););if(s!=Number(s)||"-"!==t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===t.charAt(n+1))for(r.nsp="";++n&&","!==(o=t.charAt(n))&&(r.nsp+=o,n!==t.length););else r.nsp="/";var i=t.charAt(n+1);if(""!==i&&Number(i)==i){for(r.id="";++n;){var o=t.charAt(n);if(null==o||Number(o)!=o){--n;break}if(r.id+=t.charAt(n),n===t.length)break}r.id=Number(r.id)}return t.charAt(++n)&&(r=a(r,t.substr(n))),c("decoded %s as %j",t,r),r}function a(t,e){try{t.data=JSON.parse(e)}catch(t){return l()}return t}function h(t){this.reconPack=t,this.buffers=[]}function l(){return{type:e.ERROR,data:"parser error"}}var c=fl("socket.io-parser");e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=n,e.Decoder=i,n.prototype.encode=function(t,n){t.type!==e.EVENT&&t.type!==e.ACK||!wl(t.data)||(t.type=t.type===e.EVENT?e.BINARY_EVENT:e.BINARY_ACK),c("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type?s(t,n):n([r(t)])},gl(i.prototype),i.prototype.add=function(t){var n;if("string"==typeof t)n=o(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new h(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!xl(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=Al.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}}),Cl=2147483647,Nl=36,Dl=1,Ll=26,Ml=38,Pl=700,Bl=72,Il=128,jl="-",zl=/[^\x20-\x7E]/,Ul=/[\x2E\u3002\uFF0E\uFF61]/g,Hl={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Fl=Nl-Dl,ql=Math.floor,Zl=String.fromCharCode,Wl=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Vl=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},Yl={parse:_r,resolve:wr,resolveObject:kr,format:vr,Url:mr},Gl=/^([a-z0-9.+-]+:)/i,$l=/:[0-9]*$/,Xl=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Kl=["<",">",'"',"`"," ","\r","\n","\t"],Jl=["{","}","|","\\","^","`"].concat(Kl),Ql=["'"].concat(Jl),tc=["%","/","?",";","#"].concat(Ql),ec=["/","?","#"],nc=255,rc=/^[+a-z0-9A-Z_-]{0,63}$/,sc=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ic={javascript:!0,"javascript:":!0},oc={javascript:!0,"javascript:":!0},ac={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};mr.prototype.parse=function(t,e,n){return yr(this,t,e,n)},mr.prototype.format=function(){return br(this)},mr.prototype.resolve=function(t){return this.resolveObject(_r(t,!1,!0)).format()},mr.prototype.resolveObject=function(t){if(jn(t)){var e=new mr;e.parse(t,!1,!0),t=e}for(var n=new mr,r=Object.keys(this),s=0;s<r.length;s++){var i=r[s];n[i]=this[i]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var h=o[a];"protocol"!==h&&(n[h]=t[h])}return ac[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}var l;if(t.protocol&&t.protocol!==n.protocol){if(!ac[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||oc[t.protocol])n.pathname=t.pathname;else{for(l=(t.pathname||"").split("/");l.length&&!(t.host=l.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==l[0]&&l.unshift(""),l.length<2&&l.unshift(""),n.pathname=l.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=m||g||n.host&&t.pathname,y=_,v=n.pathname&&n.pathname.split("/")||[],b=n.protocol&&!ac[n.protocol];l=t.pathname&&t.pathname.split("/")||[],b&&(n.hostname="",n.port=null,n.host&&(""===v[0]?v[0]=n.host:v.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===l[0]?l[0]=t.host:l.unshift(t.host)),t.host=null),_=_&&(""===l[0]||""===v[0]));var w;if(m)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,v=l;else if(l.length)v||(v=[]),v.pop(),v=v.concat(l),n.search=t.search,n.query=t.query;else if(!Bn(t.search))return b&&(n.hostname=n.host=v.shift(),(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift())),n.search=t.search,n.query=t.query,Pn(n.pathname)&&Pn(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!v.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=v.slice(-1)[0],E=(n.host||t.host||v.length>1)&&("."===k||".."===k)||""===k,x=0,T=v.length;T>=0;T--)"."===(k=v[T])?v.splice(T,1):".."===k?(v.splice(T,1),x++):x&&(v.splice(T,1),x--);if(!_&&!y)for(;x--;x)v.unshift("..");!_||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),E&&"/"!==v.join("/").substr(-1)&&v.push("");var R=""===v[0]||v[0]&&"/"===v[0].charAt(0);return b&&(n.hostname=n.host=R?"":v.length?v.shift():"",(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift())),(_=_||n.host&&v.length)&&!R&&v.unshift(""),v.length?n.pathname=v.join("/"):(n.pathname=null,n.path=null),Pn(n.pathname)&&Pn(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},mr.prototype.parseHost=function(){return Er(this)};var hc,lc,cc=Object.freeze({parse:_r,resolve:wr,resolveObject:kr,format:vr,default:Yl,Url:mr}),uc=Rr(oh.fetch)&&Rr(oh.ReadableStream),fc=void 0!==oh.ArrayBuffer,dc=fc&&Rr(oh.ArrayBuffer.prototype.slice),pc=fc&&Tr("arraybuffer"),gc=!uc&&dc&&Tr("ms-stream"),mc=!uc&&fc&&Tr("moz-chunked-arraybuffer"),_c=Rr(lc.overrideMimeType),yc=Rr(oh.VBArray);lc=null;Sr.prototype=Object.create(null),Ar.EventEmitter=Ar,Ar.usingDomains=!1,Ar.prototype.domain=void 0,Ar.prototype._events=void 0,Ar.prototype._maxListeners=void 0,Ar.defaultMaxListeners=10,Ar.init=function(){this.domain=null,Ar.usingDomains&&(!(void 0).active||this instanceof(void 0).Domain||(this.domain=(void 0).active)),this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Sr,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ar.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Ar.prototype.getMaxListeners=function(){return Or(this)},Ar.prototype.emit=function(t){var e,n,r,s,i,o,a,h="error"===t;if(o=this._events)h=h&&null==o.error;else if(!h)return!1;if(a=this.domain,h){if(e=arguments[1],!a){if(e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=o[t]))return!1;var c="function"==typeof n;switch(r=arguments.length){case 1:Cr(n,c,this);break;case 2:Nr(n,c,this,arguments[1]);break;case 3:Dr(n,c,this,arguments[1],arguments[2]);break;case 4:Lr(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(s=new Array(r-1),i=1;i<r;i++)s[i-1]=arguments[i];Mr(n,c,this,s)}return!0},Ar.prototype.addListener=function(t,e){return Pr(this,t,e,!1)},Ar.prototype.on=Ar.prototype.addListener,Ar.prototype.prependListener=function(t,e){return Pr(this,t,e,!0)},Ar.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,Ir(this,t,e)),this},Ar.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Ir(this,t,e)),this},Ar.prototype.removeListener=function(t,e){var n,r,s,i,o;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new Sr:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(s=-1,i=n.length;i-- >0;)if(n[i]===e||n[i].listener&&n[i].listener===e){o=n[i].listener,s=i;break}if(s<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new Sr,this;delete r[t]}else zr(n,s);r.removeListener&&this.emit("removeListener",t,o||e)}return this},Ar.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new Sr,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new Sr:delete n[t]),this;if(0===arguments.length){for(var r,s=Object.keys(n),i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Sr,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},Ar.prototype.listeners=function(t){var e,n=this._events;return n&&(e=n[t])?"function"==typeof e?[e.listener||e]:Hr(e):[]},Ar.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):jr.call(t,e)},Ar.prototype.listenerCount=jr,Ar.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var vc=Object.freeze({default:Ar,EventEmitter:Ar});Fr.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},Fr.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},Fr.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},Fr.prototype.clear=function(){this.head=this.tail=null,this.length=0},Fr.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},Fr.prototype.concat=function(t){if(0===this.length)return Te.alloc(0);if(1===this.length)return this.head.data;for(var e=Te.allocUnsafe(t>>>0),n=this.head,r=0;n;)n.data.copy(e,r),r+=n.data.length,n=n.next;return e};var bc=Qh&&void 0||Qh,wc=Qt(function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function r(t,e,n){return s(t,e,n)}var s=bc.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=bc:(n(bc,e),e.Buffer=r),n(s,r),r.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,n)},r.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=s(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return bc.SlowBuffer(t)}}).Buffer,kc=wc.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Ec=Wr;Wr.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},Wr.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"".repeat(this.lastTotal-this.lastNeed):e},Wr.prototype.text=function(t,e){var n=Yr(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},Wr.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},is.ReadableState=ss;var xc=kn("stream");tl(is,Ar),is.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=Te.from(t,e),e=""),os(this,n,t,e,!1)},is.prototype.unshift=function(t){return os(this,this._readableState,t,"",!0)},is.prototype.isPaused=function(){return!1===this._readableState.flowing},is.prototype.setEncoding=function(t){return this._readableState.decoder=new Ec(t),this._readableState.encoding=t,this};var Tc=8388608;is.prototype.read=function(t){xc("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return xc("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Ts(this):fs(this),null;if(0===(t=ls(t,e))&&e.ended)return 0===e.length&&Ts(this),null;var r=e.needReadable;xc("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&xc("length less than watermark",r=!0),e.ended||e.reading?xc("reading or ended",r=!1):r&&(xc("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=ls(n,e)));var s;return null===(s=t>0?ws(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Ts(this)),null!==s&&this.emit("data",s),s},is.prototype._read=function(t){this.emit("error",new Error("not implemented"))},is.prototype.pipe=function(t,e){function n(t){xc("onunpipe"),t===c&&s()}function r(){xc("onend"),t.end()}function s(){xc("cleanup"),t.removeListener("close",a),t.removeListener("finish",h),t.removeListener("drain",d),t.removeListener("error",o),t.removeListener("unpipe",n),c.removeListener("end",r),c.removeListener("end",s),c.removeListener("data",i),p=!0,!u.awaitDrain||t._writableState&&!t._writableState.needDrain||d()}function i(e){xc("ondata"),g=!1,!1!==t.write(e)||g||((1===u.pipesCount&&u.pipes===t||u.pipesCount>1&&-1!==As(u.pipes,t))&&!p&&(xc("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,g=!0),c.pause())}function o(e){xc("onerror",e),l(),t.removeListener("error",o),0===rs(t,"error")&&t.emit("error",e)}function a(){t.removeListener("finish",h),l()}function h(){xc("onfinish"),t.removeListener("close",a),l()}function l(){xc("unpipe"),c.unpipe(t)}var c=this,u=this._readableState;switch(u.pipesCount){case 0:u.pipes=t;break;case 1:u.pipes=[u.pipes,t];break;default:u.pipes.push(t)}u.pipesCount+=1,xc("pipe count=%d opts=%j",u.pipesCount,e);var f=!e||!1!==e.end?r:s;u.endEmitted?oe(f):c.once("end",f),t.on("unpipe",n);var d=ms(c);t.on("drain",d);var p=!1,g=!1;return c.on("data",i),ns(t,"error",o),t.once("close",a),t.once("finish",h),t.emit("pipe",c),u.flowing||(xc("pipe resume"),c.resume()),t},is.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<r;s++)n[s].emit("unpipe",this);return this}var i=As(e.pipes,t);return-1===i?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},is.prototype.on=function(t,e){var n=Ar.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&fs(this):oe(_s,this))}return n},is.prototype.addListener=is.prototype.on,is.prototype.resume=function(){var t=this._readableState;return t.flowing||(xc("resume"),t.flowing=!0,ys(this,t)),this},is.prototype.pause=function(){return xc("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(xc("pause"),this._readableState.flowing=!1,this.emit("pause")),this},is.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(xc("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(s){xc("wrapped data"),e.decoder&&(s=e.decoder.write(s)),(!e.objectMode||null!==s&&void 0!==s)&&(e.objectMode||s&&s.length)&&(r.push(s)||(n=!0,t.pause()))});for(var s in t)void 0===this[s]&&"function"==typeof t[s]&&(this[s]=function(e){return function(){return t[e].apply(t,arguments)}}(s));return Ss(["error","close","destroy","pause","resume"],function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){xc("wrapped _read",e),n&&(n=!1,t.resume())},r},is._fromList=ws,Ds.WritableState=Ns,tl(Ds,Ar),Ns.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},Ds.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Ds.prototype.write=function(t,e,n){var r=this._writableState,s=!1;return"function"==typeof e&&(n=e,e=null),Te.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=Os),r.ended?Ls(this,n):Ms(this,r,t,n)&&(r.pendingcb++,s=Bs(this,r,t,e,n)),s},Ds.prototype.cork=function(){this._writableState.corked++},Ds.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||qs(this,t))},Ds.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Ds.prototype._write=function(t,e,n){n(new Error("not implemented"))},Ds.prototype._writev=null,Ds.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||Ys(this,r,n)},tl($s,is);for(var Rc=Object.keys(Ds.prototype),Sc=0;Sc<Rc.length;Sc++){var Ac=Rc[Sc];$s.prototype[Ac]||($s.prototype[Ac]=Ds.prototype[Ac])}tl(ti,$s),ti.prototype.push=function(t,e){return this._transformState.needTransform=!1,$s.prototype.push.call(this,t,e)},ti.prototype._transform=function(t,e,n){throw new Error("Not implemented")},ti.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var s=this._readableState;(r.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},ti.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},tl(ni,ti),ni.prototype._transform=function(t,e,n){n(null,t)},tl(ri,Ar),ri.Readable=is,ri.Writable=Ds,ri.Duplex=$s,ri.Transform=ti,ri.PassThrough=ni,ri.Stream=ri,ri.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&h.pause&&h.pause()}function r(){h.readable&&h.resume&&h.resume()}function s(){l||(l=!0,t.end())}function i(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function o(t){if(a(),0===Ar.listenerCount(this,"error"))throw t}function a(){h.removeListener("data",n),t.removeListener("drain",r),h.removeListener("end",s),h.removeListener("close",i),h.removeListener("error",o),t.removeListener("error",o),h.removeListener("end",a),h.removeListener("close",a),t.removeListener("close",a)}var h=this;h.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(h.on("end",s),h.on("close",i));var l=!1;return h.on("error",o),t.on("error",o),h.on("end",a),h.on("close",a),t.on("close",a),t.emit("pipe",h),t};var Oc={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};tl(si,is),si.prototype._read=function(){},si.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==Oc.DONE)break;try{n=new oh.VBArray(e.responseBody).toArray()}catch(t){}if(null!==n){t.push(new Te(n));break}case"text":try{n=e.responseText}catch(e){t._mode="text:vbarray";break}if(n.length>t._pos){var r=n.substr(t._pos);if("x-user-defined"===t._charset){for(var s=new Te(r.length),i=0;i<r.length;i++)s[i]=255&r.charCodeAt(i);t.push(s)}else t.push(r,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==Oc.DONE||!e.response)break;n=e.response,t.push(new Te(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==Oc.LOADING||!n)break;t.push(new Te(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==Oc.LOADING)break;var o=new oh.MSStreamReader;o.onprogress=function(){o.result.byteLength>t._pos&&(t.push(new Te(new Uint8Array(o.result.slice(t._pos)))),t._pos=o.result.byteLength)},o.onload=function(){t.push(null)},o.readAsArrayBuffer(n)}t._xhr.readyState===Oc.DONE&&"ms-stream"!==t._mode&&t.push(null)};var Cc=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(_n(t)){for(var e=new Uint8Array(t.length),n=t.length,r=0;r<n;r++)e[r]=t[r];return e.buffer}throw new Error("Argument must be a Buffer")};tl(oi,Ds);var Nc=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];oi.prototype.setHeader=function(t,e){var n=this,r=t.toLowerCase();-1===Nc.indexOf(r)&&(n._headers[r]={name:t,value:e})},oi.prototype.getHeader=function(t){return this._headers[t.toLowerCase()].value},oi.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},oi.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e,n=t._opts,r=t._headers;if("POST"!==n.method&&"PUT"!==n.method&&"PATCH"!==n.method||(e=xr()?new oh.Blob(t._body.map(function(t){return Cc(t)}),{type:(r["content-type"]||{}).value||""}):Te.concat(t._body).toString()),"fetch"===t._mode){var s=Object.keys(r).map(function(t){return[r[t].name,r[t].value]});oh.fetch(t._opts.url,{method:t._opts.method,headers:s,body:e,mode:"cors",credentials:n.withCredentials?"include":"same-origin"}).then(function(e){t._fetchResponse=e,t._connect()},function(e){t.emit("error",e)})}else{var i=t._xhr=new oh.XMLHttpRequest;try{i.open(t._opts.method,t._opts.url,!0)}catch(e){return void oe(function(){t.emit("error",e)})}"responseType"in i&&(i.responseType=t._mode.split(":")[0]),"withCredentials"in i&&(i.withCredentials=!!n.withCredentials),"text"===t._mode&&"overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(r).forEach(function(t){i.setRequestHeader(r[t].name,r[t].value)}),t._response=null,i.onreadystatechange=function(){switch(i.readyState){case Oc.LOADING:case Oc.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(i.onprogress=function(){t._onXHRProgress()}),i.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{i.send(e)}catch(e){return void oe(function(){t.emit("error",e)})}}}},oi.prototype._onXHRProgress=function(){var t=this;ai(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress())},oi.prototype._connect=function(){var t=this;t._destroyed||(t._response=new si(t._xhr,t._fetchResponse,t._mode),t.emit("response",t._response))},oi.prototype._write=function(t,e,n){this._body.push(t),n()},oi.prototype.abort=oi.prototype.destroy=function(){var t=this;t._destroyed=!0,t._response&&(t._response._destroyed=!0),t._xhr&&t._xhr.abort()},oi.prototype.end=function(t,e,n){var r=this;"function"==typeof t&&(n=t,t=void 0),Ds.prototype.end.call(r,t,e,n)},oi.prototype.flushHeaders=function(){},oi.prototype.setTimeout=function(){},oi.prototype.setNoDelay=function(){},oi.prototype.setSocketKeepAlive=function(){},ci.defaultMaxSockets=4;var Dc=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Lc={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},Mc={request:hi,get:li,Agent:ci,METHODS:Dc,STATUS_CODES:Lc},Pc=Object.freeze({request:hi,get:li,Agent:ci,METHODS:Dc,STATUS_CODES:Lc,default:Mc}),Bc=cc&&Yl||cc,Ic=Pc&&Mc||Pc,jc=cl.spawn,zc=ui;ui.XMLHttpRequest=ui;var Uc=Qt(function(t,e){!function(n){function r(t){for(var e,n,r=[],s=0,i=t.length;s<i;)(e=t.charCodeAt(s++))>=55296&&e<=56319&&s<i?56320==(64512&(n=t.charCodeAt(s++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),s--):r.push(e);return r}function s(t){for(var e,n=t.length,r=-1,s="";++r<n;)(e=t[r])>65535&&(s+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),s+=m(e);return s}function i(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function o(t,e){return m(t>>e&63|128)}function a(t,e){if(0==(4294967168&t))return m(t);var n="";return 0==(4294965248&t)?n=m(t>>6&31|192):0==(4294901760&t)?(i(t,e)||(t=65533),n=m(t>>12&15|224),n+=o(t,6)):0==(4292870144&t)&&(n=m(t>>18&7|240),n+=o(t,12),n+=o(t,6)),n+=m(63&t|128)}function h(){if(g>=p)throw Error("Invalid byte index");var t=255&d[g];if(g++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(t){var e,n,r,s,o;if(g>p)throw Error("Invalid byte index");if(g==p)return!1;if(e=255&d[g],g++,0==(128&e))return e;if(192==(224&e)){if(n=h(),(o=(31&e)<<6|n)>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(n=h(),r=h(),(o=(15&e)<<12|n<<6|r)>=2048)return i(o,t)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=h(),r=h(),s=h(),(o=(7&e)<<18|n<<12|r<<6|s)>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}var c=e,u=t&&t.exports==c&&t,f="object"==typeof oh&&oh;f.global!==f&&f.window!==f||(n=f);var d,p,g,m=String.fromCharCode,_={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,s=r(t),i=s.length,o=-1,h="";++o<i;)h+=a(s[o],n);return h},decode:function(t,e){var n=!1!==(e=e||{}).strict;d=r(t),p=d.length,g=0;for(var i,o=[];!1!==(i=l(n));)o.push(i);return s(o)}};if(c&&!c.nodeType)if(u)u.exports=_;else{var y={}.hasOwnProperty;for(var v in _)y.call(_,v)&&(c[v]=_[v])}else n.utf8=_}(this)}),Hc=function(t,e,n){function r(t,i){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(s=!0,e(t),e=n):0!==r.count||s||e(null,i)}var s=!1;return n=n||fi,r.count=t,0===t?e():r},Fc=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e},qc=Qt(function(t,e){function n(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var s=t.data,i=new Te(1);return i[0]=c[t.type],r(Te.concat([i,s]))}function r(t){try{t=Uc.decode(t,{strict:!1})}catch(t){return!1}return t}function s(t){return t.length+":"+t}function i(t,e,n){for(var r=new Array(t.length),s=Hc(t.length,n),i=0;i<t.length;i++)e(t[i],function(t,e){r[i]=e,s(t,r)})}function o(t){for(var e="",n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);return e}function a(t){for(var e=new Te(t.length),n=0,r=t.length;n<r;n++)e.writeUInt8(t.charCodeAt(n),n);return e}function h(t){for(var e=new Uint8Array(t.buffer||t),n=t.byteLength||t.length,r=t.byteOffset||0,s=new Te(n),i=0;i<n;i++)s[i]=e[r+i];return s}function l(t,n){e.encodePacket(t,!0,!0,function(t){var e,r=""+t.length;if("string"==typeof t){for((e=new Te(r.length+2))[0]=0,s=0;s<r.length;s++)e[s+1]=parseInt(r[s],10);return e[e.length-1]=255,n(null,Te.concat([e,a(t)]))}(e=new Te(r.length+2))[0]=1;for(var s=0;s<r.length;s++)e[s+1]=parseInt(r[s],10);e[e.length-1]=255,n(null,Te.concat([e,t]))})}e.protocol=3;var c=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},u=Fc(c),f={type:"error",data:"parser error"};e.encodePacket=function(t,e,r,s){if("function"==typeof e&&(s=e,e=null),"function"==typeof r&&(s=r,r=null),_n(t.data))return n(t,e,s);if(t.data&&(t.data.buffer||t.data)instanceof ArrayBuffer)return t.data=h(t.data),n(t,e,s);var i=c[t.type];return void 0!==t.data&&(i+=r?Uc.encode(String(t.data),{strict:!1}):String(t.data)),s(""+i)},e.encodeBase64Packet=function(t,e){_n(t.data)||(t.data=h(t.data));var n="b"+c[t.type];return n+=t.data.toString("base64"),e(n)},e.decodePacket=function(t,n,s){if(void 0===t)return f;var i;if("string"==typeof t)return"b"===(i=t.charAt(0))?e.decodeBase64Packet(t.substr(1),n):s&&!1===(t=r(t))?f:Number(i)==i&&u[i]?t.length>1?{type:u[i],data:t.substring(1)}:{type:u[i]}:f;if("arraybuffer"===n){var o=new Uint8Array(t);return i=o[0],{type:u[i],data:o.buffer.slice(1)}}return t instanceof ArrayBuffer&&(t=h(t)),i=t[0],{type:u[i],data:t.slice(1)}},e.decodeBase64Packet=function(t,e){var n=u[t.charAt(0)],r=new Te(t.substr(1),"base64");if("arraybuffer"===e){for(var s=new Uint8Array(r.length),i=0;i<s.length;i++)s[i]=r[i];r=s.buffer}return{type:n,data:r}},e.encodePayload=function(t,n,r){return"function"==typeof n&&(r=n,n=null),n&&wl(t)?e.encodePayloadAsBinary(t,r):t.length?void i(t,function(t,r){e.encodePacket(t,n,!1,function(t){r(null,s(t))})},function(t,e){return r(e.join(""))}):r("0:")},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);if("function"==typeof n&&(r=n,n=null),""===t)return r(f,0,1);for(var s,i,o,a="",h=0,l=t.length;h<l;h++){var c=t.charAt(h);if(":"===c){if(""===a||a!=(s=Number(a)))return r(f,0,1);if(i=t.substr(h+1,s),a!=i.length)return r(f,0,1);if(i.length){if(o=e.decodePacket(i,n,!1),f.type===o.type&&f.data===o.data)return r(f,0,1);if(!1===r(o,h+s,l))return}h+=s,a=""}else a+=c}return""!==a?r(f,0,1):void 0},e.encodePayloadAsBinary=function(t,e){if(!t.length)return e(new Te(0));i(t,l,function(t,n){return e(Te.concat(n))})},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var s,i=t,a=[];i.length>0;){var h="",l=0===i[0];for(s=1;255!==i[s];s++){if(h.length>310)return r(f,0,1);h+=""+i[s]}i=i.slice(h.length+1);var c=parseInt(h,10),u=i.slice(1,c+1);l&&(u=o(u)),a.push(u),i=i.slice(c+1)}var d=a.length;for(s=0;s<d;s++){var p=a[s];r(e.decodePacket(p,n,!0),s,d)}}}),Zc=di;gl(di.prototype),di.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},di.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},di.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},di.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},di.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},di.prototype.onData=function(t){var e=qc.decodePacket(t,this.socket.binaryType);this.onPacket(e)},di.prototype.onPacket=function(t){this.emit("packet",t)},di.prototype.onClose=function(){this.readyState="closed",this.emit("close")};for(var Wc,Vc={encode:function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},decode:function(t){for(var e={},n=t.split("&"),r=0,s=n.length;r<s;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},Yc=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},Gc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),$c=64,Xc={},Kc=0,Jc=0;Jc<$c;Jc++)Xc[Gc[Jc]]=Jc;gi.encode=pi,gi.decode=function(t){var e=0;for(Jc=0;Jc<t.length;Jc++)e=e*$c+Xc[t.charAt(Jc)];return e};var Qc=gi,tu=fl("engine.io-client:polling"),eu=mi,nu=null!=new zc({xdomain:!1}).responseType;Yc(mi,Zc),mi.prototype.name="polling",mi.prototype.doOpen=function(){this.poll()},mi.prototype.pause=function(t){function e(){tu("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(tu("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){tu("pre-pause polling complete"),--r||e()})),this.writable||(tu("we are currently writing - waiting to pause"),r++,this.once("drain",function(){tu("pre-pause writing complete"),--r||e()}))}else e()},mi.prototype.poll=function(){tu("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},mi.prototype.onData=function(t){var e=this;tu("polling got data %s",t);qc.decodePayload(t,this.socket.binaryType,function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():tu('ignoring poll - transport state "%s"',this.readyState))},mi.prototype.doClose=function(){function t(){tu("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(tu("transport open - closing"),t()):(tu("transport not open - deferring close"),this.once("open",t))},mi.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};qc.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},mi.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=Qc()),this.supportsBinary||t.sid||(t.b64=1),t=Vc.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t};var ru=fl("engine.io-client:polling-xhr"),su=yi,iu=vi;Yc(yi,eu),yi.prototype.supportsBinary=!0,yi.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new vi(t)},yi.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),s=this;r.on("success",e),r.on("error",function(t){s.onError("xhr post error",t)}),this.sendXhr=r},yi.prototype.doPoll=function(){ru("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},gl(vi.prototype),vi.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new zc(t),n=this;try{ru("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState){var t;try{t=e.getResponseHeader("Content-Type")}catch(t){}"application/octet-stream"===t&&(e.responseType="arraybuffer")}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},ru("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}oh.document&&(this.index=vi.requestsCount++,vi.requests[this.index]=this)},vi.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},vi.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},vi.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},vi.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=_i:this.xhr.onreadystatechange=_i,t)try{this.xhr.abort()}catch(t){}oh.document&&delete vi.requests[this.index],this.xhr=null}},vi.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},vi.prototype.hasXDR=function(){return void 0!==oh.XDomainRequest&&!this.xs&&this.enablesXDR},vi.prototype.abort=function(){this.cleanup()},vi.requestsCount=0,vi.requests={},oh.document&&(oh.attachEvent?oh.attachEvent("onunload",bi):oh.addEventListener&&oh.addEventListener("beforeunload",bi,!1)),su.Request=iu;var ou,au=ki,hu=/\n/g,lu=/\\n/g;Yc(ki,eu),ki.prototype.supportsBinary=!1,ki.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),eu.prototype.doClose.call(this)},ki.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},ki.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(s.iframe)try{s.form.removeChild(s.iframe)}catch(t){s.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+s.iframeId+'">';i=document.createElement(t)}catch(t){(i=document.createElement("iframe")).name=s.iframeId,i.src="javascript:0"}i.id=s.iframeId,s.form.appendChild(i),s.iframe=i}var s=this;if(!this.form){var i,o=document.createElement("form"),a=document.createElement("textarea"),h=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=h,o.method="POST",o.setAttribute("accept-charset","utf-8"),a.name="d",o.appendChild(a),document.body.appendChild(o),this.form=o,this.area=a}this.form.action=this.uri(),r(),t=t.replace(lu,"\\\n"),this.area.value=t.replace(hu,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===s.iframe.readyState&&n()}:this.iframe.onload=n};var cu=Object.prototype.hasOwnProperty,uu=0;Ei.prototype.on=function(t,e,n){return e.__ultron=this.id,this.ee.on(t,e,n),this},Ei.prototype.once=function(t,e,n){return e.__ultron=this.id,this.ee.once(t,e,n),this},Ei.prototype.remove=function(){var t,e=arguments,n=this.ee;if(1===e.length&&"string"==typeof e[0])e=e[0].split(/[, ]+/);else if(!e.length)if(n.eventNames)e=n.eventNames();else if(n._events){e=[];for(t in n._events)cu.call(n._events,t)&&e.push(t);Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n._events)))}for(var r=0;r<e.length;r++)for(var s=n.listeners(e[r]),i=0;i<s.length;i++){if((t=s[i]).listener){if(t.listener.__ultron!==this.id)continue;delete t.listener.__ultron}else{if(t.__ultron!==this.id)continue;delete t.__ultron}n.removeListener(e[r],t)}return this},Ei.prototype.destroy=function(){return!!this.ee&&(this.remove(),this.ee=null,!0)};var fu=Ei,du=Qt(function(t,e){function n(t,e,n){return Te(t,e,n)}Te.from&&Te.alloc&&Te.allocUnsafe&&Te.allocUnsafeSlow?t.exports=bc:(Object.keys(bc).forEach(function(t){e[t]=bc[t]}),e.Buffer=n),Object.keys(Te).forEach(function(t){n[t]=Te[t]}),n.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return Te(t,e,n)},n.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=Te(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},n.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return Te(t)},n.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return bc.SlowBuffer(t)}}),pu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gu=Uint8Array,mu=Uint16Array,_u=Int32Array,yu=4,vu=0,bu=1,wu=2,ku=0,Eu=1,xu=2,Tu=29,Ru=256,Su=Ru+1+Tu,Au=30,Ou=19,Cu=2*Su+1,Nu=15,Du=16,Lu=7,Mu=256,Pu=16,Bu=17,Iu=18,ju=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],zu=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Uu=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Hu=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Fu=new Array(2*(Su+2));Ri(Fu);var qu=new Array(2*Au);Ri(qu);var Zu=new Array(512);Ri(Zu);var Wu=new Array(256);Ri(Wu);var Vu=new Array(Tu);Ri(Vu);var Yu=new Array(Au);Ri(Yu);var Gu,$u,Xu,Ku,Ju=!1,Qu=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}(),tf=0,ef=1,nf=3,rf=4,sf=5,of=0,af=1,hf=-2,lf=-3,cf=-5,uf=-1,ff=1,df=2,pf=3,gf=4,mf=2,_f=8,yf=9,vf=286,bf=30,wf=19,kf=2*vf+1,Ef=15,xf=3,Tf=258,Rf=Tf+xf+1,Sf=32,Af=42,Of=69,Cf=73,Nf=91,Df=103,Lf=113,Mf=666,Pf=1,Bf=2,If=3,jf=4,zf=3;Ku=[new yo(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(fo(t),0===t.lookahead&&e===tf)return Pf;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,ao(t,!1),0===t.strm.avail_out))return Pf;if(t.strstart-t.block_start>=t.w_size-Rf&&(ao(t,!1),0===t.strm.avail_out))return Pf}return t.insert=0,e===rf?(ao(t,!0),0===t.strm.avail_out?If:jf):(t.strstart>t.block_start&&(ao(t,!1),t.strm.avail_out),Pf)}),new yo(4,4,8,4,po),new yo(4,5,16,8,po),new yo(4,6,32,32,po),new yo(4,4,16,16,go),new yo(8,16,32,32,go),new yo(8,16,128,128,go),new yo(8,32,128,256,go),new yo(32,128,258,1024,go),new yo(32,258,258,4096,go)];var Uf,Hf,Ff=30,qf=12,Zf=15,Wf=852,Vf=592,Yf=0,Gf=1,$f=2,Xf=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Kf=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Jf=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Qf=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],td=0,ed=1,nd=2,rd=4,sd=5,id=6,od=0,ad=1,hd=2,ld=-2,cd=-3,ud=-4,fd=-5,dd=8,pd=1,gd=2,md=3,_d=4,yd=5,vd=6,bd=7,wd=8,kd=9,Ed=10,xd=11,Td=12,Rd=13,Sd=14,Ad=15,Od=16,Cd=17,Nd=18,Dd=19,Ld=20,Md=21,Pd=22,Bd=23,Id=24,jd=25,zd=26,Ud=27,Hd=28,Fd=29,qd=30,Zd=31,Wd=32,Vd=852,Yd=592,Gd=!0,$d=1,Xd=7;jo.prototype.init=function(t,e,n,r,s){this.windowBits=t,this.level=e,this.memLevel=n,this.strategy=r,3!==this.mode&&4!==this.mode||(this.windowBits+=16),this.mode===Xd&&(this.windowBits+=32),5!==this.mode&&6!==this.mode||(this.windowBits=-this.windowBits),this.strm=new xi;var i;switch(this.mode){case $d:case 3:case 5:i=Eo(this.strm,this.level,8,this.windowBits,this.memLevel,this.strategy);break;case 2:case 4:case 6:case Xd:i=Lo(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}0===i?(this.write_in_progress=!1,this.init_done=!0):this._error(i)},jo.prototype.params=function(){throw new Error("deflateParams Not supported")},jo.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(0===this.mode)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},jo.prototype.write=function(t,e,n,r,s,i,o){this._writeCheck(),this.write_in_progress=!0;var a=this;return oe(function(){a.write_in_progress=!1;var h=a._write(t,e,n,r,s,i,o);a.callback(h[0],h[1]),a.pending_close&&a.close()}),this},jo.prototype.writeSync=function(t,e,n,r,s,i,o){return this._writeCheck(),this._write(t,e,n,r,s,i,o)},jo.prototype._write=function(t,e,n,r,s,i,o){if(this.write_in_progress=!0,0!==t&&1!==t&&2!==t&&3!==t&&4!==t&&5!==t)throw new Error("Invalid flush value");null==e&&(e=new Te(0),r=0,n=0),s._set?s.set=s._set:s.set=zo;var a=this.strm;a.avail_in=r,a.input=e,a.next_in=n,a.avail_out=o,a.output=s,a.next_out=i;var h;switch(this.mode){case $d:case 3:case 5:h=xo(a,t);break;case Xd:case 2:case 4:case 6:h=Bo(a,t);break;default:throw new Error("Unknown mode "+this.mode)}return 1!==h&&0!==h&&this._error(h),this.write_in_progress=!1,[a.avail_in,a.avail_out]},jo.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,this.mode===$d||3===this.mode||5===this.mode?To(this.strm):Io(this.strm),this.mode=0)};var Kd;jo.prototype.reset=function(){switch(this.mode){case $d:case 5:Kd=ko(this.strm);break;case 2:case 6:Kd=No(this.strm)}0!==Kd&&this._error(Kd)},jo.prototype._error=function(t){this.onerror(pu[t]+": "+this.strm.msg,t),this.write_in_progress=!1,this.pending_close&&this.close()};var Jd=Object.freeze({NONE:0,DEFLATE:$d,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:Xd,Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8,Zlib:jo}),Qd={};Object.keys(Jd).forEach(function(t){Qd[t]=Jd[t]}),Qd.Z_MIN_WINDOWBITS=8,Qd.Z_MAX_WINDOWBITS=15,Qd.Z_DEFAULT_WINDOWBITS=15,Qd.Z_MIN_CHUNK=64,Qd.Z_MAX_CHUNK=1/0,Qd.Z_DEFAULT_CHUNK=16384,Qd.Z_MIN_MEMLEVEL=1,Qd.Z_MAX_MEMLEVEL=9,Qd.Z_DEFAULT_MEMLEVEL=8,Qd.Z_MIN_LEVEL=-1,Qd.Z_MAX_LEVEL=9,Qd.Z_DEFAULT_LEVEL=Qd.Z_DEFAULT_COMPRESSION;var tp={Z_OK:Qd.Z_OK,Z_STREAM_END:Qd.Z_STREAM_END,Z_NEED_DICT:Qd.Z_NEED_DICT,Z_ERRNO:Qd.Z_ERRNO,Z_STREAM_ERROR:Qd.Z_STREAM_ERROR,Z_DATA_ERROR:Qd.Z_DATA_ERROR,Z_MEM_ERROR:Qd.Z_MEM_ERROR,Z_BUF_ERROR:Qd.Z_BUF_ERROR,Z_VERSION_ERROR:Qd.Z_VERSION_ERROR};Object.keys(tp).forEach(function(t){tp[tp[t]]=t}),tl(_a,ti),_a.prototype.params=function(t,e,n){if(t<Qd.Z_MIN_LEVEL||t>Qd.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(e!=Qd.Z_FILTERED&&e!=Qd.Z_HUFFMAN_ONLY&&e!=Qd.Z_RLE&&e!=Qd.Z_FIXED&&e!=Qd.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+e);if(this._level!==t||this._strategy!==e){var r=this;this.flush(Qd.Z_SYNC_FLUSH,function(){r._binding.params(t,e),r._hadError||(r._level=t,r._strategy=e,n&&n())})}else oe(n)},_a.prototype.reset=function(){return this._binding.reset()},_a.prototype._flush=function(t){this._transform(new Te(0),"",t)},_a.prototype.flush=function(t,e){var n=this._writableState;if(("function"==typeof t||void 0===t&&!e)&&(e=t,t=Qd.Z_FULL_FLUSH),n.ended)e&&oe(e);else if(n.ending)e&&this.once("end",e);else if(n.needDrain){var r=this;this.once("drain",function(){r.flush(e)})}else this._flushFlag=t,this.write(new Te(0),"",e)},_a.prototype.close=function(t){if(t&&oe(t),!this._closed){this._closed=!0,this._binding.close();var e=this;oe(function(){e.emit("close")})}},_a.prototype._transform=function(t,e,n){var r,s=this._writableState,i=(s.ending||s.ended)&&(!t||s.length===t.length);if(null===!t&&!_n(t))return n(new Error("invalid input"));i?r=Qd.Z_FINISH:(r=this._flushFlag,t.length>=s.length&&(this._flushFlag=this._opts.flush||Qd.Z_NO_FLUSH)),this._processChunk(t,r,n)},_a.prototype._processChunk=function(t,e,n){function r(l,f){if(!a._hadError){var d=i-f;if(Uo(d>=0,"have should not go down"),d>0){var p=a._buffer.slice(a._offset,a._offset+d);a._offset+=d,h?a.push(p):(c.push(p),u+=p.length)}if((0===f||a._offset>=a._chunkSize)&&(i=a._chunkSize,a._offset=0,a._buffer=new Te(a._chunkSize)),0===f){if(o+=s-l,s=l,!h)return!0;var g=a._binding.write(e,t,o,s,a._buffer,a._offset,a._chunkSize);return g.callback=r,void(g.buffer=t)}if(!h)return!1;n()}}var s=t&&t.length,i=this._chunkSize-this._offset,o=0,a=this,h="function"==typeof n;if(!h){var l,c=[],u=0;this.on("error",function(t){l=t});do{var f=this._binding.writeSync(e,t,o,s,this._buffer,this._offset,i)}while(!this._hadError&&r(f[0],f[1]));if(this._hadError)throw l;var d=Te.concat(c,u);return this.close(),d}var p=this._binding.write(e,t,o,s,this._buffer,this._offset,i);p.buffer=t,p.callback=r},tl(ca,_a),tl(ua,_a),tl(fa,_a),tl(da,_a),tl(pa,_a),tl(ga,_a),tl(ma,_a);var ep={codes:tp,createDeflate:Ho,createInflate:Fo,createDeflateRaw:qo,createInflateRaw:Zo,createGzip:Wo,createGunzip:Vo,createUnzip:Yo,deflate:Go,deflateSync:$o,gzip:Xo,gzipSync:Ko,deflateRaw:Jo,deflateRawSync:Qo,unzip:ta,unzipSync:ea,inflate:na,inflateSync:ra,gunzip:sa,gunzipSync:ia,inflateRaw:oa,inflateRawSync:aa,Deflate:ca,Inflate:ua,Gzip:fa,Gunzip:da,DeflateRaw:pa,InflateRaw:ga,Unzip:ma,Zlib:_a},np=Object.freeze({codes:tp,createDeflate:Ho,createInflate:Fo,createDeflateRaw:qo,createInflateRaw:Zo,createGzip:Wo,createGunzip:Vo,createUnzip:Yo,deflate:Go,deflateSync:$o,gzip:Xo,gzipSync:Ko,deflateRaw:Jo,deflateRawSync:Qo,unzip:ta,unzipSync:ea,inflate:na,inflateSync:ra,gunzip:sa,gunzipSync:ia,inflateRaw:oa,inflateRawSync:aa,Deflate:ca,Inflate:ua,Gzip:fa,Gunzip:da,DeflateRaw:pa,InflateRaw:ga,Unzip:ma,Zlib:_a,default:ep}),rp=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,sp=function(t){return rp.exec(t).slice(1)},ip={extname:Ra,basename:Ta,dirname:xa,sep:"/",delimiter:":",relative:Ea,join:ka,isAbsolute:wa,normalize:ba,resolve:va},op="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)},ap=Object.freeze({resolve:va,normalize:ba,isAbsolute:wa,join:ka,relative:Ea,sep:"/",delimiter:":",dirname:xa,basename:Ta,extname:Ra,default:ip}),hp=ap&&ip||ap,lp=Qt(function(t,e){var n=hp.join,r=hp.dirname,s=cl.existsSync||hp.existsSync,i={arrow:Nh.env.NODE_BINDINGS_ARROW||"  ",compiled:Nh.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:Nh.platform,arch:Nh.arch,version:Nh.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"]]};t.exports=e=function(t){"string"==typeof t?t={bindings:t}:t||(t={}),t.__proto__=i,t.module_root||(t.module_root=e.getRoot(e.getFileName())),".node"!=hp.extname(t.bindings)&&(t.bindings+=".node");for(var r,s,o,a=[],h=0,l=t.try.length;h<l;h++){r=n.apply(null,t.try[h].map(function(e){return t[e]||e})),a.push(r);try{return s=t.path?Jt.resolve(r):Jt(r),t.path||(s.path=r),s}catch(t){if(!/not find/i.test(t.message))throw t}}throw o=new Error("Could not locate the bindings file. Tried:\n"+a.map(function(e){return t.arrow+e}).join("\n")),o.tries=a,o},e.getFileName=function(t){var e,n=Error.prepareStackTrace,r=Error.stackTraceLimit,s={};return Error.stackTraceLimit=10,Error.prepareStackTrace=function(n,r){for(var s=0,i=r.length;s<i;s++)if("/Users/Max/Desktop/src-2017-results/node_modules/bindings/bindings.js"!==(e=r[s].getFileName())){if(!t)return;if(e!==t)return}},Error.captureStackTrace(s),Error.prepareStackTrace=n,Error.stackTraceLimit=r,e},e.getRoot=function(t){for(var e,i=r(t);;){if("."===i&&(i=Nh.cwd()),s(n(i,"package.json"))||s(n(i,"node_modules")))return i;if(e===i)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');e=i,i=n(i,"..")}}});var cp={mask:(t,e,n,r,s)=>{for(var i=0;i<s;i++)n[r+i]=t[i]^e[3&i]},unmask:(t,e)=>{const n=t.length;for(var r=0;r<n;r++)t[r]^=e[3&r]}},up=Qt(function(t){try{t.exports=lp("bufferutil")}catch(e){t.exports=cp}}),fp=Qt(function(t){const e=du.Buffer,n=(t,n)=>{const r=e.allocUnsafe(n);for(var s=0,i=0;i<t.length;i++){const e=t[i];e.copy(r,s),s+=e.length}return r};try{const e=up;t.exports=Object.assign({concat:n},e.BufferUtil||e)}catch(e){const r=(t,e,n,r,s)=>{for(var i=0;i<s;i++)n[r+i]=t[i]^e[3&i]},s=(t,e)=>{const n=t.length;for(var r=0;r<n;r++)t[r]^=e[3&r]};t.exports={concat:n,mask:r,unmask:s}}}),dp=np&&ep||np;const pp=du.Buffer,gp=[8,9,10,11,12,13,14,15],mp=pp.from([0,0,255,255]),_p=pp.from([0]),yp=15,vp=8;class bp{constructor(t,e,n){this._options=t||{},this._isServer=!!e,this._inflate=null,this._deflate=null,this.params=null,this._maxPayload=n||0,this.threshold=void 0===this._options.threshold?1024:this._options.threshold}static get extensionName(){return"permessage-deflate"}offer(){const t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(t.client_max_window_bits=!0),t}accept(t){t=this.normalizeParams(t);var e;return e=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params=e,e}cleanup(){this._inflate&&(this._inflate.writeInProgress?this._inflate.pendingClose=!0:(this._inflate.close(),this._inflate=null)),this._deflate&&(this._deflate.writeInProgress?this._deflate.pendingClose=!0:(this._deflate.close(),this._deflate=null))}acceptAsServer(t){const e={};if(!t.some(t=>{if(!(!1===this._options.serverNoContextTakeover&&t.server_no_context_takeover||!1===this._options.serverMaxWindowBits&&t.server_max_window_bits||"number"==typeof this._options.serverMaxWindowBits&&"number"==typeof t.server_max_window_bits&&this._options.serverMaxWindowBits>t.server_max_window_bits||"number"==typeof this._options.clientMaxWindowBits&&!t.client_max_window_bits))return(this._options.serverNoContextTakeover||t.server_no_context_takeover)&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),!1!==this._options.clientNoContextTakeover&&t.client_no_context_takeover&&(e.client_no_context_takeover=!0),"number"==typeof this._options.serverMaxWindowBits?e.server_max_window_bits=this._options.serverMaxWindowBits:"number"==typeof t.server_max_window_bits&&(e.server_max_window_bits=t.server_max_window_bits),"number"==typeof this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:!1!==this._options.clientMaxWindowBits&&"number"==typeof t.client_max_window_bits&&(e.client_max_window_bits=t.client_max_window_bits),!0}))throw new Error(`Doesn't support the offered configuration`);return e}acceptAsClient(t){const e=t[0];if(null!=this._options.clientNoContextTakeover&&!1===this._options.clientNoContextTakeover&&e.client_no_context_takeover)throw new Error('Invalid value for "client_no_context_takeover"');if(null!=this._options.clientMaxWindowBits){if(!1===this._options.clientMaxWindowBits&&e.client_max_window_bits)throw new Error('Invalid value for "client_max_window_bits"');if("number"==typeof this._options.clientMaxWindowBits&&(!e.client_max_window_bits||e.client_max_window_bits>this._options.clientMaxWindowBits))throw new Error('Invalid value for "client_max_window_bits"')}return e}normalizeParams(t){return t.map(t=>(Object.keys(t).forEach(e=>{var n=t[e];if(n.length>1)throw new Error(`Multiple extension parameters for ${e}`);switch(n=n[0],e){case"server_no_context_takeover":case"client_no_context_takeover":if(!0!==n)throw new Error(`invalid extension parameter value for ${e} (${n})`);t[e]=!0;break;case"server_max_window_bits":case"client_max_window_bits":if("string"==typeof n&&(n=parseInt(n,10),!~gp.indexOf(n)))throw new Error(`invalid extension parameter value for ${e} (${n})`);if(!this._isServer&&!0===n)throw new Error(`Missing extension parameter value for ${e}`);t[e]=n;break;default:throw new Error(`Not defined extension parameter (${e})`)}}),t))}decompress(t,e,n){const r=this._isServer?"client":"server";if(!this._inflate){const t=this.params[`${r}_max_window_bits`];this._inflate=dp.createInflateRaw({windowBits:"number"==typeof t?t:yp})}this._inflate.writeInProgress=!0;var s=0;const i=[];var o;const a=t=>{if(s+=t.length,this._maxPayload<1||s<=this._maxPayload)return i.push(t);(o=new Error("max payload size exceeded")).closeCode=1009,this._inflate.reset()},h=t=>{l(),n(t)},l=()=>{this._inflate&&(this._inflate.removeListener("error",h),this._inflate.removeListener("data",a),this._inflate.writeInProgress=!1,(e&&this.params[`${r}_no_context_takeover`]||this._inflate.pendingClose)&&(this._inflate.close(),this._inflate=null))};this._inflate.on("error",h).on("data",a),this._inflate.write(t),e&&this._inflate.write(mp),this._inflate.flush(()=>{l(),o?n(o):n(null,fp.concat(i,s))})}compress(t,e,n){if(!t||0===t.length)return void oe(n,null,_p);const r=this._isServer?"server":"client";if(!this._deflate){const t=this.params[`${r}_max_window_bits`];this._deflate=dp.createDeflateRaw({flush:dp.Z_SYNC_FLUSH,windowBits:"number"==typeof t?t:yp,memLevel:this._options.memLevel||vp})}this._deflate.writeInProgress=!0;var s=0;const i=[],o=t=>{s+=t.length,i.push(t)},a=t=>{h(),n(t)},h=()=>{this._deflate&&(this._deflate.removeListener("error",a),this._deflate.removeListener("data",o),this._deflate.writeInProgress=!1,(e&&this.params[`${r}_no_context_takeover`]||this._deflate.pendingClose)&&(this._deflate.close(),this._deflate=null))};this._deflate.on("error",a).on("data",o),this._deflate.write(t),this._deflate.flush(dp.Z_SYNC_FLUSH,()=>{h();var t=fp.concat(i,s);e&&(t=t.slice(0,t.length-4)),n(null,t)})}}var wp=bp;class kp{constructor(t,e){this.target=e,this.type=t}}class Ep extends kp{constructor(t,e,n){super("message",n),this.binary=e,this.data=t}}class xp extends kp{constructor(t,e,n){super("close",n),this.wasClean=void 0===t||1e3===t,this.reason=e,this.target=n,this.type="close",this.code=t}}class Tp extends kp{constructor(t){super("open",t)}}var Rp={addEventListener(t,e){function n(t,n){e.call(this,new Ep(t,!!n.binary,this))}function r(t,n){e.call(this,new xp(t,n,this))}function s(t){t.type="error",t.target=this,e.call(this,t)}function i(){e.call(this,new Tp(this))}"function"==typeof e&&("message"===t?(n._listener=e,this.on(t,n)):"close"===t?(r._listener=e,this.on(t,r)):"error"===t?(s._listener=e,this.on(t,s)):"open"===t?(i._listener=e,this.on(t,i)):this.on(t,e))},removeEventListener(t,e){const n=this.listeners(t);for(var r=0;r<n.length;r++)n[r]!==e&&n[r]._listener!==e||this.removeListener(t,n[r])}},Sp=Qt(function(t){t.exports={format:t=>Object.keys(t).map(e=>{var n=t[e];return Array.isArray(n)||(n=[n]),n.map(t=>[e].concat(Object.keys(t).map(e=>{var n=t[e];return Array.isArray(n)||(n=[n]),n.map(t=>!0===t?e:`${e}=${t}`).join("; ")})).join("; ")).join(", ")}).join(", "),parse:t=>{const e={};return(t=t||"").split(",").forEach(t=>{const n=t.split(";"),r=n.shift().trim(),s=e[r]=e[r]||[],i={};n.forEach(t=>{const e=t.trim().split("="),n=e[0];var r=e[1];void 0===r?r=!0:('"'===r[0]&&(r=r.slice(1)),'"'===r[r.length-1]&&(r=r.slice(0,r.length-1))),(i[n]=i[n]||[]).push(r)}),s.push(i)}),e}}}),Ap={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",EMPTY_BUFFER:du.Buffer.alloc(0),NOOP:()=>{}},Op=Qt(function(t){t.exports=(t=>{if(!_n(t))throw new TypeError("First argument needs to be a buffer");for(var e=t.length,n=0;n<e;)if(t[n]<128)n++;else if(192==(224&t[n])){if(n+1===e||128!=(192&t[n+1])||192==(254&t[n]))return!1;n+=2}else if(224==(240&t[n])){if(n+2>=e||128!=(192&t[n+1])||128!=(192&t[n+2])||224===t[n]&&128==(224&t[n+1])||237===t[n]&&160==(224&t[n+1]))return!1;n+=3}else{if(240!=(248&t[n]))return!1;if(n+3>=e||128!=(192&t[n+1])||128!=(192&t[n+2])||128!=(192&t[n+3])||240===t[n]&&128==(240&t[n+1])||244===t[n]&&t[n+1]>143||t[n]>244)return!1;n+=4}return!0})}),Cp=Qt(function(t){try{t.exports=lp("validation")}catch(e){t.exports=Op}}),Np=Qt(function(t){try{const e=Cp;t.exports="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.exports=(()=>!0)}}),Dp={isValidErrorCode:function(t){return t>=1e3&&t<=1013&&1004!==t&&1005!==t&&1006!==t||t>=3e3&&t<=4999},1e3:"normal",1001:"going away",1002:"protocol error",1003:"unsupported data",1004:"reserved",1005:"reserved for extensions",1006:"reserved for extensions",1007:"inconsistent or invalid data",1008:"policy violation",1009:"message too big",1010:"extension handshake missing",1011:"an unexpected condition prevented the request from being fulfilled",1012:"service restart",1013:"try again later"};const Lp=du.Buffer,Mp=0,Pp=1,Bp=2,Ip=3,jp=4,zp=5;class Up{constructor(t,e,n){this.binaryType=n||Ap.BINARY_TYPES[0],this.extensions=t||{},this.maxPayload=0|e,this.bufferedBytes=0,this.buffers=[],this.compressed=!1,this.payloadLength=0,this.fragmented=0,this.masked=!1,this.fin=!1,this.mask=null,this.opcode=0,this.totalPayloadLength=0,this.messageLength=0,this.fragments=[],this.cleanupCallback=null,this.hadError=!1,this.dead=!1,this.loop=!1,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,this.state=Mp}readBuffer(t){var e,n,r=0;if(this.bufferedBytes-=t,t===this.buffers[0].length)return this.buffers.shift();if(t<this.buffers[0].length)return e=this.buffers[0].slice(0,t),this.buffers[0]=this.buffers[0].slice(t),e;for(e=Lp.allocUnsafe(t);t>0;)t>=(n=this.buffers[0].length)?(this.buffers[0].copy(e,r),r+=n,this.buffers.shift()):(this.buffers[0].copy(e,r,0,t),this.buffers[0]=this.buffers[0].slice(t)),t-=n;return e}hasBufferedBytes(t){return this.bufferedBytes>=t||(this.loop=!1,this.dead&&this.cleanup(this.cleanupCallback),!1)}add(t){this.dead||(this.bufferedBytes+=t.length,this.buffers.push(t),this.startLoop())}startLoop(){for(this.loop=!0;this.loop;)switch(this.state){case Mp:this.getInfo();break;case Pp:this.getPayloadLength16();break;case Bp:this.getPayloadLength64();break;case Ip:this.getMask();break;case jp:this.getData();break;default:this.loop=!1}}getInfo(){if(!this.hasBufferedBytes(2))return;const t=this.readBuffer(2);if(0!=(48&t[0]))return void this.error(new Error("RSV2 and RSV3 must be clear"),1002);const e=64==(64&t[0]);if(!e||this.extensions[wp.extensionName]){if(this.fin=128==(128&t[0]),this.opcode=15&t[0],this.payloadLength=127&t[1],0===this.opcode){if(e)return void this.error(new Error("RSV1 must be clear"),1002);if(!this.fragmented)return void this.error(new Error(`invalid opcode: ${this.opcode}`),1002);this.opcode=this.fragmented}else if(1===this.opcode||2===this.opcode){if(this.fragmented)return void this.error(new Error(`invalid opcode: ${this.opcode}`),1002);this.compressed=e}else{if(!(this.opcode>7&&this.opcode<11))return void this.error(new Error(`invalid opcode: ${this.opcode}`),1002);if(!this.fin)return void this.error(new Error("FIN must be set"),1002);if(e)return void this.error(new Error("RSV1 must be clear"),1002);if(this.payloadLength>125)return void this.error(new Error("invalid payload length"),1002)}this.fin||this.fragmented||(this.fragmented=this.opcode),this.masked=128==(128&t[1]),126===this.payloadLength?this.state=Pp:127===this.payloadLength?this.state=Bp:this.haveLength()}else this.error(new Error("RSV1 must be clear"),1002)}getPayloadLength16(){this.hasBufferedBytes(2)&&(this.payloadLength=this.readBuffer(2).readUInt16BE(0,!0),this.haveLength())}getPayloadLength64(){if(!this.hasBufferedBytes(8))return;const t=this.readBuffer(8),e=t.readUInt32BE(0,!0);e>Math.pow(2,21)-1?this.error(new Error("max payload size exceeded"),1009):(this.payloadLength=e*Math.pow(2,32)+t.readUInt32BE(4,!0),this.haveLength())}haveLength(){this.opcode<8&&this.maxPayloadExceeded(this.payloadLength)||(this.masked?this.state=Ip:this.state=jp)}getMask(){this.hasBufferedBytes(4)&&(this.mask=this.readBuffer(4),this.state=jp)}getData(){var t=Ap.EMPTY_BUFFER;if(this.payloadLength){if(!this.hasBufferedBytes(this.payloadLength))return;t=this.readBuffer(this.payloadLength),this.masked&&fp.unmask(t,this.mask)}this.opcode>7?this.controlMessage(t):this.compressed?(this.state=zp,this.decompress(t)):this.pushFragment(t)&&this.dataMessage()}decompress(t){this.extensions[wp.extensionName].decompress(t,this.fin,(t,e)=>{t?this.error(t,1009===t.closeCode?1009:1007):(this.pushFragment(e)&&this.dataMessage(),this.startLoop())})}dataMessage(){if(this.fin){const e=this.messageLength,n=this.fragments;if(this.totalPayloadLength=0,this.messageLength=0,this.fragmented=0,this.fragments=[],2===this.opcode){var t;t="nodebuffer"===this.binaryType?Aa(n,e):"arraybuffer"===this.binaryType?Oa(Aa(n,e)):n,this.onmessage(t,{masked:this.masked,binary:!0})}else{const t=Aa(n,e);if(!Np(t))return void this.error(new Error("invalid utf8 sequence"),1007);this.onmessage(t.toString(),{masked:this.masked})}}this.state=Mp}controlMessage(t){if(8===this.opcode){if(0===t.length)this.onclose(1e3,"",{masked:this.masked}),this.loop=!1,this.cleanup(this.cleanupCallback);else if(1===t.length)this.error(new Error("invalid payload length"),1002);else{const e=t.readUInt16BE(0,!0);if(!Dp.isValidErrorCode(e))return void this.error(new Error(`invalid status code: ${e}`),1002);const n=t.slice(2);if(!Np(n))return void this.error(new Error("invalid utf8 sequence"),1007);this.onclose(e,n.toString(),{masked:this.masked}),this.loop=!1,this.cleanup(this.cleanupCallback)}return}const e={masked:this.masked,binary:!0};9===this.opcode?this.onping(t,e):this.onpong(t,e),this.state=Mp}error(t,e){this.onerror(t,e),this.hadError=!0,this.loop=!1,this.cleanup(this.cleanupCallback)}maxPayloadExceeded(t){if(0===t||this.maxPayload<1)return!1;const e=this.totalPayloadLength+t;return e<=this.maxPayload?(this.totalPayloadLength=e,!1):(this.error(new Error("max payload size exceeded"),1009),!0)}pushFragment(t){if(0===t.length)return!0;const e=this.messageLength+t.length;return this.maxPayload<1||e<=this.maxPayload?(this.messageLength=e,this.fragments.push(t),!0):(this.error(new Error("max payload size exceeded"),1009),!1)}cleanup(t){this.dead=!0,this.hadError||!this.loop&&this.state!==zp?(this.extensions=null,this.fragments=null,this.buffers=null,this.mask=null,this.cleanupCallback=null,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,t&&t()):this.cleanupCallback=t}}var Hp=Up;const Fp=du.Buffer;class qp{constructor(t,e){this.perMessageDeflate=(e||{})[wp.extensionName],this._socket=t,this.firstFragment=!0,this.compress=!1,this.bufferedBytes=0,this.deflating=!1,this.queue=[],this.onerror=null}static frame(t,e){const n=t.length<1024||e.mask&&e.readOnly;var r=e.mask?6:2,s=t.length;t.length>=65536?(r+=8,s=127):t.length>125&&(r+=2,s=126);const i=Fp.allocUnsafe(n?t.length+r:r);if(i[0]=e.fin?128|e.opcode:e.opcode,e.rsv1&&(i[0]|=64),126===s?i.writeUInt16BE(t.length,2,!0):127===s&&(i.writeUInt32BE(0,2,!0),i.writeUInt32BE(t.length,6,!0)),!e.mask)return i[1]=s,n?(t.copy(i,r),[i]):[i,t];const o=cl.randomBytes(4);return i[1]=128|s,i[r-4]=o[0],i[r-3]=o[1],i[r-2]=o[2],i[r-1]=o[3],n?(fp.mask(t,o,i,r,t.length),[i]):(fp.mask(t,o,t,0,t.length),[i,t])}close(t,e,n,r){if(void 0!==t&&("number"!=typeof t||!Dp.isValidErrorCode(t)))throw new Error("first argument must be a valid error code number");const s=Fp.allocUnsafe(2+(e?Fp.byteLength(e):0));s.writeUInt16BE(t||1e3,0,!0),s.length>2&&s.write(e,2),this.deflating?this.enqueue([this.doClose,s,n,r]):this.doClose(s,n,r)}doClose(t,e,n){this.sendFrame(qp.frame(t,{fin:!0,rsv1:!1,opcode:8,mask:e,readOnly:!1}),n)}ping(t,e){var n=!0;Fp.isBuffer(t)||(t instanceof ArrayBuffer?t=Fp.from(t):ArrayBuffer.isView(t)?t=Ca(t):(t=Fp.from(t),n=!1)),this.deflating?this.enqueue([this.doPing,t,e,n]):this.doPing(t,e,n)}doPing(t,e,n){this.sendFrame(qp.frame(t,{fin:!0,rsv1:!1,opcode:9,mask:e,readOnly:n}))}pong(t,e){var n=!0;Fp.isBuffer(t)||(t instanceof ArrayBuffer?t=Fp.from(t):ArrayBuffer.isView(t)?t=Ca(t):(t=Fp.from(t),n=!1)),this.deflating?this.enqueue([this.doPong,t,e,n]):this.doPong(t,e,n)}doPong(t,e,n){this.sendFrame(qp.frame(t,{fin:!0,rsv1:!1,opcode:10,mask:e,readOnly:n}))}send(t,e,n){var r=e.binary?2:1,s=e.compress,i=!0;if(Fp.isBuffer(t)||(t instanceof ArrayBuffer?t=Fp.from(t):ArrayBuffer.isView(t)?t=Ca(t):(t=Fp.from(t),i=!1)),this.firstFragment?(this.firstFragment=!1,s&&this.perMessageDeflate&&(s=t.length>=this.perMessageDeflate.threshold),this.compress=s):(s=!1,r=0),e.fin&&(this.firstFragment=!0),this.perMessageDeflate){const o={fin:e.fin,rsv1:s,opcode:r,mask:e.mask,readOnly:i};this.deflating?this.enqueue([this.dispatch,t,this.compress,o,n]):this.dispatch(t,this.compress,o,n)}else this.sendFrame(qp.frame(t,{fin:e.fin,rsv1:!1,opcode:r,mask:e.mask,readOnly:i}),n)}dispatch(t,e,n,r){e?(this.deflating=!0,this.perMessageDeflate.compress(t,n.fin,(t,e)=>{t?r?r(t):this.onerror(t):(n.readOnly=!1,this.sendFrame(qp.frame(e,n),r),this.deflating=!1,this.dequeue())})):this.sendFrame(qp.frame(t,n),r)}dequeue(){for(;!this.deflating&&this.queue.length;){const t=this.queue.shift();this.bufferedBytes-=t[1].length,t[0].apply(this,t.slice(1))}}enqueue(t){this.bufferedBytes+=t[1].length,this.queue.push(t)}sendFrame(t,e){2===t.length?(this._socket.write(t[0]),this._socket.write(t[1],e)):this._socket.write(t[0],e)}}var Zp=qp,Wp=vc&&Ar||vc;const Vp=[8,13],Yp=3e4;class Gp extends Wp{constructor(t,e,n){super(),e?"string"==typeof e?e=[e]:Array.isArray(e)||(n=e,e=[]):e=[],this.readyState=Gp.CONNECTING,this.bytesReceived=0,this.extensions={},this.protocol="",this._binaryType=Ap.BINARY_TYPES[0],this._finalize=this.finalize.bind(this),this._finalizeCalled=!1,this._closeMessage=null,this._closeTimer=null,this._closeCode=null,this._receiver=null,this._sender=null,this._socket=null,this._ultron=null,Array.isArray(t)?Na.call(this,t[0],t[1],t[2],n):Da.call(this,t,e,n)}get CONNECTING(){return Gp.CONNECTING}get CLOSING(){return Gp.CLOSING}get CLOSED(){return Gp.CLOSED}get OPEN(){return Gp.OPEN}get bufferedAmount(){var t=0;return this._socket&&(t=this._socket.bufferSize+this._sender.bufferedBytes),t}get binaryType(){return this._binaryType}set binaryType(t){Ap.BINARY_TYPES.indexOf(t)<0||(this._binaryType=t,this._receiver&&(this._receiver.binaryType=t))}setSocket(t,e){t.setTimeout(0),t.setNoDelay(),this._receiver=new Hp(this.extensions,this.maxPayload,this.binaryType),this._sender=new Zp(t,this.extensions),this._ultron=new fu(t),this._socket=t,this._ultron.on("close",this._finalize),this._ultron.on("error",this._finalize),this._ultron.on("end",this._finalize),e&&e.length>0&&(t.unshift(e),e=null),this._ultron.on("data",t=>{this.bytesReceived+=t.length,this._receiver.add(t)}),this._receiver.onmessage=((t,e)=>this.emit("message",t,e)),this._receiver.onping=((t,e)=>{this.pong(t,!this._isServer,!0),this.emit("ping",t,e)}),this._receiver.onpong=((t,e)=>this.emit("pong",t,e)),this._receiver.onclose=((t,e)=>{this._closeMessage=e,this._closeCode=t,this.close(t,e)}),this._receiver.onerror=((t,e)=>{this.close(e,""),this.emit("error",t)}),this._sender.onerror=(t=>{this.close(1002,""),this.emit("error",t)}),this.readyState=Gp.OPEN,this.emit("open")}finalize(t){this._finalizeCalled||(this.readyState=Gp.CLOSING,this._finalizeCalled=!0,clearTimeout(this._closeTimer),this._closeTimer=null,t&&(this._closeCode=1006),this._socket&&(this._ultron.destroy(),this._socket.on("error",function(){this.destroy()}),t?this._socket.destroy():this._socket.end(),this._socket=null,this._ultron=null),this._sender&&(this._sender=this._sender.onerror=null),this._receiver?(this._receiver.cleanup(()=>this.emitClose()),this._receiver=null):this.emitClose())}emitClose(){this.readyState=Gp.CLOSED,this.emit("close",this._closeCode||1006,this._closeMessage||""),this.extensions[wp.extensionName]&&this.extensions[wp.extensionName].cleanup(),this.extensions=null,this.removeAllListeners(),this.on("error",Ap.NOOP)}pause(){if(this.readyState!==Gp.OPEN)throw new Error("not opened");this._socket.pause()}resume(){if(this.readyState!==Gp.OPEN)throw new Error("not opened");this._socket.resume()}close(t,e){this.readyState!==Gp.CLOSED&&(this.readyState!==Gp.CONNECTING?this.readyState!==Gp.CLOSING?(this.readyState=Gp.CLOSING,this._sender.close(t,e,!this._isServer,t=>{t&&this.emit("error",t),this._socket&&(this._closeCode&&this._socket.end(),clearTimeout(this._closeTimer),this._closeTimer=setTimeout(this._finalize,Yp,!0))})):this._closeCode&&this._socket&&this._socket.end():this._req&&!this._req.aborted&&(this._req.abort(),this.emit("error",new Error("closed before the connection is established")),this.finalize(!0)))}ping(t,e,n){if(this.readyState!==Gp.OPEN){if(n)return;throw new Error("not opened")}"number"==typeof t&&(t=t.toString()),void 0===e&&(e=!this._isServer),this._sender.ping(t||Ap.EMPTY_BUFFER,e)}pong(t,e,n){if(this.readyState!==Gp.OPEN){if(n)return;throw new Error("not opened")}"number"==typeof t&&(t=t.toString()),void 0===e&&(e=!this._isServer),this._sender.pong(t||Ap.EMPTY_BUFFER,e)}send(t,e,n){if("function"==typeof e&&(n=e,e={}),this.readyState!==Gp.OPEN){if(!n)throw new Error("not opened");return void n(new Error("not opened"))}"number"==typeof t&&(t=t.toString());const r=Object.assign({binary:"string"!=typeof t,mask:!this._isServer,compress:!0,fin:!0},e);this.extensions[wp.extensionName]||(r.compress=!1),this._sender.send(t||Ap.EMPTY_BUFFER,r,n)}terminate(){this.readyState!==Gp.CLOSED&&(this.readyState!==Gp.CONNECTING?this.finalize(!0):this._req&&!this._req.aborted&&(this._req.abort(),this.emit("error",new Error("closed before the connection is established")),this.finalize(!0)))}}Gp.CONNECTING=0,Gp.OPEN=1,Gp.CLOSING=2,Gp.CLOSED=3,["open","error","close","message"].forEach(t=>{Object.defineProperty(Gp.prototype,`on${t}`,{get(){const e=this.listeners(t);for(var n=0;n<e.length;n++)if(e[n]._listener)return e[n]._listener},set(e){const n=this.listeners(t);for(var r=0;r<n.length;r++)n[r]._listener&&this.removeListener(t,n[r]);this.addEventListener(t,e)}})}),Gp.prototype.addEventListener=Rp.addEventListener,Gp.prototype.removeEventListener=Rp.removeEventListener;var $p=Gp;const Xp=du.Buffer;class Kp extends Wp{constructor(t,e){if(super(),null==(t=Object.assign({maxPayload:104857600,perMessageDeflate:!0,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},t)).port&&!t.server&&!t.noServer)throw new TypeError("missing or invalid options");null!=t.port?(this._server=Ic.createServer((t,e)=>{const n=Ic.STATUS_CODES[426];e.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),e.end(n)}),this._server.allowHalfOpen=!1,this._server.listen(t.port,t.host,t.backlog,e)):t.server&&(this._server=t.server),this._server&&(this._ultron=new fu(this._server),this._ultron.on("listening",()=>this.emit("listening")),this._ultron.on("error",t=>this.emit("error",t)),this._ultron.on("upgrade",(t,e,n)=>{this.handleUpgrade(t,e,n,e=>{this.emit(`connection${t.url}`,e),this.emit("connection",e)})})),t.clientTracking&&(this.clients=new Set),this.options=t,this.path=t.path}close(t){if(this.clients)for(const t of this.clients)t.terminate();const e=this._server;if(e&&(this._ultron.destroy(),this._ultron=this._server=null,null!=this.options.port))return e.close(t);t&&t()}shouldHandle(t){return!this.options.path||Bc.parse(t.url).pathname===this.options.path}handleUpgrade(t,e,n,r){e.on("error",La);const s=+t.headers["sec-websocket-version"];if("GET"!==t.method||"websocket"!==t.headers.upgrade.toLowerCase()||!t.headers["sec-websocket-key"]||8!==s&&13!==s||!this.shouldHandle(t))return Pa(e,400);var i=(t.headers["sec-websocket-protocol"]||"").split(/, */);if(this.options.handleProtocols){if(!1===(i=this.options.handleProtocols(i,t)))return Pa(e,401)}else i=i[0];if(this.options.verifyClient){const o={origin:t.headers[`${8===s?"sec-websocket-origin":"origin"}`],secure:!(!t.connection.authorized&&!t.connection.encrypted),req:t};if(2===this.options.verifyClient.length)return void this.options.verifyClient(o,(o,a,h)=>{if(!o)return Pa(e,a||401,h);this.completeUpgrade(i,s,t,e,n,r)});if(!this.options.verifyClient(o))return Pa(e,401)}this.completeUpgrade(i,s,t,e,n,r)}completeUpgrade(t,e,n,r,s,i){if(!r.readable||!r.writable)return r.destroy();const o=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${cl.createHash("sha1").update(n.headers["sec-websocket-key"]+Ap.GUID,"binary").digest("base64")}`];t&&o.push(`Sec-WebSocket-Protocol: ${t}`);const a=Sp.parse(n.headers["sec-websocket-extensions"]);var h;try{h=Ma(this.options,a)}catch(t){return Pa(r,400)}const l=Object.keys(h);if(l.length){const t=l.reduce((t,e)=>(t[e]=[h[e].params],t),{});o.push(`Sec-WebSocket-Extensions: ${Sp.format(t)}`)}this.emit("headers",o,n),r.write(o.concat("","").join("\r\n"));const c=new $p([n,r,s],null,{maxPayload:this.options.maxPayload,protocolVersion:e,extensions:h,protocol:t});this.clients&&(this.clients.add(c),c.on("close",()=>this.clients.delete(c))),r.removeListener("error",La),i(c)}}var Jp=Kp;$p.Server=Jp,$p.Receiver=Hp,$p.Sender=Zp;var Qp,tg=$p,eg=fl("engine.io-client:websocket"),ng=oh.WebSocket||oh.MozWebSocket;if("undefined"==typeof window)try{Qp=tg}catch(t){}var rg=ng;rg||"undefined"!=typeof window||(rg=Qp);var sg=Ba;Yc(Ba,Zc),Ba.prototype.name="websocket",Ba.prototype.supportsBinary=!0,Ba.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new rg(t,e):new rg(t):new rg(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},Ba.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},Ba.prototype.write=function(t){function e(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var r=t.length,s=0,i=r;s<i;s++)!function(t){qc.encodePacket(t,n.supportsBinary,function(s){if(!n.usingBrowserWebSocket){var i={};t.options&&(i.compress=t.options.compress),n.perMessageDeflate&&("string"==typeof s?oh.Buffer.byteLength(s):s.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(s):n.ws.send(s,i)}catch(t){eg("websocket closed before onclose event")}--r||e()})}(t[s])},Ba.prototype.onClose=function(){Zc.prototype.onClose.call(this)},Ba.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},Ba.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=Qc()),this.supportsBinary||(t.b64=1),(t=Vc.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},Ba.prototype.check=function(){return!(!rg||"__initialize"in rg&&this.name===Ba.prototype.name)};var ig={polling:function(t){var e=!1,n=!1,r=!1!==t.jsonp;if(oh.location){var s="https:"===location.protocol,i=location.port;i||(i=s?443:80),e=t.hostname!==location.hostname||i!==t.port,n=t.secure!==s}if(t.xdomain=e,t.xscheme=n,"open"in new zc(t)&&!t.forceJSONP)return new su(t);if(!r)throw new Error("JSONP disabled");return new au(t)},websocket:sg},og=[].indexOf,ag=function(t,e){if(og)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1},hg=/^[\],:{}\s]*$/,lg=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,cg=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ug=/(?:^|:|,)(?:\s*\[)+/g,fg=/^\s+/,dg=/\s+$/,pg=function(t){return"string"==typeof t&&t?(t=t.replace(fg,"").replace(dg,""),oh.JSON&&JSON.parse?JSON.parse(t):hg.test(t.replace(lg,"@").replace(cg,"]").replace(ug,""))?new Function("return "+t)():void 0):null},gg=fl("engine.io-client:socket"),mg=Ia;Ia.priorWebsocketSuccess=!1,gl(Ia.prototype),Ia.protocol=qc.protocol,Ia.Socket=Ia,Ia.Transport=Zc,Ia.transports=ig,Ia.parser=qc,Ia.prototype.createTransport=function(t){gg('creating transport "%s"',t);var e=ja(this.query);e.EIO=qc.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new ig[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},Ia.prototype.open=function(){var t;if(this.rememberUpgrade&&Ia.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},Ia.prototype.setTransport=function(t){gg("setting transport %s",t.name);var e=this;this.transport&&(gg("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},Ia.prototype.probe=function(t){function e(){if(c.onlyBinaryUpgrades){var e=!this.supportsBinary&&c.transport.supportsBinary;l=l||e}l||(gg('probe transport "%s" opened',t),h.send([{type:"ping",data:"probe"}]),h.once("packet",function(e){if(!l)if("pong"===e.type&&"probe"===e.data){if(gg('probe transport "%s" pong',t),c.upgrading=!0,c.emit("upgrading",h),!h)return;Ia.priorWebsocketSuccess="websocket"===h.name,gg('pausing current transport "%s"',c.transport.name),c.transport.pause(function(){l||"closed"!==c.readyState&&(gg("changing transport and sending upgrade packet"),a(),c.setTransport(h),h.send([{type:"upgrade"}]),c.emit("upgrade",h),h=null,c.upgrading=!1,c.flush())})}else{gg('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=h.name,c.emit("upgradeError",n)}}))}function n(){l||(l=!0,a(),h.close(),h=null)}function r(e){var r=new Error("probe error: "+e);r.transport=h.name,n(),gg('probe transport "%s" failed because of error: %s',t,e),c.emit("upgradeError",r)}function s(){r("transport closed")}function i(){r("socket closed")}function o(t){h&&t.name!==h.name&&(gg('"%s" works - aborting "%s"',t.name,h.name),n())}function a(){h.removeListener("open",e),h.removeListener("error",r),h.removeListener("close",s),c.removeListener("close",i),c.removeListener("upgrading",o)}gg('probing transport "%s"',t);var h=this.createTransport(t,{probe:1}),l=!1,c=this;Ia.priorWebsocketSuccess=!1,h.once("open",e),h.once("error",r),h.once("close",s),this.once("close",i),this.once("upgrading",o),h.open()},Ia.prototype.onOpen=function(){if(gg("socket open"),this.readyState="open",Ia.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){gg("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},Ia.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(gg('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(pg(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else gg('packet received with socket readyState "%s"',this.readyState)},Ia.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Ia.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},Ia.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){gg("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},Ia.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},Ia.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Ia.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(gg("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Ia.prototype.write=Ia.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},Ia.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var s={type:t,data:e,options:n};this.emit("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}},Ia.prototype.close=function(){function t(){r.onClose("forced close"),gg("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},Ia.prototype.onError=function(t){gg("socket error %j",t),Ia.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},Ia.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){gg('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},Ia.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~ag(this.transports,t[n])&&e.push(t[n]);return e};var _g=mg,yg=qc;_g.parser=yg;var vg=_g,bg=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n},wg=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}},kg=[].slice,Eg=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=kg.call(arguments,2);return function(){return e.apply(t,n.concat(kg.call(arguments)))}},xg=Qt(function(t,e){function n(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var r=fl("socket.io-client:socket");t.exports=n;var s={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},i=gl.prototype.emit;gl(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[wg(t,"open",Eg(this,"onopen")),wg(t,"packet",Eg(this,"onpacket")),wg(t,"close",Eg(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},n.prototype.send=function(){var t=bg(arguments);return t.unshift("message"),this.emit.apply(this,t),this},n.prototype.emit=function(t){if(s.hasOwnProperty(t))return i.apply(this,arguments),this;var e=bg(arguments),n={type:Ol.EVENT,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(r("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},n.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},n.prototype.onopen=function(){if(r("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?Vc.encode(this.query):this.query;r("sending connect packet with query %s",t),this.packet({type:Ol.CONNECT,query:t})}else this.packet({type:Ol.CONNECT})},n.prototype.onclose=function(t){r("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},n.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case Ol.CONNECT:this.onconnect();break;case Ol.EVENT:case Ol.BINARY_EVENT:this.onevent(t);break;case Ol.ACK:case Ol.BINARY_ACK:this.onack(t);break;case Ol.DISCONNECT:this.ondisconnect();break;case Ol.ERROR:this.emit("error",t.data)}},n.prototype.onevent=function(t){var e=t.data||[];r("emitting event %j",e),null!=t.id&&(r("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?i.apply(this,e):this.receiveBuffer.push(e)},n.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var s=bg(arguments);r("sending ack %j",s),e.packet({type:Ol.ACK,id:t,data:s})}}},n.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(r("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):r("bad ack %s",t.id)},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)i.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){r("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(r("performing disconnect (%s)",this.nsp),this.packet({type:Ol.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}}),Tg=za;za.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},za.prototype.reset=function(){this.attempts=0},za.prototype.setMin=function(t){this.ms=t},za.prototype.setMax=function(t){this.max=t},za.prototype.setJitter=function(t){this.jitter=t};var Rg=fl("socket.io-client:manager"),Sg=Object.prototype.hasOwnProperty,Ag=Ua;Ua.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)Sg.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},Ua.prototype.updateSocketIds=function(){for(var t in this.nsps)Sg.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},Ua.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},gl(Ua.prototype),Ua.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},Ua.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},Ua.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},Ua.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},Ua.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},Ua.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},Ua.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Ua.prototype.open=Ua.prototype.connect=function(t,e){if(Rg("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Rg("opening %s",this.uri),this.engine=vg(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var s=wg(n,"open",function(){r.onopen(),t&&t()}),i=wg(n,"error",function(e){if(Rg("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;Rg("connect attempt will timeout after %d",o);var a=setTimeout(function(){Rg("connect attempt timed out after %d",o),s.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(s),this.subs.push(i),this},Ua.prototype.onopen=function(){Rg("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(wg(t,"data",Eg(this,"ondata"))),this.subs.push(wg(t,"ping",Eg(this,"onping"))),this.subs.push(wg(t,"pong",Eg(this,"onpong"))),this.subs.push(wg(t,"error",Eg(this,"onerror"))),this.subs.push(wg(t,"close",Eg(this,"onclose"))),this.subs.push(wg(this.decoder,"decoded",Eg(this,"ondecoded")))},Ua.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Ua.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Ua.prototype.ondata=function(t){this.decoder.add(t)},Ua.prototype.ondecoded=function(t){this.emit("packet",t)},Ua.prototype.onerror=function(t){Rg("error",t),this.emitAll("error",t)},Ua.prototype.socket=function(t,e){function n(){~ag(s.connecting,r)||s.connecting.push(r)}var r=this.nsps[t];if(!r){r=new xg(this,t,e),this.nsps[t]=r;var s=this;r.on("connecting",n),r.on("connect",function(){r.id=s.generateId(t)}),this.autoConnect&&n()}return r},Ua.prototype.destroy=function(t){var e=ag(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},Ua.prototype.packet=function(t){Rg("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},Ua.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},Ua.prototype.cleanup=function(){Rg("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Ua.prototype.close=Ua.prototype.disconnect=function(){Rg("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Ua.prototype.onclose=function(t){Rg("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},Ua.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)Rg("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();Rg("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(Rg("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(Rg("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(Rg("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},Ua.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)};var Og=Qt(function(t,e){function n(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=pl(t),o=i.source,a=i.id,h=i.path,l=s[a]&&h in s[a].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||l?(r("ignoring socket cache for %s",o),n=Ag(o,e)):(s[a]||(r("new io instance for %s",o),s[a]=Ag(o,e)),n=s[a]),i.query&&!e.query&&(e.query=i.query),n.socket(i.path,e)}var r=fl("socket.io-client");t.exports=e=n;var s=e.managers={};e.protocol=Ol.protocol,e.connect=n,e.Manager=Ag,e.Socket=xg}),Cg=new(Qt(function(t){!function(e){t.exports?t.exports=e():window.pym=e.call(this)}(function(){var t={},e=function(t){var e=document.createEvent("Event");e.initEvent("pym:"+t,!0,!0),document.dispatchEvent(e)},n=function(t){var e=new RegExp("[\\?&]"+t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},r=function(t,e){if(("*"===e.xdomain||t.origin.match(new RegExp(e.xdomain+"$")))&&"string"==typeof t.data)return!0},s=function(t,e,n){return["pym",t,e,n].join("xPYMx")},i=function(t){var e=["pym",t,"(\\S+)","(.*)"];return new RegExp("^"+e.join("xPYMx")+"$")},o=Date.now||function(){return(new Date).getTime()},a=function(t,e,n){var r,s,i,a=null,h=0;n||(n={});var l=function(){h=!1===n.leading?0:o(),a=null,i=t.apply(r,s),a||(r=s=null)};return function(){var c=o();h||!1!==n.leading||(h=c);var u=e-(c-h);return r=this,s=arguments,u<=0||u>e?(a&&(clearTimeout(a),a=null),h=c,i=t.apply(r,s),a||(r=s=null)):a||!1===n.trailing||(a=setTimeout(l,u)),i}},h=function(){for(var e=t.autoInitInstances.length-1;e>=0;e--){var n=t.autoInitInstances[e];n.el.getElementsByTagName("iframe").length&&n.el.getElementsByTagName("iframe")[0].contentWindow||t.autoInitInstances.splice(e,1)}};return t.autoInitInstances=[],t.autoInit=function(n){var r=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),s=r.length;h();for(var i=0;i<s;++i){var o=r[i];o.setAttribute("data-pym-auto-initialized",""),""===o.id&&(o.id="pym-"+i+"-"+Math.random().toString(36).substr(2,5));var a=o.getAttribute("data-pym-src"),l={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},c={};for(var u in l)if(null!==o.getAttribute("data-pym-"+u))switch(l[u]){case"boolean":c[u]=!("false"===o.getAttribute("data-pym-"+u));break;case"string":c[u]=o.getAttribute("data-pym-"+u);break;case"number":var f=Number(o.getAttribute("data-pym-"+u));isNaN(f)||(c[u]=f);break;default:console.err("unrecognized attribute type")}var d=new t.Parent(o.id,a,c);t.autoInitInstances.push(d)}return n||e("pym-initialized"),t.autoInitInstances},t.Parent=function(t,e,n){this.id=t,this.url=e,this.el=document.getElementById(t),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=i(this.id),this.messageHandlers={},n=n||{},this._constructIframe=function(){var t=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var e="",n=this.url.indexOf("#");for(n>-1&&(e=this.url.substring(n,this.url.length),this.url=this.url.substring(0,n)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+t+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=e,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),void 0!==this.settings.allowfullscreen&&!1!==this.settings.allowfullscreen&&this.iframe.setAttribute("allowfullscreen",""),void 0!==this.settings.sandbox&&"string"==typeof this.settings.sandbox&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}.bind(this),this._onScroll=function(){this.sendViewportAndIFramePosition()}.bind(this),this._fire=function(t,e){if(t in this.messageHandlers)for(var n=0;n<this.messageHandlers[t].length;n++)this.messageHandlers[t][n].call(this,e)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),h()},this._processMessage=function(t){if(r(t,this.settings)&&"string"==typeof t.data){var e=t.data.match(this.messageRegex);if(!e||3!==e.length)return!1;var n=e[1],s=e[2];this._fire(n,s)}}.bind(this),this._onHeightMessage=function(t){var e=parseInt(t);this.iframe.setAttribute("height",e+"px")},this._onNavigateToMessage=function(t){document.location.href=t},this._onScrollToChildPosMessage=function(t){var e=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset+parseInt(t);window.scrollTo(0,e)},this.onMessage=function(t,e){t in this.messageHandlers||(this.messageHandlers[t]=[]),this.messageHandlers[t].push(e)},this.sendMessage=function(t,e){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(s(this.id,t,e),"*"):this.remove())},this.sendWidth=function(){var t=this.el.offsetWidth.toString();this.sendMessage("width",t)},this.sendViewportAndIFramePosition=function(){var t=this.iframe.getBoundingClientRect(),e=(window.innerWidth||document.documentElement.clientWidth)+" "+(window.innerHeight||document.documentElement.clientHeight);e+=" "+t.top+" "+t.left,e+=" "+t.bottom+" "+t.right,this.sendMessage("viewport-iframe-position",e)};for(var o in n)this.settings[o]=n[o];return this._throttleOnScroll=a(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},t.Child=function(t){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},t=t||{},this.onMessage=function(t,e){t in this.messageHandlers||(this.messageHandlers[t]=[]),this.messageHandlers[t].push(e)},this._fire=function(t,e){if(t in this.messageHandlers)for(var n=0;n<this.messageHandlers[t].length;n++)this.messageHandlers[t][n].call(this,e)},this._processMessage=function(t){if(r(t,this.settings)&&"string"==typeof t.data){var e=t.data.match(this.messageRegex);if(e&&3===e.length){var n=e[1],s=e[2];this._fire(n,s)}}}.bind(this),this._onWidthMessage=function(t){var e=parseInt(t);e!==this.parentWidth&&(this.parentWidth=e,this.settings.renderCallback&&this.settings.renderCallback(e),this.sendHeight())},this.sendMessage=function(t,e){window.parent.postMessage(s(this.id,t,e),"*")},this.sendHeight=function(){var t=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",t),t}.bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(t){this.sendMessage("navigateTo","#"+t)},this.navigateParentTo=function(t){this.sendMessage("navigateTo",t)},this.scrollParentToChildEl=function(t){var e=document.getElementById(t).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(e)},this.scrollParentToChildPos=function(t){this.sendMessage("scrollToChildPos",t.toString())};this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)};for(var i in t)this.settings[i]=t[i];this.id=n("childId")||t.id,this.messageRegex=new RegExp("^pymxPYMx"+this.id+"xPYMx(\\S+)xPYMx(.*)$");var o=parseInt(n("initialWidth"));return this.parentUrl=n(this.settings.parenturlparam),this.parentTitle=n("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(o),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),function(t){var n,r=document.getElementsByTagName("html")[0],s=r.className;try{n=window.self!==window.top?"embedded":"not-embedded"}catch(t){n="embedded"}s.indexOf(n)<0&&(r.className=s?s+" "+n:n,t&&t(n),e("marked-embedded"))}(t.onMarkedEmbeddedStatus),this},"undefined"!=typeof document&&t.autoInit(!0),t})}).Child);Cg.sendHeight();var Ng={colors:{NLS:"#753da6",Grassroots:"#008938",SLS:"#235b70","Mod Libs":"#969696",Liberals:"#0873a9",Unity:"#de2b33",Independent:"#fff000","Socialist Alternative":"#d98a01",Solidarity:"#ff00f0",Blank:"#eeeeee"},results:{blog:[{heading:"Loading",meta:"Right damn now",body:"<p>Loading</p>",published:"1",important:""}],copy:[{title:"default",displayresults:"1"}],council:[{faction:"surprise"}],honi:[{},{},{},{},{},{},{},{},{mint:"1",heat:"1"},{mint:"1",heat:"1"},{mint:"1",heat:"1"},{mint:"1234",heat:"2345"}],nus:[],pres:[{},{},{},{},{},{},{},{},{},{},{pytka:"1",pytkapercent:"0.5",grant:"1",grantpercent:"0.5",ma:"1",maapercent:"0.5",informal:"1",informalpercent:"0.5"}]}};window.app=new Kt({target:document.body,data:Ng}),window.app.on("sendTheHeight",function(t){Cg.sendHeight(),console.log("Height sent")}),Og("localhost:5000").on("data",function(t){console.log(t),window.app.set({results:t})})}();
//# sourceMappingURL=bundle.js.map
